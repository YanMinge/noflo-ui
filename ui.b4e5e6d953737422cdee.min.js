(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{102:function(e,t){const n=document.createElement("template");n.innerHTML='<dom-module id="noflo-card-styles">\n  <template>\n    <style>\n    :host {\n      display: block;\n      width: 216px;\n      height: 105px;\n      overflow: hidden;\n      display: inline-block;\n      text-align: center;\n      background-color: var(--noflo-ui-background);\n      color: var(--noflo-ui-text);\n      border-radius: 3px;\n      margin-right: 18px;\n      margin-left: 18px;\n      margin-bottom: 36px;\n      position: relative;\n      cursor: pointer;\n    }\n    h2 {\n      position: absolute;\n      top: 36px;\n      line-height: 36px;\n      width: 150px;\n      text-transform: none;\n      font-size: 12px;\n      text-align: left;\n      white-space: nowrap;\n      left: 18px;\n      padding: 0px;\n      margin: 0px;\n      text-overflow: ellipsis;\n      overflow: hidden;\n    }\n    p {\n      position: absolute;\n      top: 53px;\n      left: 18px;\n      width: 150px;\n      text-transform: uppercase;\n      font-size: 10px;\n      text-align: left;\n      max-height: 36px;\n      overflow: hidden;\n      color: hsl(189, 11%, 50%);\n    }\n    p span {\n      text-overflow: ellipsis;\n      max-width: 100px;\n      white-space: nowrap;\n      overflow: hidden;\n    }\n    #menubutton {\n      position: absolute;\n      right: 36px;\n      top: 18px;\n      background-color: transparent;\n      color: var(--noflo-ui-text);\n      border: 0px;\n      outline: 0px;\n      cursor: pointer;\n    }\n    #menu {\n      position: absolute;\n      right: 36px;\n      top: 36px;\n      padding: 0px;\n      margin: 0px;\n      background-color: var(--noflo-ui-text);\n      color: var(--noflo-ui-background);\n      box-shadow: 3px 3px var(--noflo-ui-background);\n      z-index: 1;\n    }\n    #menu li {\n      list-style: none;\n      text-align: left;\n      margin-bottom: 2px;\n      margin-top: 2px;\n    }\n    #menu li button {\n      background-color: transparent;\n      border: 0px;\n      outline: 0px;\n      color: var(--noflo-ui-background);\n      cursor: pointer;\n      font-family: "SourceCodePro",Helvetica,Arial,sans-serif;\n      text-align: left;\n    }\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(n.content)},106:function(e,t,n){"use strict";var o=n(184),i=n.n(o),r=n(185),a=n.n(r),s=n(45),l=n.n(s),p=n(186),c=n(187),h=n(188),d=n(189),u=n(190),g=n(191),m=a()(i.a),b=l()(p.a),f=l()(c.a),x=l()(h.a,{hash:"#fontawesomeregular"}),y=l()(d.a,{hash:"?#iefix&v=4.0.3"}),v=l()(u.a),k=l()(g.a);m.push([e.i,'input::-webkit-input-speech-button {\n  margin-right: 18px;\n  cursor: pointer;\n}\n\nhtml, body {\n  width: 100%;\n  height: 100%;\n}\n\nbody {\n  --noflo-ui-background: hsla(0, 0%, 0%, 0.98);\n  --noflo-ui-background-shadow: hsla(0, 0%, 0%, 0.5);\n  --noflo-ui-text: hsl(192, 25%, 92%);\n  --noflo-ui-text-highlight: hsl(185,100%,75%);\n  --noflo-ui-border: hsla(190, 90%, 80%, 0.3);\n  --noflo-ui-border-highlight: hsl(190, 90%, 80%);\n  --noflo-ui-base-unit: 72px;\n}\nbody.light {\n  --noflo-ui-background: hsl(192, 25%, 92%);\n  --noflo-ui-background-shadow: hsla(192, 25%, 100%, 0.3);\n  --noflo-ui-text: hsla(0, 0%, 0%, 0.98);\n  --noflo-ui-text-highlight: hsl(185,100%,15%);\n  --noflo-ui-border: hsla(190, 90%, 8%, 0.3);\n  --noflo-ui-border-highlight: hsl(190, 90%, 8%);\n}\n\nbody {\n  /* iOS don\'t clash with our hold behavior */\n  -webkit-user-select: none;                /* disable cut copy paste */\n  -webkit-touch-callout: none;              /* disable callout, image save panel */\n  -webkit-tap-highlight-color: transparent; /* "turn off" link highlight */\n}\n\nbody #loading {\n  opacity: 0;\n  -webkit-transition: opacity 0.3s ease-in;\n  -moz-transition: opacity 0.3s ease-in;\n  -ms-transition: opacity 0.3s ease-in;\n  -o-transition: opacity 0.3s ease-in;\n  z-index: -1;\n  width: 400px;\n  color: var(--noflo-ui-text-highlight);\n  text-align: center;\n  top: calc(50% - 18px);\n  left: calc(50% - 200px);\n  font-size: 36px;\n  position: fixed;\n}\n\nbody.loading #loading {\n  display: block;\n  opacity: 1;\n  top: calc(50% - 18px);\n  left: calc(50% - 200px);\n  font-size: 36px;\n  animation: pulsate 2s ease-in-out;\n  animation-iteration-count: infinite;\n  -webkit-animation: pulsate 2s ease-in-out;\n  -webkit-animation-iteration-count: infinite;\n  text-align: center;\n  z-index: 10;\n}\nbody noflo-ui {\n  opacity: 1;\n  transition: opacity 0.3s ease-in;\n  -webkit-transition: opacity 0.3s ease-in;\n  -moz-transition: opacity 0.3s ease-in;\n  -ms-transition: opacity 0.3s ease-in;\n  -o-transition: opacity 0.3s ease-in;\n  display: block;\n  width: 100vw;\n  height: 100vh;\n}\nbody.loading noflo-ui {\n  opacity: 0;\n}\n@keyframes pulsate {\n  0% {\n    transform: scale(1.0, 1.0);\n    opacity: 0.1;\n  }\n  50% {\n    transform: scale(1.1, 1.1);\n    opacity: 1;\n  }\n  100% {\n    transform: scale(1.0, 1.0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes pulsate {\n  0% {\n    -webkit-transform: scale(1.0, 1.0);\n    opacity: 0.1;\n  }\n  50% {\n    -webkit-transform: scale(1.1, 1.1);\n    opacity: 1;\n  }\n  100% {\n    -webkit-transform: scale(1.0, 1.0);\n    opacity: 0;\n  }\n}\n\nbutton {\n  padding:0;\n  cursor: pointer;\n  background-image: none;\n  border: 0;\n}\n\n#bugreport {\n  color: hsl(189, 50%, 80%);\n  position: fixed;\n  right: 11px;\n  top: 0px;\n  z-index: 10;\n  line-height: 36px;\n  font-size: 14px;\n}\n#openhelp {\n  color: hsl(189, 50%, 80%);\n  position: fixed;\n  right: 14px;\n  top: 36px;\n  z-index: 10;\n  line-height: 36px;\n  font-size: 14px;\n}\n\n#container.blur {\n  -webkit-filter: blur(2px);\n  -moz-filter: blur(2px);\n  filter: blur(2px);\n  width: 100%;\n  height: 100%;\n  position: absolute;\n\n  overflow: hidden;\n}\n\n#container > pre {\n  display: none;\n}\n\nh1, h2, h3 {\n  font-weight: normal;\n}\n\n.gpu {\n  -webkit-transform: translateZ(0);\n  -transform: translateZ(0);\n}\n\n@font-face {\n  font-family: "SourceCodePro";\n  src: url('+b+") format('woff');\n}\n@font-face {\n  font-family: \"SourceCodePro\";\n  src: url("+f+") format('woff');\n  font-weight: bold;\n}\n@font-face {\n  font-family: 'FontAwesomeSVG';\n  src: url("+x+") format('svg'),\n    url("+y+") format('embedded-opentype'),\n    url("+v+") format('woff'),\n    url("+k+") format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\n\nhtml, body, button {\n  background-color: var(--noflo-ui-background);\n  color: var(--noflo-ui-text);\n  font-family: \"SourceCodePro\",Helvetica,Arial,sans-serif;\n  margin: 0;\n  padding: 0;\n}\n\n.iframe-runtime {\n  display: none;\n  border: none;\n  width: 288px;\n  height: 288px;\n  box-sizing: border-box;\n  position: fixed;\n  right: 0px;\n  top: 72px;\n  z-index: 2;\n  background-color: var(--noflo-ui-background) !important;\n  background-image: radial-gradient(1px at 0px 0px, hsl(210, 50%, 60%) 0.5px, var(--noflo-ui-background) 1px);\n  background-size: calc(100% - 1px);\n  background-position: 0px;\n  border-bottom: 1px var(--noflo-ui-border) solid;\n}\n\n#container > .preview-container {\n  display: none;\n}\n\n#zoomrange {\n  display: none;\n}\n\nthe-graph-nav {\n  right: 36px !important;\n  bottom: 36px !important;\n}\n\n\n\n\n::-webkit-scrollbar {\n  width: 2px;\n}\n::-webkit-scrollbar-thumb {\n  -webkit-border-radius: 5px;\n  border-radius: 1px;\n  background: hsla(191, 100%, 92%, 0.3);\n  -webkit-box-shadow: inset 0 0 6px hsla(0, 0%, 0%, 0.5);\n}\n\n::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 6px hsla(0, 0%, 0%, 0.3);\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  background-color: hsl(0, 0%, 0%);\n}\n\nh1,\nh2,\nh3 {\n  font-weight: normal;\n}\n\ninput:focus,\nselect:focus,\ntextarea:focus,\nbutton:focus,\nh1,\nh2,\nh3,\ndiv,\na,\np,\ndiv {\n  outline:none;\n}\n\nth {\n  text-align: left;\n}\n\ndiv.error {\n  color: hsla( 0, 98%, 46%, .8);\n}\n\n.red-button {\n  background-color: hsla(0, 100%, 20%, 0.2);\n  color: hsl(0, 100%, 65%);\n}\n.blue-button {\n  background-color: hsla(190, 100%, 20%, 0.2);\n  color: hsl(190, 100%, 65%);\n}\n\n#flowhub_debug_url {\n  position: fixed;\n  bottom: 0px;\n  right: 0px;\n  font-size: 18px;\n  padding: 9px;\n  z-index: 10;\n  background-color: hsla(190, 100%, 20%, 0.2);\n  color: var(--noflo-ui-text);\n  border-left: 1px solid var(--noflo-ui-background);\n  border-top: 1px solid var(--noflo-ui-background);\n  cursor: pointer;\n}\n","",{version:3,sources:["webpack://./css/noflo-ui.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,4CAA4C;EAC5C,kDAAkD;EAClD,mCAAmC;EACnC,4CAA4C;EAC5C,2CAA2C;EAC3C,+CAA+C;EAC/C,0BAA0B;AAC5B;AACA;EACE,yCAAyC;EACzC,uDAAuD;EACvD,sCAAsC;EACtC,4CAA4C;EAC5C,0CAA0C;EAC1C,8CAA8C;AAChD;;AAEA;EACE,2CAA2C;EAC3C,yBAAyB,iBAAiB,2BAA2B;EACrE,2BAA2B,eAAe,sCAAsC;EAChF,wCAAwC,EAAE,8BAA8B;AAC1E;;AAEA;EACE,UAAU;EACV,wCAAwC;EACxC,qCAAqC;EACrC,oCAAoC;EACpC,mCAAmC;EACnC,WAAW;EACX,YAAY;EACZ,qCAAqC;EACrC,kBAAkB;EAClB,qBAAqB;EACrB,uBAAuB;EACvB,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,cAAc;EACd,UAAU;EACV,qBAAqB;EACrB,uBAAuB;EACvB,eAAe;EACf,iCAAiC;EACjC,mCAAmC;EACnC,yCAAyC;EACzC,2CAA2C;EAC3C,kBAAkB;EAClB,WAAW;AACb;AACA;EACE,UAAU;EACV,gCAAgC;EAChC,wCAAwC;EACxC,qCAAqC;EACrC,oCAAoC;EACpC,mCAAmC;EACnC,cAAc;EACd,YAAY;EACZ,aAAa;AACf;AACA;EACE,UAAU;AACZ;AACA;EACE;IACE,0BAA0B;IAC1B,YAAY;EACd;EACA;IACE,0BAA0B;IAC1B,UAAU;EACZ;EACA;IACE,0BAA0B;IAC1B,UAAU;EACZ;AACF;AACA;EACE;IACE,kCAAkC;IAClC,YAAY;EACd;EACA;IACE,kCAAkC;IAClC,UAAU;EACZ;EACA;IACE,kCAAkC;IAClC,UAAU;EACZ;AACF;;AAEA;EACE,SAAS;EACT,eAAe;EACf,sBAAsB;EACtB,SAAS;AACX;;AAEA;EACE,yBAAyB;EACzB,eAAe;EACf,WAAW;EACX,QAAQ;EACR,WAAW;EACX,iBAAiB;EACjB,eAAe;AACjB;AACA;EACE,yBAAyB;EACzB,eAAe;EACf,WAAW;EACX,SAAS;EACT,WAAW;EACX,iBAAiB;EACjB,eAAe;AACjB;;AAEA;EACE,yBAAyB;EACzB,sBAAsB;EACtB,iBAAiB;EACjB,WAAW;EACX,YAAY;EACZ,kBAAkB;;EAElB,gBAAgB;AAClB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,gCAAgC;EAChC,yBAAyB;AAC3B;;AAEA;EACE,4BAA4B;EAC5B,2DAAyD;AAC3D;AACA;EACE,4BAA4B;EAC5B,2DAAsD;EACtD,iBAAiB;AACnB;AACA;EACE,6BAA6B;EAC7B;;;8DAG8F;EAC9F,mBAAmB;EACnB,kBAAkB;AACpB;;AAEA;EACE,4CAA4C;EAC5C,2BAA2B;EAC3B,uDAAuD;EACvD,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,YAAY;EACZ,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,eAAe;EACf,UAAU;EACV,SAAS;EACT,UAAU;EACV,uDAAuD;EACvD,2GAA2G;EAC3G,iCAAiC;EACjC,wBAAwB;EACxB,+CAA+C;AACjD;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,sBAAsB;EACtB,uBAAuB;AACzB;;;;;AAKA;EACE,UAAU;AACZ;AACA;EACE,0BAA0B;EAC1B,kBAAkB;EAClB,qCAAqC;EACrC,sDAAsD;AACxD;;AAEA;EACE,sDAAsD;EACtD,0BAA0B;EAC1B,kBAAkB;EAClB,gCAAgC;AAClC;;AAEA;;;EAGE,mBAAmB;AACrB;;AAEA;;;;;;;;;;;EAWE,YAAY;AACd;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,yCAAyC;EACzC,wBAAwB;AAC1B;AACA;EACE,2CAA2C;EAC3C,0BAA0B;AAC5B;;AAEA;EACE,eAAe;EACf,WAAW;EACX,UAAU;EACV,eAAe;EACf,YAAY;EACZ,WAAW;EACX,2CAA2C;EAC3C,2BAA2B;EAC3B,iDAAiD;EACjD,gDAAgD;EAChD,eAAe;AACjB",sourcesContent:["input::-webkit-input-speech-button {\n  margin-right: 18px;\n  cursor: pointer;\n}\n\nhtml, body {\n  width: 100%;\n  height: 100%;\n}\n\nbody {\n  --noflo-ui-background: hsla(0, 0%, 0%, 0.98);\n  --noflo-ui-background-shadow: hsla(0, 0%, 0%, 0.5);\n  --noflo-ui-text: hsl(192, 25%, 92%);\n  --noflo-ui-text-highlight: hsl(185,100%,75%);\n  --noflo-ui-border: hsla(190, 90%, 80%, 0.3);\n  --noflo-ui-border-highlight: hsl(190, 90%, 80%);\n  --noflo-ui-base-unit: 72px;\n}\nbody.light {\n  --noflo-ui-background: hsl(192, 25%, 92%);\n  --noflo-ui-background-shadow: hsla(192, 25%, 100%, 0.3);\n  --noflo-ui-text: hsla(0, 0%, 0%, 0.98);\n  --noflo-ui-text-highlight: hsl(185,100%,15%);\n  --noflo-ui-border: hsla(190, 90%, 8%, 0.3);\n  --noflo-ui-border-highlight: hsl(190, 90%, 8%);\n}\n\nbody {\n  /* iOS don't clash with our hold behavior */\n  -webkit-user-select: none;                /* disable cut copy paste */\n  -webkit-touch-callout: none;              /* disable callout, image save panel */\n  -webkit-tap-highlight-color: transparent; /* \"turn off\" link highlight */\n}\n\nbody #loading {\n  opacity: 0;\n  -webkit-transition: opacity 0.3s ease-in;\n  -moz-transition: opacity 0.3s ease-in;\n  -ms-transition: opacity 0.3s ease-in;\n  -o-transition: opacity 0.3s ease-in;\n  z-index: -1;\n  width: 400px;\n  color: var(--noflo-ui-text-highlight);\n  text-align: center;\n  top: calc(50% - 18px);\n  left: calc(50% - 200px);\n  font-size: 36px;\n  position: fixed;\n}\n\nbody.loading #loading {\n  display: block;\n  opacity: 1;\n  top: calc(50% - 18px);\n  left: calc(50% - 200px);\n  font-size: 36px;\n  animation: pulsate 2s ease-in-out;\n  animation-iteration-count: infinite;\n  -webkit-animation: pulsate 2s ease-in-out;\n  -webkit-animation-iteration-count: infinite;\n  text-align: center;\n  z-index: 10;\n}\nbody noflo-ui {\n  opacity: 1;\n  transition: opacity 0.3s ease-in;\n  -webkit-transition: opacity 0.3s ease-in;\n  -moz-transition: opacity 0.3s ease-in;\n  -ms-transition: opacity 0.3s ease-in;\n  -o-transition: opacity 0.3s ease-in;\n  display: block;\n  width: 100vw;\n  height: 100vh;\n}\nbody.loading noflo-ui {\n  opacity: 0;\n}\n@keyframes pulsate {\n  0% {\n    transform: scale(1.0, 1.0);\n    opacity: 0.1;\n  }\n  50% {\n    transform: scale(1.1, 1.1);\n    opacity: 1;\n  }\n  100% {\n    transform: scale(1.0, 1.0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes pulsate {\n  0% {\n    -webkit-transform: scale(1.0, 1.0);\n    opacity: 0.1;\n  }\n  50% {\n    -webkit-transform: scale(1.1, 1.1);\n    opacity: 1;\n  }\n  100% {\n    -webkit-transform: scale(1.0, 1.0);\n    opacity: 0;\n  }\n}\n\nbutton {\n  padding:0;\n  cursor: pointer;\n  background-image: none;\n  border: 0;\n}\n\n#bugreport {\n  color: hsl(189, 50%, 80%);\n  position: fixed;\n  right: 11px;\n  top: 0px;\n  z-index: 10;\n  line-height: 36px;\n  font-size: 14px;\n}\n#openhelp {\n  color: hsl(189, 50%, 80%);\n  position: fixed;\n  right: 14px;\n  top: 36px;\n  z-index: 10;\n  line-height: 36px;\n  font-size: 14px;\n}\n\n#container.blur {\n  -webkit-filter: blur(2px);\n  -moz-filter: blur(2px);\n  filter: blur(2px);\n  width: 100%;\n  height: 100%;\n  position: absolute;\n\n  overflow: hidden;\n}\n\n#container > pre {\n  display: none;\n}\n\nh1, h2, h3 {\n  font-weight: normal;\n}\n\n.gpu {\n  -webkit-transform: translateZ(0);\n  -transform: translateZ(0);\n}\n\n@font-face {\n  font-family: \"SourceCodePro\";\n  src: url(\"SourceCodePro-Regular.otf.woff\") format('woff');\n}\n@font-face {\n  font-family: \"SourceCodePro\";\n  src: url(\"SourceCodePro-Bold.otf.woff\") format('woff');\n  font-weight: bold;\n}\n@font-face {\n  font-family: 'FontAwesomeSVG';\n  src: url('../node_modules/font-awesome/fonts/fontawesome-webfont.svg?v=4.0.3#fontawesomeregular') format('svg'),\n    url('../node_modules/font-awesome/fonts/fontawesome-webfont.eot?#iefix&v=4.0.3') format('embedded-opentype'),\n    url('../node_modules/font-awesome/fonts/fontawesome-webfont.woff?v=4.0.3') format('woff'),\n    url('../node_modules/font-awesome/fonts/fontawesome-webfont.ttf?v=4.0.3') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\n\nhtml, body, button {\n  background-color: var(--noflo-ui-background);\n  color: var(--noflo-ui-text);\n  font-family: \"SourceCodePro\",Helvetica,Arial,sans-serif;\n  margin: 0;\n  padding: 0;\n}\n\n.iframe-runtime {\n  display: none;\n  border: none;\n  width: 288px;\n  height: 288px;\n  box-sizing: border-box;\n  position: fixed;\n  right: 0px;\n  top: 72px;\n  z-index: 2;\n  background-color: var(--noflo-ui-background) !important;\n  background-image: radial-gradient(1px at 0px 0px, hsl(210, 50%, 60%) 0.5px, var(--noflo-ui-background) 1px);\n  background-size: calc(100% - 1px);\n  background-position: 0px;\n  border-bottom: 1px var(--noflo-ui-border) solid;\n}\n\n#container > .preview-container {\n  display: none;\n}\n\n#zoomrange {\n  display: none;\n}\n\nthe-graph-nav {\n  right: 36px !important;\n  bottom: 36px !important;\n}\n\n\n\n\n::-webkit-scrollbar {\n  width: 2px;\n}\n::-webkit-scrollbar-thumb {\n  -webkit-border-radius: 5px;\n  border-radius: 1px;\n  background: hsla(191, 100%, 92%, 0.3);\n  -webkit-box-shadow: inset 0 0 6px hsla(0, 0%, 0%, 0.5);\n}\n\n::-webkit-scrollbar-track {\n  -webkit-box-shadow: inset 0 0 6px hsla(0, 0%, 0%, 0.3);\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  background-color: hsl(0, 0%, 0%);\n}\n\nh1,\nh2,\nh3 {\n  font-weight: normal;\n}\n\ninput:focus,\nselect:focus,\ntextarea:focus,\nbutton:focus,\nh1,\nh2,\nh3,\ndiv,\na,\np,\ndiv {\n  outline:none;\n}\n\nth {\n  text-align: left;\n}\n\ndiv.error {\n  color: hsla( 0, 98%, 46%, .8);\n}\n\n.red-button {\n  background-color: hsla(0, 100%, 20%, 0.2);\n  color: hsl(0, 100%, 65%);\n}\n.blue-button {\n  background-color: hsla(190, 100%, 20%, 0.2);\n  color: hsl(190, 100%, 65%);\n}\n\n#flowhub_debug_url {\n  position: fixed;\n  bottom: 0px;\n  right: 0px;\n  font-size: 18px;\n  padding: 9px;\n  z-index: 10;\n  background-color: hsla(190, 100%, 20%, 0.2);\n  color: var(--noflo-ui-text);\n  border-left: 1px solid var(--noflo-ui-background);\n  border-top: 1px solid var(--noflo-ui-background);\n  cursor: pointer;\n}\n"],sourceRoot:""}]),t.a=m},17:function(e,t,n){const o=n(23),{findByComponent:i}=n(29),{getName:r,namespace:a}=n(8);t.graphRuntimeIdentifier=(e,t=null)=>{if(e&&e.properties&&e.properties.runtimeName)return e.properties.runtimeName;const n=r(e);return t?a(n,t):n};const s=e=>({name:e.id,type:e.type,description:e.type,addressable:e.addressable,schema:e.schema});t.componentForLibrary=e=>({name:e.name,icon:e.icon||"cog",description:e.description||"",subgraph:e.subgraph,inports:e.inPorts.map(s),outports:e.outPorts.map(s)}),t.getGraphType=e=>{const t=e;return(null!=t.properties.environment?t.properties.environment.type:void 0)||"html"!==(null!=t.properties.environment?t.properties.environment.runtime:void 0)||(t.properties.environment.type="noflo-browser"),(null!=t.properties.environment?t.properties.environment.type:void 0)?t.properties.environment.type:null},t.getComponentType=e=>{const t=e.code.match(/@runtime ([a-z-]+)/);return t?t[1]:null},t.getSource=(e,t)=>e.protocol.component.getsource({name:t}).catch(n=>-1!==t.indexOf("/")?Promise.reject(n):e.definition.namespace?e.protocol.component.getsource({name:`${e.definition.namespace}/${t}`}):Promise.reject(n)),t.getRemoteNodes=(e,n)=>{const o=n;return o.remote.reduce((n,r)=>n.then(n=>{if(!(null!=n.nodes?n.nodes.length:void 0))return Promise.reject(new Error(`Node ${n.name} doesn't contain child nodes`));const[a]=n.nodes.filter(e=>e.id===r);if(!a)return Promise.reject(new Error(`Node ${r} not found in graph ${n.name||n.properties.id}`));const[s,l]=i(a.component,o.project);return"graph"===s?(o.graphs.push(l),Promise.resolve(l)):"component"===s?(o.component=l,Promise.resolve(l)):t.getSource(e,a.component).then(e=>["json","fbp"].includes(e.language)?t.loadGraph(e).then(e=>(o.graphs.push(e),Promise.resolve(e))):(o.component=e,Promise.resolve(e)))}),Promise.resolve(o.graphs[o.graphs.length-1])).then(()=>(o.remote=[],o))},t.loadGraph=e=>{let t;switch(e.language){case"json":t="loadJSON";break;case"fbp":t="loadFBP";break;default:return Promise.reject(new Error(`Unknown format ${e.language} for graph ${e.name}`))}return t="json"===e.language?"loadJSON":"loadFBP",o.graph[t](e.code).then(t=>{const n=t;return n.name=e.name,n})},t.isDefaultRuntime=e=>"iframe"===e.protocol&&"https://noflojs.org/noflo-browser/everything.html?fbp_noload=true&fbp_protocol=iframe"===e.address,t.ensureIframe=(e,t)=>{const n=e;if("iframe"!==n.definition.protocol)return Promise.resolve();n.definition.querySelector=`iframe[data-runtime='${n.definition.id}']`;let o=document.body.querySelector(n.definition.querySelector);return o||(o=document.createElement("iframe"),o.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),o.setAttribute("data-runtime",n.definition.id),o.setAttribute("data-project",t.id),o.className="iframe-runtime",document.body.appendChild(o)),n.transport.iframe?n.transport.iframe===o?Promise.resolve():n.disconnect().then(()=>(n.transport.iframe=o,Promise.resolve())):(n.transport.iframe=o,Promise.resolve())}},179:function(e,t){const n=document.createElement("template");n.innerHTML='\n<dom-module id="codemirror-styles">\n  <template>\n    <style>\n      /* The lint marker gutter */\n.CodeMirror-lint-markers {\n  width: 16px;\n}\n\n.CodeMirror-lint-tooltip {\n  background-color: #ffd;\n  border: 1px solid black;\n  border-radius: 4px 4px 4px 4px;\n  color: black;\n  font-family: monospace;\n  font-size: 10pt;\n  overflow: hidden;\n  padding: 2px 5px;\n  position: fixed;\n  white-space: pre;\n  white-space: pre-wrap;\n  z-index: 100;\n  max-width: 600px;\n  opacity: 0;\n  transition: opacity .4s;\n  -moz-transition: opacity .4s;\n  -webkit-transition: opacity .4s;\n  -o-transition: opacity .4s;\n  -ms-transition: opacity .4s;\n}\n\n.CodeMirror-lint-mark {\n  background-position: left bottom;\n  background-repeat: repeat-x;\n}\n\n.CodeMirror-lint-mark-warning {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJFhQXEbhTg7YAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAMklEQVQI12NkgIIvJ3QXMjAwdDN+OaEbysDA4MPAwNDNwMCwiOHLCd1zX07o6kBVGQEAKBANtobskNMAAAAASUVORK5CYII=");\n}\n\n.CodeMirror-lint-mark-error {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg==");\n}\n\n.CodeMirror-lint-marker {\n  background-position: center center;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  display: inline-block;\n  height: 16px;\n  width: 16px;\n  vertical-align: middle;\n  position: relative;\n}\n\n.CodeMirror-lint-message {\n  padding-left: 18px;\n  background-position: top left;\n  background-repeat: no-repeat;\n}\n\n.CodeMirror-lint-marker-warning, .CodeMirror-lint-message-warning {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAANlBMVEX/uwDvrwD/uwD/uwD/uwD/uwD/uwD/uwD/uwD6twD/uwAAAADurwD2tQD7uAD+ugAAAAD/uwDhmeTRAAAADHRSTlMJ8mN1EYcbmiixgACm7WbuAAAAVklEQVR42n3PUQqAIBBFUU1LLc3u/jdbOJoW1P08DA9Gba8+YWJ6gNJoNYIBzAA2chBth5kLmG9YUoG0NHAUwFXwO9LuBQL1giCQb8gC9Oro2vp5rncCIY8L8uEx5ZkAAAAASUVORK5CYII=");\n}\n\n.CodeMirror-lint-marker-error, .CodeMirror-lint-message-error {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAHlBMVEW7AAC7AACxAAC7AAC7AAAAAAC4AAC5AAD///+7AAAUdclpAAAABnRSTlMXnORSiwCK0ZKSAAAATUlEQVR42mWPOQ7AQAgDuQLx/z8csYRmPRIFIwRGnosRrpamvkKi0FTIiMASR3hhKW+hAN6/tIWhu9PDWiTGNEkTtIOucA5Oyr9ckPgAWm0GPBog6v4AAAAASUVORK5CYII=");\n}\n\n.CodeMirror-lint-marker-multiple {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAMAAADzjKfhAAAACVBMVEUAAAAAAAC/v7914kyHAAAAAXRSTlMAQObYZgAAACNJREFUeNo1ioEJAAAIwmz/H90iFFSGJgFMe3gaLZ0od+9/AQZ0ADosbYraAAAAAElFTkSuQmCC");\n  background-repeat: no-repeat;\n  background-position: right bottom;\n  width: 100%; height: 100%;\n}\n\n/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor-mark {\n  background-color: rgba(20, 255, 20, 0.5);\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n}\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7;\n}\n@-moz-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@-webkit-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\n.CodeMirror-overwrite .CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0; right: 0; top: -50px; bottom: 0;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0; bottom: 0;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n.cm-strikethrough {text-decoration: line-through;}\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n\n.CodeMirror-composing { border-bottom: 2px solid; }\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn\'t touch them. */\n\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n\n.CodeMirror-scroll {\n  overflow: scroll !important; /* Things will break if this is overridden */\n  /* 50px is the magic margin used to hide the element\'s real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -50px; margin-right: -50px;\n  padding-bottom: 50px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 50px solid transparent;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n  outline: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -50px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0; bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection { background-color: transparent }\n.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre.CodeMirror-line,\n.CodeMirror-wrap pre.CodeMirror-line-like {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-rtl pre { direction: rtl; }\n\n.CodeMirror-code {\n  outline: none;\n}\n\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre { position: static; }\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, .4);\n}\n\n/* Used to force a border model for a node */\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* See issue #2901 */\n.cm-tab-wrap-hack:after { content: \'\'; }\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext { background: none; }\n\n/*\n  MDN-LIKE Theme - Mozilla\n  Ported to CodeMirror by Peter Kroon <plakroon@gmail.com>\n  Report bugs/issues here: https://github.com/codemirror/CodeMirror/issues\n  GitHub: @peterkroon\n\n  The mdn-like theme is inspired on the displayed code examples at: https://developer.mozilla.org/en-US/docs/Web/CSS/animation\n\n*/\n.cm-s-mdn-like.CodeMirror { color: #999; background-color: #fff; }\n.cm-s-mdn-like div.CodeMirror-selected { background: #cfc; }\n.cm-s-mdn-like .CodeMirror-line::selection, .cm-s-mdn-like .CodeMirror-line > span::selection, .cm-s-mdn-like .CodeMirror-line > span > span::selection { background: #cfc; }\n.cm-s-mdn-like .CodeMirror-line::-moz-selection, .cm-s-mdn-like .CodeMirror-line > span::-moz-selection, .cm-s-mdn-like .CodeMirror-line > span > span::-moz-selection { background: #cfc; }\n\n.cm-s-mdn-like .CodeMirror-gutters { background: #f8f8f8; border-left: 6px solid rgba(0,83,159,0.65); color: #333; }\n.cm-s-mdn-like .CodeMirror-linenumber { color: #aaa; padding-left: 8px; }\n.cm-s-mdn-like .CodeMirror-cursor { border-left: 2px solid #222; }\n\n.cm-s-mdn-like .cm-keyword { color: #6262FF; }\n.cm-s-mdn-like .cm-atom { color: #F90; }\n.cm-s-mdn-like .cm-number { color:  #ca7841; }\n.cm-s-mdn-like .cm-def { color: #8DA6CE; }\n.cm-s-mdn-like span.cm-variable-2, .cm-s-mdn-like span.cm-tag { color: #690; }\n.cm-s-mdn-like span.cm-variable-3, .cm-s-mdn-like span.cm-def, .cm-s-mdn-like span.cm-type { color: #07a; }\n\n.cm-s-mdn-like .cm-variable { color: #07a; }\n.cm-s-mdn-like .cm-property { color: #905; }\n.cm-s-mdn-like .cm-qualifier { color: #690; }\n\n.cm-s-mdn-like .cm-operator { color: #cda869; }\n.cm-s-mdn-like .cm-comment { color:#777; font-weight:normal; }\n.cm-s-mdn-like .cm-string { color:#07a; font-style:italic; }\n.cm-s-mdn-like .cm-string-2 { color:#bd6b18; } /*?*/\n.cm-s-mdn-like .cm-meta { color: #000; } /*?*/\n.cm-s-mdn-like .cm-builtin { color: #9B7536; } /*?*/\n.cm-s-mdn-like .cm-tag { color: #997643; }\n.cm-s-mdn-like .cm-attribute { color: #d6bb6d; } /*?*/\n.cm-s-mdn-like .cm-header { color: #FF6400; }\n.cm-s-mdn-like .cm-hr { color: #AEAEAE; }\n.cm-s-mdn-like .cm-link { color:#ad9361; font-style:italic; text-decoration:none; }\n.cm-s-mdn-like .cm-error { border-bottom: 1px solid red; }\n\ndiv.cm-s-mdn-like .CodeMirror-activeline-background { background: #efefff; }\ndiv.cm-s-mdn-like span.CodeMirror-matchingbracket { outline:1px solid grey; color: inherit; }\n\n.cm-s-mdn-like.CodeMirror { background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAAAyCAYAAAAp8UeFAAAHvklEQVR42s2b63bcNgyEQZCSHCdt2vd/0tWF7I+Q6XgMXiTtuvU5Pl57ZQKkKHzEAOtF5KeIJBGJ8uvL599FRFREZhFx8DeXv8trn68RuGaC8TRfo3SNp9dlDDHedyLyTUTeRWStXKPZrjtpZxaRw5hPqozRs1N8/enzIiQRWcCgy4MUA0f+XWliDhyL8Lfyvx7ei/Ae3iQFHyw7U/59pQVIMEEPEz0G7XiwdRjzSfC3UTtz9vchIntxvry5iMgfIhJoEflOz2CQr3F5h/HfeFe+GTdLaKcu9L8LTeQb/R/7GgbsfKedyNdoHsN31uRPWrfZ5wsj/NzzRQHuToIdU3ahwnsKPxXCjJITuOsi7XLc7SG/v5GdALs7wf8JjTFiB5+QvTEfRyGOfX3Lrx8wxyQi3sNq46O7QahQiCsRFgqddjBouVEHOKDgXAQHD9gJCr5sMKkEdjwsarG/ww3BMHBU7OBjXnzdyY7SfCxf5/z6ATccrwlKuwC/jhznnPF4CgVzhhVf4xp2EixcBActO75iZ8/fM9zAs2OMzKdslgXWJ9XG8PQoOAMA5fGcsvORgv0doBXyHrCwfLJAOwo71QLNkb8n2Pl6EWiR7OCibtkPaz4Kc/0NNAze2gju3zOwekALDaCFPI5vjPFmgGY5AZqyGEvH1x7QfIb8YtxMnA/b+QQ0aQDAwc6JMFg8CbQZ4qoYEEHbRwNojuK3EHwd7VALSgq+MNDKzfT58T8qdpADrgW0GmgcAS1lhzztJmkAzcPNOQbsWEALBDSlMKUG0Eq4CLAQWvEVQ9WU57gZJwZtgPO3r9oBTQ9WO8TjqXINx8R0EYpiZEUWOF3FxkbJkgU9B2f41YBrIj5ZfsQa0M5kTgiAAqM3ShXLgu8XMqcrQBvJ0CL5pnTsfMB13oB8athpAq2XOQmcGmoACCLydx7nToa23ATaSIY2ichfOdPTGxlasXMLaL0MLZAOwAKIM+y8CmicobGdCcbbK9DzN+yYGVoNNI5iUKTMyYOjPse4A8SM1MmcXgU0toOq1yO/v8FOxlASyc7TgeYaAMBJHcY1CcCwGI/TK4AmDbDyKYBBtFUkRwto8gygiQEaByFgJ00BH2M8JWwQS1nafDXQCidWyOI8AcjDCSjCLk8ngObuAm3JAHAdubAmOaK06V8MNEsKPJOhobSprwQa6gD7DclRQdqcwL4zxqgBrQcabUiBLclRDKAlWp+etPkBaNMA0AKlrHwTdEByZAA4GM+SNluSY6wAzcMNewxmgig5Ks0nkrSpBvSaQHMdKTBAnLojOdYyGpQ254602ZILPdTD1hdlggdIm74jbTp8vDwF5ZYUeLWGJpWsh6XNyXgcYwVoJQTEhhTYkxzZjiU5npU2TaB979TQehlaAVq4kaGpiPwwwLkYUuBbQwocyQTv1tA0+1UFWoJF3iv1oq+qoSk8EQdJmwHkziIF7oOZk14EGitibAdjLYYK78H5vZOhtWpoI0ATGHs0Q8OMb4Ey+2bU2UYztCtA0wFAs7TplGLRVQCcqaFdGSPCeTI1QNIC52iWNzof6Uib7xjEp07mNNoUYmVosVItHrHzRlLgBn9LFyRHaQCtVUMbtTNhoXWiTOO9k/V8BdAc1Oq0ArSQs6/5SU0hckNy9NnXqQY0PGYo5dWJ7nINaN6o958FWin27aBaWRka1r5myvLOAm0j30eBJqCxHLReVclxhxOEN2JfDWjxBtAC7MIH1fVaGdoOp4qJYDgKtKPSFNID2gSnGldrCqkFZ+5UeQXQBIRrSwocbdZYQT/2LwRahBPBXoHrB8nxaGROST62DKUbQOMMzZIC9abkuELfQzQALWTnDNAm8KHWFOJgJ5+SHIvTPcmx1xQyZRhNL5Qci689aXMEaN/uNIWkEwDAvFpOZmgsBaaGnbs1NPa1Jm32gBZAIh1pCtG7TSH4aE0y1uVY4uqoFPisGlpP2rSA5qTecWn5agK6BzSpgAyD+wFaqhnYoSZ1Vwr8CmlTQbrcO3ZaX0NAEyMbYaAlyquFoLKK3SPby9CeVUPThrSJmkCAE0CrKUQadi4DrdSlWhmah0YL9z9vClH59YGbHx1J8VZTyAjQepJjmXwAKTDQI3omc3p1U4gDUf6RfcdYfrUp5ClAi2J3Ba6UOXGo+K+bQrjjssitG2SJzshaLwMtXgRagUNpYYoVkMSBLM+9GGiJZMvduG6DRZ4qc04DMPtQQxOjEtACmhO7K1AbNbQDEggZyJwscFpAGwENhoBeUwh3bWolhe8BTYVKxQEWrSUn/uhcM5KhvUu/+eQu0Lzhi+VrK0PrZZNDQKs9cpYUuFYgMVpD4/NxenJTiMCNqdUEUf1qZWjppLT5qSkkUZbCwkbZMSuVnu80hfSkzRbQeqCZSAh6huR4VtoM2gHAlLf72smuWgE+VV7XpE25Ab2WFDgyhnSuKbs4GuGzCjR+tIoUuMFg3kgcWKLTwRqanJQ2W00hAsenfaApRC42hbCvK1SlE0HtE9BGgneJO+ELamitD1YjjOYnNYVcraGhtKkW0EqVVeDx733I2NH581k1NNxNLG0i0IJ8/NjVaOZ0tYZ2Vtr0Xv7tPV3hkWp9EFkgS/J0vosngTaSoaG06WHi+xObQkaAdlbanP8B2+2l0f90LmUAAAAASUVORK5CYII=); }\n\n/*\nCopyright (C) 2013-2017 Flowhub UG\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the "Software"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n */\n.cm-s-noflo.CodeMirror {\n  color: hsl(188,6%,50%);\n  background-color: rgb(0, 0, 0);\n  font-family: "SourceCodePro",Helvetica,Arial,sans-serif !important;\n  font-size: 14px;\n  line-height: 17px;\n}\n\n.cm-s-noflo .CodeMirror-selected {\n  background: hsl(185,100%,26%) !important;\n}\n\n.cm-s-noflo .CodeMirror-gutters {\n  background-color: black;\n  border-right: 1px solid hsla(190, 90%, 80%, 0.1);\n}\n\n.cm-s-noflo .CodeMirror-linenumber {\n  color: hsl(188, 6%, 26%);\n}\n\n.cm-s-noflo .CodeMirror-cursor {\n  border-left: 1px solid hsl(185,98%,46%) !important;\n}\n\n.cm-s-noflo span.cm-keyword {\n  color: hsl(35,100%,75%);\n}\n\n.cm-s-noflo span.cm-atom {\n  color: hsl(35,98%,46%);\n}\n\n.cm-s-noflo span.cm-number {\n  color: hsl(160,100%,75%);\n}\n\n.cm-s-noflo span.cm-def {\n  color: hsl(210,100%,75%);\n}\n\n.cm-s-noflo span.cm-variable {\n  color: hsl(210,100%,75%);\n}\n\n.cm-s-noflo span.cm-variable-2 {\n  color: hsl(210,100%,75%);\n}\n\n.cm-s-noflo span.cm-variable-3 {\n  color: hsl(210,100%,75%);\n}\n\n.cm-s-noflo span.cm-property {\n  color: #fff;\n}\n\n.cm-s-noflo span.cm-operator {\n}\n\n.cm-s-noflo span.cm-comment {\n  color: gray;\n}\n\n.cm-s-noflo span.cm-string {\n  color: hsl(135,100%,75%);\n}\n\n.cm-s-noflo span.cm-meta {\n  color: yellow;\n}\n\n.cm-s-noflo span.cm-qualifier {\n  color: #FFF700;\n}\n\n.cm-s-noflo span.cm-builtin {\n  color: #30a;\n}\n\n.cm-s-noflo span.cm-bracket {\n    color: #cc7;\n}\n\n.cm-s-noflo span.cm-tag {\n    color: #FFBD40;\n}\n\n.cm-s-noflo span.cm-attribute {\n    color: #FFF700;\n}\n\n.cm-s-noflo span.cm-error {\n    color: #f00;\n}\n\n.cm-s-noflo .CodeMirror-activeline-background {\n    background: #27282E !important;\n}\n\n.cm-s-noflo .CodeMirror-matchingbracket {\n    outline: 1px solid grey;\n    color: white !important;\n}\n\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(n.content)},18:function(e,t,n){const o={msgflo:n(501),sndflo:n(502),imgflo:n(503),noflo:n(504),javafbp:n(505),microflo:n(506)};o["noflo-browser"]=o.noflo,o["noflo-gnome"]=o.noflo,o["noflo-nodejs"]=o.noflo,e.exports=o},180:function(e,t){const n=document.createElement("template");n.innerHTML='<dom-module id="the-card-styles">\n  <template>\n    <style>\n      :host {\n        display: block;\n        margin: 0px;\n        padding: 10px 10px 10px;\n        -webkit-box-sizing: border-box;\n        -moz-box-sizing: border-box;\n        box-sizing: border-box;\n        border-bottom: 1px var(--noflo-ui-border) solid;\n        border-right: 1px var(--noflo-ui-border) solid;\n        background-color: var(--noflo-ui-background) !important;\n        color: var(--noflo-ui-text);\n        overflow-x: hidden;\n        overflow-y: auto;\n        -webkit-overflow-scrolling: touch;\n        scrollbar-width: none;\n        position: relative;\n      }\n      button {\n        width: 36px;\n        height: 36px;\n        font-size: 10px;\n        background-color: transparent;\n        border: none;\n        color: var(--noflo-ui-text);\n        text-align: center;\n        cursor: pointer;\n      }\n      h1 {\n        font-size: 12px;\n        line-height: 36px;\n        margin: 0px;\n        margin-bottom: 0px;\n        text-shadow: 0 1px var(--noflo-ui-background);\n        text-align: left;\n      }\n      header {\n        height: 36px;\n      }\n      header h1 {\n        display: block;\n        position: absolute;\n        top: 10px;\n        left: 10px;\n        width: calc(72px * 3 - 1px);\n        height: 36px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n      header h1.clear {\n        cursor: pointer;\n      }\n      header h2 {\n        line-height: 36px;\n        width: 72px;\n        height: 36px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        position: absolute;\n        top: 10px;\n        right: 10px;\n        margin: 0px;\n        text-align: right;\n        font-size: 10px;\n        color: var(--noflo-ui-border-highlight);\n        display: block;\n        cursor: default;\n      }\n      ul {\n        margin: 0px;\n        padding: 0px;\n        list-style: none;\n      }\n      ul li {\n        display: block;\n        padding: 0px;\n        margin: 0px;\n      }\n      ul.toolbar2right {\n        width: 180px;\n        display: block;\n        position: absolute;\n        right: 36px;\n        top: 10px;\n        text-align: right;\n      }\n      ul.toolbar li {\n        float: left;\n        display: block;\n        width: calc(100%/2);\n        height: 36px;\n        text-align: center;\n        margin: 0px;\n        margin-right: 0px;\n      }\n      ul.toolbar2right li {\n        float: right;\n        width: auto;\n      }\n      ul.toolbar li * {\n        line-height: 36px;\n      }\n      li button {\n        width:100%;\n        height:100%;\n      }\n      textarea {\n        width: 100%;\n        min-height: 100px;\n        max-height: calc(72px * 4);\n      }\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(n.content)},181:function(e,t,n){const{journal:o}=n(23);class i extends o.JournalStore{constructor(e,t){super(e),this.db=t,this.transactions=[]}genKey(e){return`${this.graph.properties.id}_${e}`}putTransaction(e,t){super.putTransaction(e,t);return this.db.transaction(["journals"],"readwrite").objectStore("journals").add({id:this.genKey(e),graph:this.graph.properties.id,revId:e,entries:t}),this.transactions[e]=t,super.putTransaction(e,t)}fetchTransaction(e){return this.transactions[e]}init(e){this.db.transaction(["journals"]).objectStore("journals").index("graph").openCursor().onsuccess=t=>{const n=t.target.result;return n?(this.transactions[n.value.revId]=n.value.entries,n.value.revId>this.lastRevision&&(this.lastRevision=n.value.revId),n.continue()):e()}}}t.IDBJournalStore=i},186:function(e,t,n){"use strict";t.a=n.p+"fonts/SourceCodePro-Regular.otf.woff"},187:function(e,t,n){"use strict";t.a=n.p+"fonts/SourceCodePro-Bold.otf.woff"},20:function(e,t){const n=document.createElement("template");n.innerHTML='<dom-module id="noflo-modal-styles">\n  <template>\n    <style>\n      :host {\n        display: block;\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: var(--noflo-ui-background-shadow);\n        overflow-y: scroll;\n        -webkit-overflow-scrolling: touch;\n        scrollbar-width: none;\n        overflow-x: auto;\n      }\n\n      .modal-container {\n        background-color: var(--noflo-ui-background);\n        color: var(--noflo-ui-text);\n        display: block;\n        position: absolute;\n        -webkit-transform: translateZ(0);\n        transform: translateZ(0);\n        top: 36px;\n        width: calc(72px * 9);\n        left: calc(50% - 72px * 4.5);\n        z-index: 5;\n        padding: 36px;\n        box-sizing: border-box;\n        border-radius: 3px;\n        box-shadow: var(--noflo-ui-background) 0px 0px 2px;\n        border: 1px solid var(--noflo-ui-text-highlight);\n        overflow-y: scroll;\n        -webkit-overflow-scrolling: touch;\n        scrollbar-width: none;\n      }\n      .modal-content {\n        max-height: calc(100vh - 252px);\n        overflow-y: scroll;\n        -webkit-overflow-scrolling: touch;\n        scrollbar-width: thin;\n        overflow-x: hidden;\n        padding-bottom: 18px;\n        box-sizing: border-box;\n      }\n\n      h1 {\n        font-size: 17px;\n        line-height: 36px;\n        margin: 0px;\n        padding: 0px;\n        margin-bottom: 18px;\n      }\n      label {\n        display: block;\n        font-size: 13px;\n        margin-top: 17px;\n        color: var(--noflo-ui-text);\n        line-height: 17px;\n      }\n      label > span {\n        line-height: 17px;\n      }\n      input,\n      select,\n      textarea {\n        display: block;\n        font-size: 17px;\n        background-color: hsl(190, 100%, 30%);\n        background-image: none;\n        font-family: "SourceCodePro",Helvetica,Arial,sans-serif;\n        color: #fff;\n        border-radius: 3px;\n        padding: 3px;\n        border: none;\n        margin: 0px;\n        width: 100%;\n        box-sizing: border-box;\n      }\n      input::placeholder {\n        color: hsl(0, 0%, 80%);\n      }\n      select {\n        background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgd2lkdGg9IjMwNnB4IiBoZWlnaHQ9IjMwNnB4IiB2aWV3Qm94PSIwIDAgMzA2IDMwNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzA2IDMwNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPGcgaWQ9ImV4cGFuZC1tb3JlIj4NCgkJPHBvbHlnb24gcG9pbnRzPSIyNzAuMyw1OC42NSAxNTMsMTc1Ljk1IDM1LjcsNTguNjUgMCw5NC4zNSAxNTMsMjQ3LjM1IDMwNiw5NC4zNSAJCSIvPg0KCTwvZz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjwvc3ZnPg0K);\n        background-repeat: no-repeat;\n        background-position: 98% 50%;\n        background-size: 8px;\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        appearance: none;\n        padding-right: 1em;\n      }\n      div.CodeMirror {\n        border: 1px solid var(--noflo-ui-text);\n        border-radius: 3px;\n      }\n\n      .toolbar {\n        display: block;\n        line-height: 36px;\n        margin-top: 18px;\n      }\n      .toolbar button {\n        background-color: transparent;\n        color: hsl(190, 100%, 30%);\n        border: 1px solid hsl(190, 100%, 30%);\n        font-size: 13px;\n        border-radius: 3px;\n        font-family: "SourceCodePro",Helvetica,Arial,sans-serif;\n        height: 36px;\n        padding-left: 36px;\n        padding-right: 36px;\n        margin: 0px;\n        cursor: pointer;\n      }\n      .toolbar button.disabled {\n        opacity: 0.1;\n      }\n      .toolbar a {\n        font-size: 13px;\n        color: hsl(190, 100%, 30%);\n        text-decoration: none;\n        height: 36px;\n        padding-left: 36px;\n        padding-right: 36px;\n        cursor: pointer;\n      }\n\n      html polymer-element{\n        display: none;\n      }\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(n.content)},29:function(e,t){t.findMainGraph=e=>{if(!e.graphs.length)return null;if(e.main){if(e.graphs.find(t=>t.properties.id===e.main))return e.main}const t=e.graphs.find(e=>"main"===e.name||!!e.properties.main);return t?t.properties.id:e.graphs[0].properties.id},t.findGraph=(e,t)=>t.graphs?t.graphs.find(t=>t.name===e||t.properties.id===e):null,t.findComponent=(e,t)=>t.components?t.components.find(t=>t.name===e):null,t.findByComponent=(e,n)=>{let[o,i]=e.split("/");i||(i=o,o=void 0);const r=t.findGraph(i,n);if(r)return["graph",r];const a=t.findComponent(i,n);return a?["component",a]:["runtime",e]},t.findProject=(e,t)=>t?t.find(t=>t.id===e):null,t.getProjectHash=(e,n)=>{if(e.runtime)return e.main?void n(null,["runtime",e.runtime,e.main]):void n(null,["runtime",e.runtime]);if(!e.graphs.length)return e.components.length?void n(null,["project",e.id,"component",e.components[0].name]):void setTimeout(()=>e.graphs.length||e.components.length?t.getProjectHash(e,n):n(new Error(`Project ${e.id} has no graphs or components`)),100);const o=e.main||e.graphs[0].properties.id;o?n(null,["project",e.id,o]):n(new Error("Unable find a main graph for project "+e.id))},t.isReadOnly=e=>!e.project||(!(!e.graph||-1!==e.project.graphs.indexOf(e.graph))||(!(!e.component||-1!==e.project.components.indexOf(e.component))||(e.graph&&e.runtime&&e.runtime.definition&&e.runtime.definition.capabilities?-1===e.runtime.definition.capabilities.indexOf("protocol:graph"):!!(e.component&&e.runtime&&e.runtime.definition&&e.runtime.definition.capabilities)&&-1===e.runtime.definition.capabilities.indexOf("component:setsource")))),t.guessLanguage=(e,t="javascript")=>-1!==e.indexOf("topic: ")&&-1!==e.indexOf("cases:")?"yaml":t},30:function(e,t){t.getComponentHash=(e,t)=>t.runtime?["runtime",t.runtime,"component",e]:["project",t.id,"component",e],t.getGraphHash=(e,t)=>t.runtime?["runtime",t.runtime,e]:["project",t.id,e],t.hashToString=e=>"#"+e.map(e=>encodeURIComponent(e)).join("/")},501:function(e,t){e.exports={runtimetypes:{msgflo:{shortname:"MsgFlo Message Queuing",icon:"cubes",description:"Message queue orchestration",helpurl:"https://msgflo.org/docs/usage/"}},preferredlanguage:"python",componenttemplates:{python:"#!/usr/bin/env python\nimport msgflo\n\nclass <%= name %>(msgflo.Participant):\n  def __init__(self, role):\n    d = {\n      'component': '<%= namespace %>/<%= name %>',\n      'label': '<%= description %>',\n      'icon': '<%= icon %>',\n      'inports': [\n        { 'id': 'in', 'type': 'any' },\n      ],\n      'outports': [\n        { 'id': 'out', 'type': 'any' },\n      ],\n    }\n    msgflo.Participant.__init__(self, d, role)\n\n  def process(self, inport, msg):\n    self.send('out', msg.data)\n    self.ack(msg)\n\nif __name__ == '__main__':\n  msgflo.main(<%= name %>)\n",coffeescript:"# To work in msgflo-nodejs source tree\ntry\n  msgflo = require 'msgflo-nodejs'\ncatch e\n  msgflo = require '..'\n\n<%= name %> = (client, role) ->\n\n  definition =\n    component: '<%= namespace %>/<%= name %>'\n    icon: '<%= icon %>'\n    label: '<%= description %>'\n    inports: [\n      id: 'in'\n      type: 'any'\n    ]\n    outports: [\n      id: 'out'\n      type: 'any'\n    ]\n  process = (inport, indata, callback) ->\n    return callback 'out', null, indata\n  return new msgflo.participant.Participant client, definition, process, role\n\nmodule.exports = <%= name %>\n",javascript:"try {\n  var msgflo = require('msgflo-nodejs');\n} catch (error) {\n  var e = error;\n  var msgflo = require('..');\n}\n\nvar <%= name %> = function(client, role) {\n  var definition = {\n    component: '<%= namespace %>/<%= name %>',\n    icon: '<%= icon %>',\n    label: '<%= description %>',\n    inports: [\n      {\n        id: 'in',\n        type: 'any'\n      }\n    ],\n    outports: [\n      {\n        id: 'out',\n        type: 'any'\n      }\n    ]\n  };\n  var process = function(inport, indata, callback) {\n    return callback('out', null, indata);\n  };\n  return new msgflo.participant.Participant(client, definition, process, role);\n};\n\nmodule.exports = <%= name %>;\n",yaml:"# Declare MsgFlo participant on behalf of code which does not send discovery message by itself\ncomponent: '<%= namespace %>/<%= name %>'\nlabel: '<%= description %>'\nicon: '<%= icon %>'\ninports:\n  open:\n    queue: /bitraf/door/#ROLE/open\n    type: object\noutports: {}\n"},examples:{}}},502:function(e,t){e.exports={runtimetypes:{sndflo:{shortname:"SndFlo Sound Synthesis",icon:"music",description:"Create sound using SuperCollider",helpurl:"https://github.com/jonnor/sndflo#readme"}},componenttemplates:{supercollider:'SynthDef("MyFilter", {\n    arg in=SndFloLibrary.silentIn, out=SndFloLibrary.silentOut, freq=4400;\n    Out.ar(out, BLowPass.ar(In.ar(in), freq))\n},\n    metadata: (\n        description: "my filter",\n        specs: (\n            freq: ControlSpec(20, 20000, \\exp, 0.1, 2200, "Hz")\n        )\n    )\n)\n'},examples:{}}},503:function(e,t){e.exports={runtimetypes:{imgflo:{shortname:"ImgFlo Image Manipulation",icon:"picture-o",description:"Process images using GEGL",helpurl:"https://github.com/jonnor/imgflo#readme"}},componenttemplates:{c:'/* This file is an image processing operation for GEGL */\n\n#ifdef GEGL_PROPERTIES\n    // Dummy prop, for testing\n    property_double (x, "X", 0.0)\n        ui_range (0.0, 1024.0)\n        ui_meta ("unit", "pixel-coordinate")\n#else\n\n#define GEGL_OP_POINT_FILTER\n#include "gegl-op.h"\n\n#ifndef IMGFLO_OP_NAME\n#define IMGFLO_OP_NAME(orig) orig\n#endif\n\nstatic void prepare(GeglOperation *operation)\n{\n    const Babl *format = babl_format("YA float");\n    gegl_operation_set_format(operation, "input", format);\n    gegl_operation_set_format(operation, "output", format);\n}\n\ngboolean\nprocess(GeglOperation *op, void *in_buf, void *out_buf, glong samples,\n        const GeglRectangle *roi, gint level)\n{\n    float *in = in_buf;\n    float *out = out_buf;\n    while (samples--) {\n        *out++ = *in++;\n        *out++ = *in++;\n    }\n    return TRUE;\n}\n\nstatic void\ngegl_op_class_init (GeglOpClass *klass)\n{\n  GeglOperationClass *operation_class = GEGL_OPERATION_CLASS(klass);\n  GeglOperationPointFilterClass *point_filter_class = GEGL_OPERATION_POINT_FILTER_CLASS(klass);\n  point_filter_class->process = process;\n  operation_class->prepare = prepare;\n  gegl_operation_class_set_keys (operation_class,\n      "name",        IMGFLO_OP_NAME("myop2"),\n      "title",       "imgflo: Dynamic Flowhub",\n      "categories" , "dev",\n      "description", "First GEGL op written in Flowhub 22",\n  NULL);\n}\n\n#endif\n'},examples:{}}},504:function(e,t){e.exports={runtimetypes:{"noflo-browser":{shortname:"NoFlo for Browser",icon:"html5",description:"Build client-side browser applications",helpurl:"https://github.com/noflo/noflo-browser-app#readme"},"noflo-nodejs":{shortname:"NoFlo for Node.js",icon:"cloud",description:"Build network applications",helpurl:"https://github.com/noflo/noflo-nodejs#readme"},"noflo-gnome":{shortname:"NoFlo for GNOME",icon:"desktop",description:"Build GNOME desktop applications",helpurl:"https://github.com/noflo/noflo-gnome#readme"}},preferredlanguage:"es2015",componenttemplates:{javascript:"var noflo = require('noflo');\n\nexports.getComponent = function() {\n  var c = new noflo.Component();\n  c.description = '<%= description %>';\n  c.icon = '<%= icon %>';\n  c.inPorts.add('in', {\n    datatype: 'all',\n    description: 'Packet to forward'\n  });\n  c.outPorts.add('out', {\n    datatype: 'all'\n  });\n  c.process(function (input, output) {\n    // Check preconditions on input data\n    if (!input.hasData('in')) {\n      return;\n    }\n    // Read packets we need to process\n    var data = input.getData('in');\n    // Process data and send output\n    output.send({\n      out: data\n    });\n    // Deactivate\n    output.done();\n  });\n  return c;\n};\n",coffeescript:"noflo = require 'noflo'\n\nexports.getComponent = ->\n  c = new noflo.Component\n  c.description = '<%= description %>'\n  c.icon = '<%= icon %>'\n  c.inPorts.add 'in',\n    datatype: 'all'\n    description: 'Packet to forward'\n  c.outPorts.add 'out',\n    datatype: 'all'\n  c.process (input, output) ->\n    # Check preconditions on input data\n    return unless input.hasData 'in'\n    # Read packets we need to process\n    data = input.getData 'in'\n    # Process data and send output\n    output.send\n      out: data\n    # Deactivate\n    output.done()\n",es2015:"const noflo = require('noflo');\n\nexports.getComponent = () => {\n  const c = new noflo.Component();\n  c.description = '<%= description %>';\n  c.icon = '<%= icon %>';\n  c.inPorts.add('in', {\n    datatype: 'all',\n    description: 'Packet to forward',\n  });\n  c.outPorts.add('out', {\n    datatype: 'all',\n  });\n  c.process((input, output) => {\n    // Check preconditions on input data\n    if (!input.hasData('in')) {\n      return;\n    }\n    // Read packets we need to process\n    const data = input.getData('in');\n    // Process data and send output\n    output.send({\n      out: data,\n    });\n    // Deactivate\n    output.done();\n  });\n  return c;\n};\n",typescript:"import { Component } from 'noflo';\n\nexports.getComponent = (): Component => {\n  const c = new Component();\n  c.description = '<%= description %>';\n  c.icon = '<%= icon %>';\n  c.inPorts.add('in', {\n    datatype: 'all',\n    description: 'Packet to forward'\n  });\n  c.outPorts.add('out', {\n    datatype: 'all'\n  });\n  c.process((input, output): void => {\n    // Check preconditions on input data\n    if (!input.hasData('in')) {\n      return;\n    }\n    // Read packets we need to process\n    const data = input.getData('in');\n    // Process data and send output\n    output.send({\n      out: data\n    });\n    // Deactivate\n    output.done();\n  });\n  return c;\n};\n"},examples:{clock:{label:"Animated clock",id:"86a28c01d66cd8bf672f4e0a3e1ba851"},camtopalette:{label:"Cam to palette",id:"efd306b5846c236998a63c535ceebed1",ssl:!0},canvas:{label:"Canvas pattern",id:"dc0414ecf989b4b130b119e948653350"},counter:{label:"Click counter",id:"38471e33458d644e907f4637434f5bbf"},draganddrop:{label:"Drag-and-drop physics",id:"026a7bc8f1b482f56ad336c9d72dd72f"},delaunaymasks:{label:"Delaunay masks",id:"d6c1fa7b4b9d437564e954f338d970b9",ssl:!0},reacttodo:{label:"React TODO list",id:"c111454c9fd2f74d37d1e8a4e739adfd"},webaudio:{label:"Web Audio",id:"6724a6eb8a1aaf351866e7a43c3ecd43"}}}},505:function(e,t){e.exports={runtimetypes:{javafbp:{shortname:"JavaFBP",icon:"android",description:"Program Java and Android applications",helpurl:"https://github.com/jonnor/javafbp-runtime#readme"}},componenttemplates:{java:"// TODO\n"},examples:{}}},506:function(e,t){e.exports={runtimetypes:{microflo:{shortname:"MicroFlo Microcontroller Programming",icon:"lightbulb-o",description:"Program microcontrollers like Arduino",helpurl:"https://github.com/jonnor/microflo#readme"}},componenttemplates:{"c++":"// TODO\n"},examples:{}}},535:function(e,t){const n=document.createElement("template");n.innerHTML='\n<dom-module id="the-graph-styles">\n  <template>\n    <style>\n      .the-graph-dark .the-graph-app {\n  background-color: #000;\n  position: relative;\n}\n.the-graph-dark svg {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.the-graph-dark .arrow {\n  cursor: default;\n}\n.the-graph-dark .click {\n  cursor: pointer;\n}\n.the-graph-dark .drag {\n  cursor: pointer;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n  cursor: grab;\n}\n.the-graph-dark .node-border {\n  fill: rgba(0,0,0,0.5);\n  stroke: #666;\n  stroke-width: 2px;\n}\n.the-graph-dark .node-rect {\n  fill: rgba(230,238,240,0.94);\n  stroke: none;\n}\n@-webkit-keyframes error {\n  0% {\n    fill: rgba(230,238,240,0.94);\n  }\n  100% {\n    fill: rgba(255,0,0,0.94);\n  }\n}\n@-moz-keyframes error {\n  0% {\n    fill: rgba(230,238,240,0.94);\n  }\n  100% {\n    fill: rgba(255,0,0,0.94);\n  }\n}\n@-o-keyframes error {\n  0% {\n    fill: rgba(230,238,240,0.94);\n  }\n  100% {\n    fill: rgba(255,0,0,0.94);\n  }\n}\n.the-graph-dark .node.error .node-rect {\n  -webkit-animation: error 1s linear infinite alternate;\n  -moz-animation: error 1s linear infinite alternate;\n  -o-animation: error 1s linear infinite alternate;\n  animation: error 1s linear infinite alternate;\n  stroke: none;\n}\n.the-graph-dark .eventcatcher {\n  fill: #fff;\n  fill-opacity: 0.1;\n}\n.the-graph-dark .node:hover .node-rect {\n  fill: rgba(230,238,240,0.97);\n}\n.the-graph-dark .node:hover .node-border {\n  stroke: #808080;\n}\n.the-graph-dark .node:hover .port-arc {\n  fill: #808080;\n}\n.the-graph-dark .ex-inports .node-border {\n  fill: #1a1a1a;\n  stroke: none;\n}\n.the-graph-dark .ex-outports .node-border {\n  fill: #1a1a1a;\n  stroke: none;\n}\n.the-graph-dark .ex-inports .node .node-rect,\n.the-graph-dark .ex-outports .node .node-rect,\n.the-graph-dark .ex-inports .node:hover .node-rect,\n.the-graph-dark .ex-outports .node:hover .node-rect {\n  fill: none;\n}\n.the-graph-dark .selection .ex-inports .node .node-border,\n.the-graph-dark .selection .ex-outports .node .node-border {\n  fill: #1a1a1a;\n}\n.the-graph-dark .small .node-border {\n  fill: rgba(230,238,240,0.94);\n  stroke: none;\n}\n.the-graph-dark .small .ex-inports .node .node-border,\n.the-graph-dark .small .ex-outports .node .node-border {\n  fill: #1a1a1a;\n}\n.the-graph-dark .node-bg {\n  opacity: 0;\n}\n.the-graph-dark .selection .node .node-rect {\n  fill: rgba(61,66,67,0.94);\n}\n.the-graph-dark .selection .node .node-border {\n  stroke: #232829;\n}\n.the-graph-dark .selection .node .port-arc {\n  fill: #232829;\n}\n.the-graph-dark .selection .node .node-icon {\n  fill: #232829;\n}\n.the-graph-dark .selection .node.selected .node-rect {\n  fill: rgba(230,238,240,0.94);\n}\n.the-graph-dark .selection .node.selected .node-border {\n  stroke: #808080;\n}\n.the-graph-dark .selection .node.selected .port-arc {\n  fill: #808080;\n}\n.the-graph-dark .selection .node.selected .node-icon {\n  fill: #5e6a6e;\n}\n.the-graph-dark .selection .ex-inports .node .node-icon {\n  fill: #512f01;\n}\n.the-graph-dark .selection .ex-outports .node .node-icon {\n  fill: #015115;\n}\n.the-graph-dark .small .selection .node .node-rect {\n  fill: none;\n}\n.the-graph-dark .small .selection .node .node-border {\n  fill: rgba(61,66,67,0.94);\n  stroke: none;\n}\n.the-graph-dark .small .selection .node.selected .node-rect {\n  fill: none;\n}\n.the-graph-dark .small .selection .node.selected .node-border {\n  fill: rgba(230,238,240,0.94);\n  stroke: none;\n}\n.the-graph-dark path {\n  fill: none;\n}\n.the-graph-dark .arrow-bg {\n  stroke: #000;\n  stroke-width: 2px;\n}\n.the-graph-dark .edge-bg {\n  stroke: #000;\n  stroke-width: 5px;\n}\n.the-graph-dark .edge-fg {\n  stroke: #fff;\n  stroke-width: 3px;\n  transition-property: stroke-width;\n  transition-duration: 0.5s;\n}\n.the-graph-dark .edge-touch {\n  stroke-width: 7px;\n  opacity: 0;\n}\n.the-graph-dark .edge:hover .edge-bg,\n.the-graph-dark .edge:hover .arrow-bg {\n  stroke: #808080;\n}\n.the-graph-dark .edge.selected .arrow-bg {\n  stroke: #e6e6e6;\n  stroke-width: 4px;\n}\n.the-graph-dark .edge.selected .edge-bg {\n  stroke-width: 8px;\n  stroke: #e6e6e6;\n}\n.the-graph-dark .small .edge-bg {\n  stroke-width: 8px;\n}\n.the-graph-dark .small .edge-fg {\n  stroke-width: 6px;\n}\n@-webkit-keyframes arrow-heartbeats {\n  0% {\n    stroke-width: 4px;\n  }\n  10% {\n    stroke-width: 8px;\n  }\n  30% {\n    stroke-width: 4px;\n  }\n  40% {\n    stroke-width: 8px;\n  }\n  60% {\n    stroke-width: 4px;\n  }\n}\n@-moz-keyframes arrow-heartbeats {\n  0% {\n    stroke-width: 4px;\n  }\n  10% {\n    stroke-width: 8px;\n  }\n  30% {\n    stroke-width: 4px;\n  }\n  40% {\n    stroke-width: 8px;\n  }\n  60% {\n    stroke-width: 4px;\n  }\n}\n@-o-keyframes arrow-heartbeats {\n  0% {\n    stroke-width: 4px;\n  }\n  10% {\n    stroke-width: 8px;\n  }\n  30% {\n    stroke-width: 4px;\n  }\n  40% {\n    stroke-width: 8px;\n  }\n  60% {\n    stroke-width: 4px;\n  }\n}\n.the-graph-dark .edge.animated .arrow-bg {\n  stroke-linecap: round;\n  stroke-width: 4px;\n  stroke: #e6e6e6;\n  -webkit-animation: arrow-heartbeats 4s linear infinite;\n  -moz-animation: arrow-heartbeats 4s linear infinite;\n  -o-animation: arrow-heartbeats 4s linear infinite;\n  animation: arrow-heartbeats 4s linear infinite;\n}\n@-webkit-keyframes heartbeats {\n  0% {\n    stroke-width: 6px;\n  }\n  10% {\n    stroke-width: 12px;\n  }\n  30% {\n    stroke-width: 6px;\n  }\n  40% {\n    stroke-width: 12px;\n  }\n  60% {\n    stroke-width: 6px;\n  }\n}\n@-moz-keyframes heartbeats {\n  0% {\n    stroke-width: 6px;\n  }\n  10% {\n    stroke-width: 12px;\n  }\n  30% {\n    stroke-width: 6px;\n  }\n  40% {\n    stroke-width: 12px;\n  }\n  60% {\n    stroke-width: 6px;\n  }\n}\n@-o-keyframes heartbeats {\n  0% {\n    stroke-width: 6px;\n  }\n  10% {\n    stroke-width: 12px;\n  }\n  30% {\n    stroke-width: 6px;\n  }\n  40% {\n    stroke-width: 12px;\n  }\n  60% {\n    stroke-width: 6px;\n  }\n}\n.the-graph-dark .edge.animated .edge-bg {\n  stroke-linecap: round;\n  stroke-width: 6px;\n  stroke: #e6e6e6;\n  -webkit-animation: heartbeats 4s linear infinite;\n  -moz-animation: heartbeats 4s linear infinite;\n  -o-animation: heartbeats 4s linear infinite;\n  animation: heartbeats 4s linear infinite;\n}\n.the-graph-dark text {\n  font-family: "SourceCodePro", "Source Code Pro", Helvetica, Arial, sans-serif;\n  text-rendering: geometricPrecision; /* makes text scale smoothly */\n  font-size: 14px;\n  fill: #fff;\n  text-anchor: middle;\n  dominant-baseline: central;\n}\n.the-graph-dark .text-bg-rect {\n  fill: rgba(0,0,0,0.5);\n}\n.the-graph-dark .node-label,\n.the-graph-dark .node-sublabel {\n  text-anchor: middle;\n}\n.the-graph-dark .small .node-label-bg {\n  visibility: hidden;\n}\n.the-graph-dark .node-sublabel {\n  font-size: 9px;\n}\n.the-graph-dark .node-sublabel-bg {\n  visibility: hidden;\n}\n.the-graph-dark .big .node-sublabel-bg {\n  visibility: visible;\n}\n.the-graph-dark .iip-path {\n  stroke-width: 1px;\n  stroke: #fff;\n}\n.the-graph-dark .iip-info {\n  visibility: hidden;\n}\n.the-graph-dark .iip-info .text-bg-text {\n  font-size: 5px;\n  text-anchor: end;\n}\n.the-graph-dark .big .iip-info {\n  visibility: visible;\n}\n.the-graph-dark .context-modal-bg {\n  fill: rgba(0,0,0,0.5);\n}\n.the-graph-dark .context-node-rect {\n  fill: #121417;\n  stroke: #bfbfbf;\n  stroke-width: 0.5px;\n}\n.the-graph-dark .context-node-icon {\n  font-size: 30px;\n  fill: #fff;\n}\n.the-graph-dark .context-icon {\n  font-size: 20px;\n  fill: #fff;\n}\n.the-graph-dark .context-node-label {\n  text-anchor: middle;\n}\n.the-graph-dark .context-arc {\n  stroke-width: 72px;\n  stroke: rgba(43,48,54,0.95);\n}\n.the-graph-dark .context-slice.click:hover .context-arc {\n  stroke: rgba(90,102,114,0.95);\n}\n.the-graph-dark .context-circle {\n  stroke: #bfbfbf;\n  fill: none;\n  stroke-width: 1.5px;\n}\n.the-graph-dark .context-circle-x {\n  stroke: #bfbfbf;\n  fill: none;\n  stroke-width: 1px;\n}\n.the-graph-dark .context-arc-icon-label {\n  font-size: 12px;\n}\n.the-graph-dark .context-port-bg {\n  fill: rgba(43,48,54,0.95);\n}\n.the-graph-dark .context-port-bg.highlight {\n  stroke: #bfbfbf;\n  stroke-width: 1px;\n}\n.the-graph-dark .context-port-hole {\n  stroke-width: 2px;\n  fill: rgba(43,48,54,0.95);\n  stroke: #bfbfbf;\n}\n.the-graph-dark .context-port-path {\n  stroke: #bfbfbf;\n}\n.the-graph-dark .context-port-label {\n  fill: #fff;\n  dominant-baseline: central;\n}\n.the-graph-dark .context-port-in .context-port-label {\n  text-anchor: end;\n}\n.the-graph-dark .context-port-out .context-port-label {\n  text-anchor: start;\n}\n.the-graph-dark .context-edge-label-out {\n  text-anchor: end;\n  dominant-baseline: central;\n}\n.the-graph-dark .context-edge-label-in {\n  text-anchor: start;\n  dominant-baseline: central;\n}\n.the-graph-dark .tooltip {\n  opacity: 1;\n  transition-property: opacity;\n  transition-duration: 0.3s;\n}\n.the-graph-dark .tooltip.hidden {\n  opacity: 0;\n}\n.the-graph-dark .tooltip-bg {\n  fill: rgba(0,0,0,0.9);\n  opacity: 0.75;\n}\n.the-graph-dark .tooltip-label {\n  text-anchor: start;\n  font-size: 10px;\n}\n.the-graph-dark .icon {\n  font-family: \'FontAwesomeSVG\';\n  text-anchor: middle;\n  dominant-baseline: central;\n}\n.the-graph-dark .node-icon {\n  font-size: 45px;\n  fill: #5e6a6e;\n  transition-property: font-size, fill;\n  transition-duration: 0.5s, 0.3s;\n}\n.the-graph-dark .small .node-icon {\n  fill: #2f3537;\n  font-size: 66px;\n}\n.the-graph-dark .big .node-icon {\n  fill: #c8ced0;\n}\n.the-graph-dark .ex-inports .node-icon,\n.the-graph-dark .small .ex-inports .node-icon {\n  fill: #e88802;\n}\n.the-graph-dark .ex-outports .node-icon,\n.the-graph-dark .small .ex-outports .node-icon {\n  fill: #02e83c;\n}\n.the-graph-dark .port-circle-bg {\n  fill: #666;\n  opacity: 0;\n}\n.the-graph-dark .port-arc {\n  fill: #666;\n}\n.the-graph-dark .port-circle-small {\n  fill: none;\n}\n.the-graph-dark .small .port-circle {\n  visibility: hidden;\n}\n.the-graph-dark .port-label {\n  fill: #0c0d0e;\n  visibility: hidden;\n  font-size: 6px;\n  dominant-baseline: central;\n}\n.the-graph-dark .inports .port-label {\n  text-anchor: start;\n}\n.the-graph-dark .outports .port-label {\n  text-anchor: end;\n}\n.the-graph-dark .big .port-label {\n  visibility: visible;\n}\n.the-graph-dark .big .ex-inports .port-label,\n.the-graph-dark .big .ex-outports .port-label {\n  visibility: hidden;\n}\n.the-graph-dark .group-box {\n  fill: rgba(191,191,191,0.15);\n  transition-property: fill;\n  transition-duration: 0.3s;\n}\n.the-graph-dark .group-box:hover {\n  fill: rgba(191,191,191,0.25);\n}\n.the-graph-dark .small .group-box {\n  stroke-width: 8px;\n}\n.the-graph-dark .group-box.color0 {\n  fill: rgba(191,191,191,0.15);\n  stroke: none;\n}\n.the-graph-dark .group-box.color1 {\n  fill: rgba(255,128,128,0.15);\n  stroke: none;\n}\n.the-graph-dark .group-box.color2 {\n  fill: rgba(255,202,128,0.15);\n  stroke: none;\n}\n.the-graph-dark .group-box.color3 {\n  fill: rgba(255,255,128,0.15);\n  stroke: none;\n}\n.the-graph-dark .group-box.color4 {\n  fill: rgba(128,255,159,0.15);\n  stroke: none;\n}\n.the-graph-dark .group-box.color5 {\n  fill: rgba(128,255,212,0.15);\n  stroke: none;\n}\n.the-graph-dark .group-box.color6 {\n  fill: rgba(128,244,255,0.15);\n  stroke: none;\n}\n.the-graph-dark .group-box.color7 {\n  fill: rgba(128,191,255,0.15);\n  stroke: none;\n}\n.the-graph-dark .group-box.color8 {\n  fill: rgba(223,128,255,0.15);\n  stroke: none;\n}\n.the-graph-dark .group-box.color9 {\n  fill: rgba(255,128,234,0.15);\n  stroke: none;\n}\n.the-graph-dark .group-box.color10 {\n  fill: rgba(255,128,181,0.15);\n  stroke: none;\n}\n.the-graph-dark .group-box.color0:hover {\n  fill: rgba(191,191,191,0.25);\n}\n.the-graph-dark .group-box.color1:hover {\n  fill: rgba(255,128,128,0.25);\n}\n.the-graph-dark .group-box.color2:hover {\n  fill: rgba(255,202,128,0.25);\n}\n.the-graph-dark .group-box.color3:hover {\n  fill: rgba(255,255,128,0.25);\n}\n.the-graph-dark .group-box.color4:hover {\n  fill: rgba(128,255,159,0.25);\n}\n.the-graph-dark .group-box.color5:hover {\n  fill: rgba(128,255,212,0.25);\n}\n.the-graph-dark .group-box.color6:hover {\n  fill: rgba(128,244,255,0.25);\n}\n.the-graph-dark .group-box.color7:hover {\n  fill: rgba(128,191,255,0.25);\n}\n.the-graph-dark .group-box.color8:hover {\n  fill: rgba(223,128,255,0.25);\n}\n.the-graph-dark .group-box.color9:hover {\n  fill: rgba(255,128,234,0.25);\n}\n.the-graph-dark .group-box.color10:hover {\n  fill: rgba(255,128,181,0.25);\n}\n.the-graph-dark .selection .group-box.color0 {\n  fill: rgba(191,191,191,0.1);\n}\n.the-graph-dark .selection .group-box.color1 {\n  fill: rgba(255,128,128,0.1);\n}\n.the-graph-dark .selection .group-box.color2 {\n  fill: rgba(255,202,128,0.1);\n}\n.the-graph-dark .selection .group-box.color3 {\n  fill: rgba(255,255,128,0.1);\n}\n.the-graph-dark .selection .group-box.color4 {\n  fill: rgba(128,255,159,0.1);\n}\n.the-graph-dark .selection .group-box.color5 {\n  fill: rgba(128,255,212,0.1);\n}\n.the-graph-dark .selection .group-box.color6 {\n  fill: rgba(128,244,255,0.1);\n}\n.the-graph-dark .selection .group-box.color7 {\n  fill: rgba(128,191,255,0.1);\n}\n.the-graph-dark .selection .group-box.color8 {\n  fill: rgba(223,128,255,0.1);\n}\n.the-graph-dark .selection .group-box.color9 {\n  fill: rgba(255,128,234,0.1);\n}\n.the-graph-dark .selection .group-box.color10 {\n  fill: rgba(255,128,181,0.1);\n}\n.the-graph-dark .selection .group-box.selection {\n  fill: rgba(255,255,255,0.15);\n  stroke: #e6e6e6;\n  stroke-width: 1px;\n}\n.the-graph-dark .selection .group-box.selection:hover {\n  fill: rgba(255,255,255,0.25);\n}\n.the-graph-dark .group-label {\n  text-anchor: start;\n  fill: #fff;\n  font-size: 20px;\n  transition-property: font-size;\n  transition-duration: 0.5s;\n}\n.the-graph-dark .small .group-label {\n  font-size: 30px;\n  transition-property: font-size;\n  transition-duration: 0.5s;\n}\n.the-graph-dark .group-description {\n  fill: #fff;\n  font-size: 12px;\n  text-anchor: start;\n}\n.the-graph-dark .small .group-description {\n  visibility: hidden;\n}\n.the-graph-dark .stroke,\n.the-graph-dark .stroke.route0,\n.the-graph-dark .selection .selected .stroke,\n.the-graph-dark .selection .selected .stroke.route0 {\n  stroke: #fff;\n}\n.the-graph-dark .stroke.route1,\n.the-graph-dark .selection .selected .stroke.route1 {\n  stroke: #e80202;\n}\n.the-graph-dark .stroke.route2,\n.the-graph-dark .selection .selected .stroke.route2 {\n  stroke: #e88802;\n}\n.the-graph-dark .stroke.route3,\n.the-graph-dark .selection .selected .stroke.route3 {\n  stroke: #e8e802;\n}\n.the-graph-dark .stroke.route4,\n.the-graph-dark .selection .selected .stroke.route4 {\n  stroke: #02e83c;\n}\n.the-graph-dark .stroke.route5,\n.the-graph-dark .selection .selected .stroke.route5 {\n  stroke: #02e89c;\n}\n.the-graph-dark .stroke.route6,\n.the-graph-dark .selection .selected .stroke.route6 {\n  stroke: #02d5e8;\n}\n.the-graph-dark .stroke.route7,\n.the-graph-dark .selection .selected .stroke.route7 {\n  stroke: #0275e8;\n}\n.the-graph-dark .stroke.route8,\n.the-graph-dark .selection .selected .stroke.route8 {\n  stroke: #af02e8;\n}\n.the-graph-dark .stroke.route9,\n.the-graph-dark .selection .selected .stroke.route9 {\n  stroke: #e802c2;\n}\n.the-graph-dark .stroke.route10,\n.the-graph-dark .selection .selected .stroke.route10 {\n  stroke: #e80262;\n}\n.the-graph-dark .selection .stroke,\n.the-graph-dark .selection .stroke.route0 {\n  stroke: #757575;\n}\n.the-graph-dark .selection .stroke.route1 {\n  stroke: #510101;\n}\n.the-graph-dark .selection .stroke.route2 {\n  stroke: #512f01;\n}\n.the-graph-dark .selection .stroke.route3 {\n  stroke: #515101;\n}\n.the-graph-dark .selection .stroke.route4 {\n  stroke: #015115;\n}\n.the-graph-dark .selection .stroke.route5 {\n  stroke: #015136;\n}\n.the-graph-dark .selection .stroke.route6 {\n  stroke: #014a51;\n}\n.the-graph-dark .selection .stroke.route7 {\n  stroke: #012951;\n}\n.the-graph-dark .selection .stroke.route8 {\n  stroke: #3d0151;\n}\n.the-graph-dark .selection .stroke.route9 {\n  stroke: #510143;\n}\n.the-graph-dark .selection .stroke.route10 {\n  stroke: #510122;\n}\n.the-graph-dark .fill,\n.the-graph-dark .fill.route0,\n.the-graph-dark .selection .selected .fill,\n.the-graph-dark .selection .selected .fill.route0 {\n  fill: #fff;\n}\n.the-graph-dark .fill.route1,\n.the-graph-dark .selection .selected .fill.route1 {\n  fill: #e80202;\n}\n.the-graph-dark .fill.route2,\n.the-graph-dark .selection .selected .fill.route2 {\n  fill: #e88802;\n}\n.the-graph-dark .fill.route3,\n.the-graph-dark .selection .selected .fill.route3 {\n  fill: #e8e802;\n}\n.the-graph-dark .fill.route4,\n.the-graph-dark .selection .selected .fill.route4 {\n  fill: #02e83c;\n}\n.the-graph-dark .fill.route5,\n.the-graph-dark .selection .selected .fill.route5 {\n  fill: #02e89c;\n}\n.the-graph-dark .fill.route6,\n.the-graph-dark .selection .selected .fill.route6 {\n  fill: #02d5e8;\n}\n.the-graph-dark .fill.route7,\n.the-graph-dark .selection .selected .fill.route7 {\n  fill: #0275e8;\n}\n.the-graph-dark .fill.route8,\n.the-graph-dark .selection .selected .fill.route8 {\n  fill: #af02e8;\n}\n.the-graph-dark .fill.route9,\n.the-graph-dark .selection .selected .fill.route9 {\n  fill: #e802c2;\n}\n.the-graph-dark .fill.route10,\n.the-graph-dark .selection .selected .fill.route10 {\n  fill: #e80262;\n}\n.the-graph-dark .selection .fill,\n.the-graph-dark .selection .fill.route0 {\n  fill: #757575;\n}\n.the-graph-dark .selection .fill.route1 {\n  fill: #510101;\n}\n.the-graph-dark .selection .fill.route2 {\n  fill: #512f01;\n}\n.the-graph-dark .selection .fill.route3 {\n  fill: #515101;\n}\n.the-graph-dark .selection .fill.route4 {\n  fill: #015115;\n}\n.the-graph-dark .selection .fill.route5 {\n  fill: #015136;\n}\n.the-graph-dark .selection .fill.route6 {\n  fill: #014a51;\n}\n.the-graph-dark .selection .fill.route7 {\n  fill: #012951;\n}\n.the-graph-dark .selection .fill.route8 {\n  fill: #3d0151;\n}\n.the-graph-dark .selection .fill.route9 {\n  fill: #510143;\n}\n.the-graph-dark .selection .fill.route10 {\n  fill: #510122;\n}\n@-moz-keyframes error {\n  0% {\n    fill: rgba(230,238,240,0.94);\n  }\n  100% {\n    fill: rgba(255,0,0,0.94);\n  }\n}\n@-webkit-keyframes error {\n  0% {\n    fill: rgba(230,238,240,0.94);\n  }\n  100% {\n    fill: rgba(255,0,0,0.94);\n  }\n}\n@-o-keyframes error {\n  0% {\n    fill: rgba(230,238,240,0.94);\n  }\n  100% {\n    fill: rgba(255,0,0,0.94);\n  }\n}\n@keyframes error {\n  0% {\n    fill: rgba(230,238,240,0.94);\n  }\n  100% {\n    fill: rgba(255,0,0,0.94);\n  }\n}\n@-moz-keyframes arrow-heartbeats {\n  0% {\n    stroke-width: 4px;\n  }\n  10% {\n    stroke-width: 8px;\n  }\n  30% {\n    stroke-width: 4px;\n  }\n  40% {\n    stroke-width: 8px;\n  }\n  60% {\n    stroke-width: 4px;\n  }\n}\n@-webkit-keyframes arrow-heartbeats {\n  0% {\n    stroke-width: 4px;\n  }\n  10% {\n    stroke-width: 8px;\n  }\n  30% {\n    stroke-width: 4px;\n  }\n  40% {\n    stroke-width: 8px;\n  }\n  60% {\n    stroke-width: 4px;\n  }\n}\n@-o-keyframes arrow-heartbeats {\n  0% {\n    stroke-width: 4px;\n  }\n  10% {\n    stroke-width: 8px;\n  }\n  30% {\n    stroke-width: 4px;\n  }\n  40% {\n    stroke-width: 8px;\n  }\n  60% {\n    stroke-width: 4px;\n  }\n}\n@keyframes arrow-heartbeats {\n  0% {\n    stroke-width: 4px;\n  }\n  10% {\n    stroke-width: 8px;\n  }\n  30% {\n    stroke-width: 4px;\n  }\n  40% {\n    stroke-width: 8px;\n  }\n  60% {\n    stroke-width: 4px;\n  }\n}\n@-moz-keyframes heartbeats {\n  0% {\n    stroke-width: 6px;\n  }\n  10% {\n    stroke-width: 12px;\n  }\n  30% {\n    stroke-width: 6px;\n  }\n  40% {\n    stroke-width: 12px;\n  }\n  60% {\n    stroke-width: 6px;\n  }\n}\n@-webkit-keyframes heartbeats {\n  0% {\n    stroke-width: 6px;\n  }\n  10% {\n    stroke-width: 12px;\n  }\n  30% {\n    stroke-width: 6px;\n  }\n  40% {\n    stroke-width: 12px;\n  }\n  60% {\n    stroke-width: 6px;\n  }\n}\n@-o-keyframes heartbeats {\n  0% {\n    stroke-width: 6px;\n  }\n  10% {\n    stroke-width: 12px;\n  }\n  30% {\n    stroke-width: 6px;\n  }\n  40% {\n    stroke-width: 12px;\n  }\n  60% {\n    stroke-width: 6px;\n  }\n}\n@keyframes heartbeats {\n  0% {\n    stroke-width: 6px;\n  }\n  10% {\n    stroke-width: 12px;\n  }\n  30% {\n    stroke-width: 6px;\n  }\n  40% {\n    stroke-width: 12px;\n  }\n  60% {\n    stroke-width: 6px;\n  }\n}\n\n.the-graph-light .the-graph-app {\n  background-color: #fff;\n  position: relative;\n}\n.the-graph-light svg {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.the-graph-light .arrow {\n  cursor: default;\n}\n.the-graph-light .click {\n  cursor: pointer;\n}\n.the-graph-light .drag {\n  cursor: pointer;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n  cursor: grab;\n}\n.the-graph-light .node-border {\n  fill: rgba(255,255,255,0.5);\n  stroke: #3b4245;\n  stroke-width: 2px;\n}\n.the-graph-light .node-rect {\n  fill: rgba(230,238,240,0.94);\n  stroke: none;\n}\n@-webkit-keyframes error {\n  0% {\n    fill: rgba(230,238,240,0.94);\n  }\n  100% {\n    fill: rgba(255,0,0,0.94);\n  }\n}\n@-moz-keyframes error {\n  0% {\n    fill: rgba(230,238,240,0.94);\n  }\n  100% {\n    fill: rgba(255,0,0,0.94);\n  }\n}\n@-o-keyframes error {\n  0% {\n    fill: rgba(230,238,240,0.94);\n  }\n  100% {\n    fill: rgba(255,0,0,0.94);\n  }\n}\n.the-graph-light .node.error .node-rect {\n  -webkit-animation: error 1s linear infinite alternate;\n  -moz-animation: error 1s linear infinite alternate;\n  -o-animation: error 1s linear infinite alternate;\n  animation: error 1s linear infinite alternate;\n  stroke: none;\n}\n.the-graph-light .eventcatcher {\n  fill: #000;\n  fill-opacity: 0.1;\n}\n.the-graph-light .node:hover .node-rect {\n  fill: rgba(230,238,240,0.97);\n}\n.the-graph-light .node:hover .node-border {\n  stroke: #808080;\n}\n.the-graph-light .node:hover .port-arc {\n  fill: #808080;\n}\n.the-graph-light .ex-inports .node-border {\n  fill: #e6e6e6;\n  stroke: none;\n}\n.the-graph-light .ex-outports .node-border {\n  fill: #e6e6e6;\n  stroke: none;\n}\n.the-graph-light .ex-inports .node .node-rect,\n.the-graph-light .ex-outports .node .node-rect,\n.the-graph-light .ex-inports .node:hover .node-rect,\n.the-graph-light .ex-outports .node:hover .node-rect {\n  fill: none;\n}\n.the-graph-light .selection .ex-inports .node .node-border,\n.the-graph-light .selection .ex-outports .node .node-border {\n  fill: #e6e6e6;\n}\n.the-graph-light .small .node-border {\n  fill: rgba(230,238,240,0.94);\n  stroke: none;\n}\n.the-graph-light .small .ex-inports .node .node-border,\n.the-graph-light .small .ex-outports .node .node-border {\n  fill: #e6e6e6;\n}\n.the-graph-light .node-bg {\n  opacity: 0;\n}\n.the-graph-light .selection .node .node-rect {\n  fill: rgba(245,248,249,0.94);\n}\n.the-graph-light .selection .node .node-border {\n  stroke: #d6dadc;\n}\n.the-graph-light .selection .node .port-arc {\n  fill: #d6dadc;\n}\n.the-graph-light .selection .node .node-icon {\n  fill: #bac2c4;\n}\n.the-graph-light .selection .node.selected .node-rect {\n  fill: rgba(230,238,240,0.94);\n}\n.the-graph-light .selection .node.selected .node-border {\n  stroke: #808080;\n}\n.the-graph-light .selection .node.selected .port-arc {\n  fill: #808080;\n}\n.the-graph-light .selection .node.selected .node-icon {\n  fill: #2f3537;\n}\n.the-graph-light .selection .ex-inports .node .node-icon {\n  fill: #ffe5cc;\n}\n.the-graph-light .selection .ex-outports .node .node-icon {\n  fill: #ccffdb;\n}\n.the-graph-light .small .selection .node .node-rect {\n  fill: none;\n}\n.the-graph-light .small .selection .node .node-border {\n  fill: rgba(245,248,249,0.94);\n  stroke: none;\n}\n.the-graph-light .small .selection .node.selected .node-rect {\n  fill: none;\n}\n.the-graph-light .small .selection .node.selected .node-border {\n  fill: rgba(230,238,240,0.94);\n  stroke: none;\n}\n.the-graph-light path {\n  fill: none;\n}\n.the-graph-light .arrow-bg {\n  stroke: #e6e6e6;\n  stroke-width: 2.5px;\n}\n.the-graph-light .edge-bg {\n  stroke: #e6e6e6;\n  stroke-width: 6px;\n}\n.the-graph-light .edge-fg {\n  stroke: #bfbfbf;\n  stroke-width: 4px;\n  transition-property: stroke-width;\n  transition-duration: 0.5s;\n}\n.the-graph-light .edge-touch {\n  stroke-width: 8px;\n  opacity: 0;\n}\n.the-graph-light .edge:hover .edge-bg,\n.the-graph-light .edge:hover .arrow-bg {\n  stroke: #808080;\n}\n.the-graph-light .edge.selected .arrow-bg {\n  stroke: #808080;\n  stroke-width: 5px;\n}\n.the-graph-light .edge.selected .edge-bg {\n  stroke-width: 10px;\n  stroke: #808080;\n}\n.the-graph-light .small .edge-bg {\n  stroke-width: 10px;\n}\n.the-graph-light .small .edge-fg {\n  stroke-width: 8px;\n}\n@-webkit-keyframes arrow-heartbeats {\n  0% {\n    stroke-width: 5px;\n  }\n  10% {\n    stroke-width: 10px;\n  }\n  30% {\n    stroke-width: 5px;\n  }\n  40% {\n    stroke-width: 10px;\n  }\n  60% {\n    stroke-width: 5px;\n  }\n}\n@-moz-keyframes arrow-heartbeats {\n  0% {\n    stroke-width: 5px;\n  }\n  10% {\n    stroke-width: 10px;\n  }\n  30% {\n    stroke-width: 5px;\n  }\n  40% {\n    stroke-width: 10px;\n  }\n  60% {\n    stroke-width: 5px;\n  }\n}\n@-o-keyframes arrow-heartbeats {\n  0% {\n    stroke-width: 5px;\n  }\n  10% {\n    stroke-width: 10px;\n  }\n  30% {\n    stroke-width: 5px;\n  }\n  40% {\n    stroke-width: 10px;\n  }\n  60% {\n    stroke-width: 5px;\n  }\n}\n.the-graph-light .edge.animated .arrow-bg {\n  stroke-linecap: round;\n  stroke-width: 5px;\n  stroke: #808080;\n  -webkit-animation: arrow-heartbeats 4s linear infinite;\n  -moz-animation: arrow-heartbeats 4s linear infinite;\n  -o-animation: arrow-heartbeats 4s linear infinite;\n  animation: arrow-heartbeats 4s linear infinite;\n}\n@-webkit-keyframes heartbeats {\n  0% {\n    stroke-width: 8px;\n  }\n  10% {\n    stroke-width: 16px;\n  }\n  30% {\n    stroke-width: 8px;\n  }\n  40% {\n    stroke-width: 16px;\n  }\n  60% {\n    stroke-width: 8px;\n  }\n}\n@-moz-keyframes heartbeats {\n  0% {\n    stroke-width: 8px;\n  }\n  10% {\n    stroke-width: 16px;\n  }\n  30% {\n    stroke-width: 8px;\n  }\n  40% {\n    stroke-width: 16px;\n  }\n  60% {\n    stroke-width: 8px;\n  }\n}\n@-o-keyframes heartbeats {\n  0% {\n    stroke-width: 8px;\n  }\n  10% {\n    stroke-width: 16px;\n  }\n  30% {\n    stroke-width: 8px;\n  }\n  40% {\n    stroke-width: 16px;\n  }\n  60% {\n    stroke-width: 8px;\n  }\n}\n.the-graph-light .edge.animated .edge-bg {\n  stroke-linecap: round;\n  stroke-width: 8px;\n  stroke: #808080;\n  -webkit-animation: heartbeats 4s linear infinite;\n  -moz-animation: heartbeats 4s linear infinite;\n  -o-animation: heartbeats 4s linear infinite;\n  animation: heartbeats 4s linear infinite;\n}\n.the-graph-light text {\n  font-family: "SourceCodePro", "Source Code Pro", Helvetica, Arial, sans-serif;\n  text-rendering: geometricPrecision; /* makes text scale smoothly */\n  font-size: 14px;\n  fill: #000;\n  text-anchor: middle;\n  dominant-baseline: central;\n}\n.the-graph-light .text-bg-rect {\n  fill: rgba(255,255,255,0.5);\n}\n.the-graph-light .node-label,\n.the-graph-light .node-sublabel {\n  text-anchor: middle;\n}\n.the-graph-light .small .node-label-bg {\n  visibility: hidden;\n}\n.the-graph-light .node-sublabel {\n  font-size: 9px;\n}\n.the-graph-light .node-sublabel-bg {\n  visibility: hidden;\n}\n.the-graph-light .big .node-sublabel-bg {\n  visibility: visible;\n}\n.the-graph-light .iip-path {\n  stroke-width: 1px;\n  stroke: #bfbfbf;\n}\n.the-graph-light .iip-info {\n  visibility: hidden;\n}\n.the-graph-light .iip-info .text-bg-text {\n  font-size: 5px;\n  text-anchor: end;\n}\n.the-graph-light .big .iip-info {\n  visibility: visible;\n}\n.the-graph-light .context-modal-bg {\n  fill: rgba(255,255,255,0.5);\n}\n.the-graph-light .context-node-rect {\n  fill: #e0e3e6;\n  stroke: #404040;\n  stroke-width: 0.5px;\n}\n.the-graph-light .context-node-icon {\n  font-size: 30px;\n  fill: #000;\n}\n.the-graph-light .context-icon {\n  font-size: 20px;\n  fill: #000;\n}\n.the-graph-light .context-node-label {\n  text-anchor: middle;\n}\n.the-graph-light .context-arc {\n  stroke-width: 72px;\n  stroke: rgba(224,227,230,0.95);\n}\n.the-graph-light .context-slice.click:hover .context-arc {\n  stroke: rgba(195,201,208,0.95);\n}\n.the-graph-light .context-circle {\n  stroke: #404040;\n  fill: none;\n  stroke-width: 1.5px;\n}\n.the-graph-light .context-circle-x {\n  stroke: #404040;\n  fill: none;\n  stroke-width: 1px;\n}\n.the-graph-light .context-arc-icon-label {\n  font-size: 12px;\n}\n.the-graph-light .context-port-bg {\n  fill: rgba(224,227,230,0.95);\n}\n.the-graph-light .context-port-bg.highlight {\n  stroke: #404040;\n  stroke-width: 1px;\n}\n.the-graph-light .context-port-hole {\n  stroke-width: 2px;\n  fill: rgba(224,227,230,0.95);\n  stroke: #404040;\n}\n.the-graph-light .context-port-path {\n  stroke: #404040;\n}\n.the-graph-light .context-port-label {\n  fill: #000;\n  dominant-baseline: central;\n}\n.the-graph-light .context-port-in .context-port-label {\n  text-anchor: end;\n}\n.the-graph-light .context-port-out .context-port-label {\n  text-anchor: start;\n}\n.the-graph-light .context-edge-label-out {\n  text-anchor: end;\n  dominant-baseline: central;\n}\n.the-graph-light .context-edge-label-in {\n  text-anchor: start;\n  dominant-baseline: central;\n}\n.the-graph-light .tooltip {\n  opacity: 1;\n  transition-property: opacity;\n  transition-duration: 0.3s;\n}\n.the-graph-light .tooltip.hidden {\n  opacity: 0;\n}\n.the-graph-light .tooltip-bg {\n  fill: rgba(255,255,255,0.9);\n  opacity: 0.75;\n}\n.the-graph-light .tooltip-label {\n  text-anchor: start;\n  font-size: 10px;\n}\n.the-graph-light .icon {\n  font-family: \'FontAwesomeSVG\';\n  text-anchor: middle;\n  dominant-baseline: central;\n}\n.the-graph-light .node-icon {\n  font-size: 45px;\n  fill: #3b4245;\n  transition-property: font-size, fill;\n  transition-duration: 0.5s, 0.3s;\n}\n.the-graph-light .small .node-icon {\n  fill: #171b1c;\n  font-size: 66px;\n}\n.the-graph-light .big .node-icon {\n  fill: #c8ced0;\n}\n.the-graph-light .ex-inports .node-icon,\n.the-graph-light .small .ex-inports .node-icon {\n  fill: #cc6300;\n}\n.the-graph-light .ex-outports .node-icon,\n.the-graph-light .small .ex-outports .node-icon {\n  fill: #00cc3d;\n}\n.the-graph-light .port-circle-bg {\n  fill: #3b4245;\n  opacity: 0;\n}\n.the-graph-light .port-arc {\n  fill: #3b4245;\n}\n.the-graph-light .port-circle-small {\n  fill: none;\n}\n.the-graph-light .small .port-circle {\n  visibility: hidden;\n}\n.the-graph-light .port-label {\n  fill: #0c0d0e;\n  visibility: hidden;\n  font-size: 6px;\n  dominant-baseline: central;\n}\n.the-graph-light .inports .port-label {\n  text-anchor: start;\n}\n.the-graph-light .outports .port-label {\n  text-anchor: end;\n}\n.the-graph-light .big .port-label {\n  visibility: visible;\n}\n.the-graph-light .big .ex-inports .port-label,\n.the-graph-light .big .ex-outports .port-label {\n  visibility: hidden;\n}\n.the-graph-light .group-box {\n  fill: rgba(191,191,191,0.05);\n  transition-property: fill;\n  transition-duration: 0.3s;\n}\n.the-graph-light .group-box:hover {\n  fill: rgba(191,191,191,0.15);\n}\n.the-graph-light .small .group-box {\n  stroke-width: 8px;\n}\n.the-graph-light .group-box.color0 {\n  fill: rgba(191,191,191,0.05);\n  stroke: rgba(191,191,191,0.15);\n}\n.the-graph-light .group-box.color1 {\n  fill: rgba(204,0,0,0.05);\n  stroke: rgba(204,0,0,0.15);\n}\n.the-graph-light .group-box.color2 {\n  fill: rgba(204,99,0,0.05);\n  stroke: rgba(204,99,0,0.15);\n}\n.the-graph-light .group-box.color3 {\n  fill: rgba(255,200,0,0.05);\n  stroke: rgba(255,200,0,0.15);\n}\n.the-graph-light .group-box.color4 {\n  fill: rgba(0,204,61,0.05);\n  stroke: rgba(0,204,61,0.15);\n}\n.the-graph-light .group-box.color5 {\n  fill: rgba(171,242,218,0.05);\n  stroke: rgba(171,242,218,0.15);\n}\n.the-graph-light .group-box.color6 {\n  fill: rgba(0,201,204,0.05);\n  stroke: rgba(0,201,204,0.15);\n}\n.the-graph-light .group-box.color7 {\n  fill: rgba(0,82,204,0.05);\n  stroke: rgba(0,82,204,0.15);\n}\n.the-graph-light .group-box.color8 {\n  fill: rgba(68,0,204,0.05);\n  stroke: rgba(68,0,204,0.15);\n}\n.the-graph-light .group-box.color9 {\n  fill: rgba(255,168,186,0.05);\n  stroke: rgba(255,168,186,0.15);\n}\n.the-graph-light .group-box.color10 {\n  fill: rgba(204,0,109,0.05);\n  stroke: rgba(204,0,109,0.15);\n}\n.the-graph-light .group-box.color0:hover {\n  fill: rgba(191,191,191,0.15);\n}\n.the-graph-light .group-box.color1:hover {\n  fill: rgba(204,0,0,0.15);\n}\n.the-graph-light .group-box.color2:hover {\n  fill: rgba(204,99,0,0.15);\n}\n.the-graph-light .group-box.color3:hover {\n  fill: rgba(255,200,0,0.15);\n}\n.the-graph-light .group-box.color4:hover {\n  fill: rgba(0,204,61,0.15);\n}\n.the-graph-light .group-box.color5:hover {\n  fill: rgba(171,242,218,0.15);\n}\n.the-graph-light .group-box.color6:hover {\n  fill: rgba(0,201,204,0.15);\n}\n.the-graph-light .group-box.color7:hover {\n  fill: rgba(0,82,204,0.15);\n}\n.the-graph-light .group-box.color8:hover {\n  fill: rgba(68,0,204,0.15);\n}\n.the-graph-light .group-box.color9:hover {\n  fill: rgba(255,168,186,0.15);\n}\n.the-graph-light .group-box.color10:hover {\n  fill: rgba(204,0,109,0.15);\n}\n.the-graph-light .selection .group-box.color0 {\n  fill: rgba(191,191,191,0.01);\n}\n.the-graph-light .selection .group-box.color1 {\n  fill: rgba(204,0,0,0.01);\n}\n.the-graph-light .selection .group-box.color2 {\n  fill: rgba(204,99,0,0.01);\n}\n.the-graph-light .selection .group-box.color3 {\n  fill: rgba(255,200,0,0.01);\n}\n.the-graph-light .selection .group-box.color4 {\n  fill: rgba(0,204,61,0.01);\n}\n.the-graph-light .selection .group-box.color5 {\n  fill: rgba(171,242,218,0.01);\n}\n.the-graph-light .selection .group-box.color6 {\n  fill: rgba(0,201,204,0.01);\n}\n.the-graph-light .selection .group-box.color7 {\n  fill: rgba(0,82,204,0.01);\n}\n.the-graph-light .selection .group-box.color8 {\n  fill: rgba(68,0,204,0.01);\n}\n.the-graph-light .selection .group-box.color9 {\n  fill: rgba(255,168,186,0.01);\n}\n.the-graph-light .selection .group-box.color10 {\n  fill: rgba(204,0,109,0.01);\n}\n.the-graph-light .selection .group-box.selection {\n  fill: rgba(128,128,128,0.15);\n  stroke: #808080;\n  stroke-width: 1px;\n}\n.the-graph-light .selection .group-box.selection:hover {\n  fill: rgba(102,102,102,0.25);\n}\n.the-graph-light .group-label {\n  text-anchor: start;\n  fill: #000;\n  font-size: 20px;\n  transition-property: font-size;\n  transition-duration: 0.5s;\n}\n.the-graph-light .small .group-label {\n  font-size: 30px;\n  transition-property: font-size;\n  transition-duration: 0.5s;\n}\n.the-graph-light .group-description {\n  fill: #000;\n  font-size: 12px;\n  text-anchor: start;\n}\n.the-graph-light .small .group-description {\n  visibility: hidden;\n}\n.the-graph-light .stroke,\n.the-graph-light .stroke.route0,\n.the-graph-light .selection .selected .stroke,\n.the-graph-light .selection .selected .stroke.route0 {\n  stroke: #bfbfbf;\n}\n.the-graph-light .stroke.route1,\n.the-graph-light .selection .selected .stroke.route1 {\n  stroke: #c00;\n}\n.the-graph-light .stroke.route2,\n.the-graph-light .selection .selected .stroke.route2 {\n  stroke: #cc6300;\n}\n.the-graph-light .stroke.route3,\n.the-graph-light .selection .selected .stroke.route3 {\n  stroke: #ffc800;\n}\n.the-graph-light .stroke.route4,\n.the-graph-light .selection .selected .stroke.route4 {\n  stroke: #00cc3d;\n}\n.the-graph-light .stroke.route5,\n.the-graph-light .selection .selected .stroke.route5 {\n  stroke: #abf2da;\n}\n.the-graph-light .stroke.route6,\n.the-graph-light .selection .selected .stroke.route6 {\n  stroke: #00c9cc;\n}\n.the-graph-light .stroke.route7,\n.the-graph-light .selection .selected .stroke.route7 {\n  stroke: #0052cc;\n}\n.the-graph-light .stroke.route8,\n.the-graph-light .selection .selected .stroke.route8 {\n  stroke: #40c;\n}\n.the-graph-light .stroke.route9,\n.the-graph-light .selection .selected .stroke.route9 {\n  stroke: #ffa8ba;\n}\n.the-graph-light .stroke.route10,\n.the-graph-light .selection .selected .stroke.route10 {\n  stroke: #cc006d;\n}\n.the-graph-light .selection .stroke,\n.the-graph-light .selection .stroke.route0 {\n  stroke: #e6e6e6;\n}\n.the-graph-light .selection .stroke.route1 {\n  stroke: #fcc;\n}\n.the-graph-light .selection .stroke.route2 {\n  stroke: #ffe5cc;\n}\n.the-graph-light .selection .stroke.route3 {\n  stroke: #fff4cc;\n}\n.the-graph-light .selection .stroke.route4 {\n  stroke: #ccffdb;\n}\n.the-graph-light .selection .stroke.route5 {\n  stroke: #d3f8ec;\n}\n.the-graph-light .selection .stroke.route6 {\n  stroke: #ccfeff;\n}\n.the-graph-light .selection .stroke.route7 {\n  stroke: #cce0ff;\n}\n.the-graph-light .selection .stroke.route8 {\n  stroke: #dcf;\n}\n.the-graph-light .selection .stroke.route9 {\n  stroke: #ffccd6;\n}\n.the-graph-light .selection .stroke.route10 {\n  stroke: #ffcce7;\n}\n.the-graph-light .fill,\n.the-graph-light .fill.route0,\n.the-graph-light .selection .selected .fill,\n.the-graph-light .selection .selected .fill.route0 {\n  fill: #bfbfbf;\n}\n.the-graph-light .fill.route1,\n.the-graph-light .selection .selected .fill.route1 {\n  fill: #c00;\n}\n.the-graph-light .fill.route2,\n.the-graph-light .selection .selected .fill.route2 {\n  fill: #cc6300;\n}\n.the-graph-light .fill.route3,\n.the-graph-light .selection .selected .fill.route3 {\n  fill: #ffc800;\n}\n.the-graph-light .fill.route4,\n.the-graph-light .selection .selected .fill.route4 {\n  fill: #00cc3d;\n}\n.the-graph-light .fill.route5,\n.the-graph-light .selection .selected .fill.route5 {\n  fill: #abf2da;\n}\n.the-graph-light .fill.route6,\n.the-graph-light .selection .selected .fill.route6 {\n  fill: #00c9cc;\n}\n.the-graph-light .fill.route7,\n.the-graph-light .selection .selected .fill.route7 {\n  fill: #0052cc;\n}\n.the-graph-light .fill.route8,\n.the-graph-light .selection .selected .fill.route8 {\n  fill: #40c;\n}\n.the-graph-light .fill.route9,\n.the-graph-light .selection .selected .fill.route9 {\n  fill: #ffa8ba;\n}\n.the-graph-light .fill.route10,\n.the-graph-light .selection .selected .fill.route10 {\n  fill: #cc006d;\n}\n.the-graph-light .selection .fill,\n.the-graph-light .selection .fill.route0 {\n  fill: #e6e6e6;\n}\n.the-graph-light .selection .fill.route1 {\n  fill: #fcc;\n}\n.the-graph-light .selection .fill.route2 {\n  fill: #ffe5cc;\n}\n.the-graph-light .selection .fill.route3 {\n  fill: #fff4cc;\n}\n.the-graph-light .selection .fill.route4 {\n  fill: #ccffdb;\n}\n.the-graph-light .selection .fill.route5 {\n  fill: #d3f8ec;\n}\n.the-graph-light .selection .fill.route6 {\n  fill: #ccfeff;\n}\n.the-graph-light .selection .fill.route7 {\n  fill: #cce0ff;\n}\n.the-graph-light .selection .fill.route8 {\n  fill: #dcf;\n}\n.the-graph-light .selection .fill.route9 {\n  fill: #ffccd6;\n}\n.the-graph-light .selection .fill.route10 {\n  fill: #ffcce7;\n}\n@-moz-keyframes error {\n  0% {\n    fill: rgba(230,238,240,0.94);\n  }\n  100% {\n    fill: rgba(255,0,0,0.94);\n  }\n}\n@-webkit-keyframes error {\n  0% {\n    fill: rgba(230,238,240,0.94);\n  }\n  100% {\n    fill: rgba(255,0,0,0.94);\n  }\n}\n@-o-keyframes error {\n  0% {\n    fill: rgba(230,238,240,0.94);\n  }\n  100% {\n    fill: rgba(255,0,0,0.94);\n  }\n}\n@keyframes error {\n  0% {\n    fill: rgba(230,238,240,0.94);\n  }\n  100% {\n    fill: rgba(255,0,0,0.94);\n  }\n}\n@-moz-keyframes arrow-heartbeats {\n  0% {\n    stroke-width: 5px;\n  }\n  10% {\n    stroke-width: 10px;\n  }\n  30% {\n    stroke-width: 5px;\n  }\n  40% {\n    stroke-width: 10px;\n  }\n  60% {\n    stroke-width: 5px;\n  }\n}\n@-webkit-keyframes arrow-heartbeats {\n  0% {\n    stroke-width: 5px;\n  }\n  10% {\n    stroke-width: 10px;\n  }\n  30% {\n    stroke-width: 5px;\n  }\n  40% {\n    stroke-width: 10px;\n  }\n  60% {\n    stroke-width: 5px;\n  }\n}\n@-o-keyframes arrow-heartbeats {\n  0% {\n    stroke-width: 5px;\n  }\n  10% {\n    stroke-width: 10px;\n  }\n  30% {\n    stroke-width: 5px;\n  }\n  40% {\n    stroke-width: 10px;\n  }\n  60% {\n    stroke-width: 5px;\n  }\n}\n@keyframes arrow-heartbeats {\n  0% {\n    stroke-width: 5px;\n  }\n  10% {\n    stroke-width: 10px;\n  }\n  30% {\n    stroke-width: 5px;\n  }\n  40% {\n    stroke-width: 10px;\n  }\n  60% {\n    stroke-width: 5px;\n  }\n}\n@-moz-keyframes heartbeats {\n  0% {\n    stroke-width: 8px;\n  }\n  10% {\n    stroke-width: 16px;\n  }\n  30% {\n    stroke-width: 8px;\n  }\n  40% {\n    stroke-width: 16px;\n  }\n  60% {\n    stroke-width: 8px;\n  }\n}\n@-webkit-keyframes heartbeats {\n  0% {\n    stroke-width: 8px;\n  }\n  10% {\n    stroke-width: 16px;\n  }\n  30% {\n    stroke-width: 8px;\n  }\n  40% {\n    stroke-width: 16px;\n  }\n  60% {\n    stroke-width: 8px;\n  }\n}\n@-o-keyframes heartbeats {\n  0% {\n    stroke-width: 8px;\n  }\n  10% {\n    stroke-width: 16px;\n  }\n  30% {\n    stroke-width: 8px;\n  }\n  40% {\n    stroke-width: 16px;\n  }\n  60% {\n    stroke-width: 8px;\n  }\n}\n@keyframes heartbeats {\n  0% {\n    stroke-width: 8px;\n  }\n  10% {\n    stroke-width: 16px;\n  }\n  30% {\n    stroke-width: 8px;\n  }\n  40% {\n    stroke-width: 16px;\n  }\n  60% {\n    stroke-width: 8px;\n  }\n}\n\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(n.content)},536:function(e,t,n){"use strict";n.r(t);var o=n(2),i=n(0),r=n(29),a=n.n(r),s=n(12);class l extends s.a{static get properties(){return{element:{type:String},inports:{type:String},outports:{type:String}}}}customElements.define("noflo-polymer",l);var p=n(23),c=n(18),h=n.n(c);n(20);Object(o.a)({_template:o.b`
    <style include="noflo-modal-styles">
      #cta {
        display: inline;
        width: auto;
        background-color: transparent;
        color: hsl(190, 100%, 30%);
        border: 1px solid hsl(190, 100%, 30%);
        font-size: 13px;
        height: 36px;
        padding-left: 36px;
        padding-right: 36px;
        cursor: pointer;
      }
    </style>
    <div class="modal-container" on-click="bgClick">
      <h1>Account settings for <span>{{user.flowhub-user.name}}</span></h1>
      <form>
        <label>
          Theme
          <select name="type" value="{{theme::input}}">
            <option value="dark" selected\$="[[_isSelectedTheme('dark', theme)]]">Lazer</option>
            <option value="light" selected\$="[[_isSelectedTheme('light', theme)]]">Tube</option>
          </select>
        </label>
        <label>
          Debug [[env.NOFLO_APP_TITLE]] in Flowhub (requires reload)
          <select name="type" value="{{debug::input}}">
            <option value="false" selected\$="[[_isSelectedDebug('false', debug)]]">Disabled</option>
            <option value="true" selected\$="[[_isSelectedDebug('true', debug)]]">Enabled</option>
          </select>
        </label>
        <div class="toolbar">
          <button on-click="send">Save</button>
          <a on-click="close">Cancel</a>
        </div>
      </form>
    </div>
`,is:"noflo-account-settings",properties:{theme:{type:String},debug:{type:String,value:"false"},user:{type:Object,value:()=>({}),notify:!0,observer:"userChanged"},env:{type:Object,value:()=>({NOFLO_APP_TITLE:"NoFlo Development Environment"})}},attached(){Object(i.a)(document.getElementById("container")).classList.add("blur"),Object(i.a)(this).classList.add("modal-content")},detached(){Object(i.a)(document.getElementById("container")).classList.remove("blur")},send(e){e.preventDefault(),e.stopPropagation(),this.fire("updated",{"flowhub-theme":this.theme,"flowhub-debug":this.debug}),this.close()},bgClick(e){e.stopPropagation()},close(){Object(i.a)(this).parentNode&&Object(i.a)(Object(i.a)(this).parentNode).removeChild(this)},listeners:{click:"close"},userChanged(){this.theme=this.user["flowhub-theme"]||"dark",this.debug=this.user["flowhub-debug"]||"false"},_isSelectedTheme:(e,t)=>e===t,_isSelectedDebug:(e,t)=>e===t}),Object(o.a)({_template:o.b`
    <style>
      :host {
        background-color: var(--noflo-ui-background) !important;
        color: var(--noflo-ui-text);
        display: block;
        padding-top: 18px;
        width: 100%;
      }
      nav {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        padding-left: 72px;
        padding-right: 72px;
        padding-bottom: 18px;
      }
      section.app {
        display: flex;
        flex-direction: row;
      }
      section.app .logo {
        margin-right: 18px;
        width: 72px;
        height: 72px;
      }
      section.app .logo img {
        width: 72px;
        height: 72px;
        display: inline-block;
      }
      section.app h1 {
        font-size: 18px;
        line-height: 36px;
        margin: 0;
        padding: 0;
      }
      section.app h2 {
        font-size: 9px;
        line-height: 36px;
        margin: 0;
        padding: 0;
      }
      section.user {
        text-align: right;
      }
      section.user .avatar {
        display: inline;
        line-height: 18px;
      }
      section.user .avatar img {
        width: 18px;
        height: 18px;
        display: inline-block;
      }
      section.user h1 {
        display: inline;
        line-height: 36px;
      }
      section.user .toolbar {
        line-height: 36px;
        font-size: 9px;
      }
      section.user .toolbar a,
      section.user .toolbar button {
        padding: 3px;
        text-shadow: none;
        text-decoration: none;
        box-shadow: none;
        font-family: "SourceCodePro",Helvetica,Arial,sans-serif;
        font-size: 9px;
        margin-left: 9px;
        cursor: pointer;
        border: none;
        background-color: transparent;
        color: var(--noflo-ui-text);
      }
      section.user .toolbar a.login::before {
        content: ' ';
        position: absolute;
        border: 2px solid hsla(190, 98%, 46%, .8);
        border-radius: 6px;
        top: -6px;
        bottom: -6px;
        left: -6px;
        right: -6px;
        transition: all 0.3s ease;
      }
      section.user .toolbar a.login {
        position: relative;
        padding: 9px;
        font-size: 18px;
        border: 1px solid hsl(190, 98%, 46%);
        background: hsla(190, 98%, 46%, .8);
        line-height: 18px;
        border-radius: 3px;
        color: var(--noflo-ui-text);
        font-family: "SourceCodePro",Helvetica,Arial,sans-serif;
        box-sizing: border-box;
        transition: background-color 0.2s ease-in;
      }
      section.user .toolbar a.login:hover,
      section.user .toolbar a.login:focus,
      section.user .toolbar a.login:active {
        background-color: var(--noflo-ui-background) !important;
        color: var(--noflo-ui-text) !important;
        outline: 0;
      }
      div.banner {
        background-color: hsla(190, 98%, 46%, .8);
        padding: 18px;
        padding-left: 72px;
        padding-right: 72px;
      }
      div.banner a {
        color: var(--noflo-ui-text);
        cursor: pointer;
      }
      div.banner div {
        margin-top: 18px;
      }
      div.banner button,
      div.banner a.cta,
      div.banner input[type="submit"] {
        display: inline-block;
        color: var(--noflo-ui-background);
        background-color: var(--noflo-ui-text);
        border: none;
        font-size: 13px;
        border-radius: 3px;
        font-family: "SourceCodePro",Helvetica,Arial,sans-serif;
        height: 36px;
        padding-left: 36px;
        padding-right: 36px;
        padding-top: 1px;
        padding-bottom: 1px;
        line-height: 36px;
        margin: 0px;
        cursor: pointer;
        font-size: 13px;
        text-decoration: none;
      }
      </style>
    <nav>
    <section class="app">
      <div class="logo">
        <img src="app/[[env.NOFLO_THEME]]-72.png">
      </div>
      <div class="name">
        <h1>
          [[env.NOFLO_APP_NAME]]
        </h1>
        <h2>
          v[[env.NOFLO_APP_VERSION]]
        </h2>
      </div>
    </section>
    <section class="user">
    <template is="dom-if" if="{{user.flowhub-user}}">
      <div>
        <template is="dom-if" if="{{user.flowhub-avatar}}">
          <div class="avatar"><img src="{{user.flowhub-avatar}}"></div>
        </template>
        <h1>
          <span>{{user.github-username}}</span>
        </h1>
        <div class="toolbar">
          <a href="https://docs.flowhub.io" target="_blank">Docs</a>
          <a on-click="openSettings">Settings</a>
          <button on-click="logout">Logout</button>
        </div>
      </div>
    </template>
    <template is="dom-if" if="{{!user.flowhub-user}}">
      <div class="toolbar">
        <a id="loginbutton" class="login" on-click="login">Login</a>
      </div>
    </template>
    </section>
    </nav>
    <template is="dom-if" if="{{user.flowhub-user}}">
      <template is="dom-if" if="{{askForScope.length}}">
        <div class="banner">
          To be able to synchronize your GitHub projects, [[env.NOFLO_APP_TITLE]] needs repository access permissions. <a href="https://docs.flowhub.io/github-integration/" target="_blank">Read more</a>
          <div>
            Grant access to:
            <template is="dom-repeat" items="{{askForScope}}" as="scope">
              <template is="dom-if" if="{{_ifPublicScope(scope)}}">
                <button on-click="relogin" data-scope\$="{{scope}}">Public repositories only</button>
              </template>
              <template is="dom-if" if="{{_ifPrivateScope(scope)}}">
                <button on-click="relogin" data-scope\$="{{scope}}">Public and private repositories</button>
              </template>
            </template>
          </div>
        </div>
      </template>
    </template>
    </template>
`,is:"noflo-account",properties:{theme:{type:String},askForScope:{type:Array,value:()=>[]},help:{value:null},user:{type:Object,value:()=>({}),notify:!0,observer:"userChanged"},env:{type:Object,value:()=>({NOFLO_THEME:"noflo",NOFLO_APP_NAME:"NoFlo UI",NOFLO_APP_TITLE:"NoFlo Development Environment",NOFLO_APP_VERSION:"0.29.1"})}},login(){this.fire("login",!0)},logout(){this.fire("logout",!0)},relogin(e){e.preventDefault();const t=e.currentTarget.getAttribute("data-scope");this.fire("relogin",t)},userChanged(){this.user&&this.user["flowhub-user"]&&this.user["flowhub-user"].github&&(this.user["flowhub-user"].github.scopes&&-1!==this.user["flowhub-user"].github.scopes.indexOf("repo")||(this.set("askForScope",["repo"]),this.user["flowhub-user"].github.scopes&&-1!==this.user["flowhub-user"].github.scopes.indexOf("public_repo")||this.push("askForScope","public_repo")))},openSettings(){if(Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length)return;if(!this.user["flowhub-user"])return;const e=document.createElement("noflo-account-settings");e.user=this.user,e.theme=this.theme,Object(i.a)(document.body).appendChild(e),e.addEventListener("updated",e=>{this.fire("userUpdated",e.detail)})},_ifPublicScope:e=>"public_repo"===e,_ifPrivateScope:e=>"repo"===e});var d=n(113),u=n(82),g=n.n(u);class m extends s.a{static get template(){return s.b`
    <style>
    :host {
      display: inline-block;
      font: normal normal normal 14px/1 FontAwesomeSVG;
      font-size: inherit;
      text-rendering: auto;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    </style>
    [[_getIcon(icon, fallback)]]
`}static get is(){return"noflo-icon"}static get properties(){return{icon:{type:String},fallback:{type:String}}}constructor(){super(),this.icons=g.a}_getIcon(e,t){return this.icons.getIcon(e,t)}}customElements.define(m.is,m),Object(o.a)({_template:o.b`
    <style>
      :host {
        top: calc(50% - 220px) !important;
      }
      ul.types {
        padding: 0px;
        margin: 0px;
        margin-left: -9px;
        margin-right: -9px;
        list-style: none;
      }
      ul.types li {
        width: 274px;
        height: 105px;
        overflow: hidden;
        display: inline-block;
        text-align: center;
        background-color: hsl(192, 25%, 75%);
        color: hsl(189, 50%, 80%);
        border-radius: 3px;
        margin-right: 9px;
        margin-left: 9px;
        margin-bottom: 18px;
        position: relative;
        cursor: pointer;
        transition: background-color 0.3s ease-in-out;
      }
      ul.types li.selected,
      ul.types li:hover {
        background-color: hsl(190, 100%, 30%);
        color: white;
        cursor: default;
      }
      ul.types li.selected p {
        color: hsl(0, 0%, 80%);
      }
      ul.types li h2 {
        position: absolute;
        top: 36px;
        line-height: 36px;
        width: 180px;
        text-transform: none;
        font-size: 10px;
        text-align: left;
        white-space: nowrap;
        left: 18px;
        padding: 0px;
        margin: 0px;
        text-overflow: ellipsis;
        overflow: hidden;
      }
      ul.types li p {
        position: absolute;
        top: 53px;
        left: 18px;
        width: 180px;
        text-transform: uppercase;
        font-size: 8px;
        text-align: left;
        max-height: 36px;
        overflow: hidden;
        color: hsl(189, 50%, 80%);
      }
      ul.types li noflo-icon {
        font-size: 72px;
        position: absolute;
        right: -8px;
        top: 9px;
      }
    </style>
    <ul class="types">
      <template is="dom-repeat" items="{{available}}" as="availtype">
      <li on-click="selectType" data-id\$="{{availtype.id}}" class\$="{{_computeClass(availtype, type)}}">
        <h2>{{availtype.label}}</h2>
        <noflo-icon icon="{{availtype.icon}}"></noflo-icon>
        <template is="dom-if" if="{{_computeIf(availtype)}}">
        <p><span>{{availtype.runtimes.length}}</span> runtime</p>
        </template>
        <template is="dom-if" if="{{_computeIf2(availtype)}}">
        <p><span>{{availtype.runtimes.length}}</span> runtimes</p>
        </template>
      </li>
      </template>
    </ul>
`,is:"noflo-type-selector",properties:{available:{type:Array,value:()=>[]},runtimes:{type:Array,value:()=>[],notify:!0,observer:"runtimesChanged"},type:{type:String,value:"noflo-nodejs",notify:!0}},runtimesChanged(){this.available=[{id:"all",label:"Multi-platform",icon:"asterisk",runtimes:[]}],this.runtimes&&this.runtimes.forEach(e=>{if(!e.type)return;this.getByType(e.type).runtimes.push(e)})},selectType(e){this.type=e.currentTarget.getAttribute("data-id")},getByType(e){for(let t=0;t<this.available.length;t+=1)if(this.available[t].id===e)return this.available[t];return this.prepareAvailable(e)},prepareAvailable(e){const t={};Object.keys(h.a).forEach(e=>{const n=h.a[e];Object.keys(n.runtimetypes).forEach(e=>{t[e]=n.runtimetypes[e]})});const n={id:e,label:e,icon:"cogs",runtimes:[]},o=t[e];return o&&o.icon&&(n.icon=o.icon),o&&o.shortname&&(n.label=o.shortname),this.push("available",n),n},_computeClass(e,t){return this.tokenList({selected:t===e.id})},_computeIf:e=>1===e.runtimes.length,_computeIf2:e=>e.runtimes.length>1,tokenList(e){const t=[];return Object.keys(e).forEach(n=>{e[n]&&t.push(n)}),t.join(" ")}}),Object(o.a)({_template:o.b`
    <style include="noflo-modal-styles">
    </style>
    <div class="modal-container" on-click="bgClick">
      <h1>Create new project</h1>
      <form>
        <div class="modal-content">
        <label>
          Project label
          <input type="text" value="{{name::input}}" placeholder="My Cool Project" required="">
        </label>
        <label>
          Project namespace
          <input type="text" value="{{namespace::input}}" placeholder="my-project" autocapitalize="off" autocorrect="off" readonly="">
        </label>
        <label>
          Primary Type
          <noflo-type-selector type="{{type}}" runtimes="{{runtimes}}"></noflo-type-selector>
        </label>
        </div>
        <div class="toolbar">
          <button on-click="send" class\$="{{_computeClass(canSend)}}">Create</button>
          <a on-click="close">Cancel</a>
        </div>
      </form></div>
`,is:"noflo-new-project",properties:{canSend:{type:Boolean,value:!1},name:{type:String,value:"",observer:"nameChanged"},namespace:{type:String,value:""},projectId:{type:String,value:""},projects:{value:null},runtimes:{value:null,notify:!0},type:{type:String,value:"noflo-browser"}},attached(){Object(i.a)(document.getElementById("container")).classList.add("blur"),Object(i.a)(this).classList.add("modal-content")},detached(){Object(i.a)(document.getElementById("container")).classList.remove("blur")},produceNamespace:e=>e.toLowerCase().replace(/[\s/._]/g,"-").replace("--","-").replace(/[^a-z0-9-]/g,""),nameChanged(){this.namespace=this.produceNamespace(this.name),this.projectId=Object(d.a)(),this.name&&this.namespace&&this.projectId?this.canSend=!0:this.canSend=!1},send(e){e&&e.preventDefault(),this.name&&this.namespace&&this.projectId&&("function"==typeof ga&&ga("send","event","button","click","newProject"),this.fire("new",{id:this.projectId,name:this.name,namespace:this.produceNamespace(this.namespace),type:this.type,graphs:[],components:[],specs:[]}),this.close())},bgClick(e){e.stopPropagation()},close(){Object(i.a)(this).parentNode&&Object(i.a)(Object(i.a)(this).parentNode).removeChild(this)},listeners:{click:"close"},_computeClass(e){return this.tokenList({disabled:!e})},tokenList(e){const t=[];return Object.keys(e).forEach(n=>{e[n]&&t.push(n)}),t.join(" ")}}),Object(o.a)({_template:o.b`
    <style include="noflo-modal-styles">
    </style>
    <div class="modal-container" on-click="bgClick">
      <h1>Add a new repository</h1>
      <div class="modal-content">
      <form>
        <label>
          GitHub repository name
          <input type="text" value="{{repo::input}}" placeholder="username/repository" required="">
        </label>
      </form>
      </div>
      <div class="toolbar">
        <button on-click="send" class\$="{{_computeClass(canSend)}}">Add</button>
        <a on-click="close">Cancel</a>
      </div>
    </div>
`,is:"noflo-new-repository",properties:{canSend:{type:Boolean,value:!1},repo:{type:String,value:"",observer:"repoChanged"},runtimes:{notify:!0},token:{type:String,value:""}},attached(){Object(i.a)(document.getElementById("container")).classList.add("blur"),Object(i.a)(this).classList.add("modal-content")},detached(){Object(i.a)(document.getElementById("container")).classList.remove("blur")},repoChanged(){if(this.canSend=!1,this.repo&&"string"==typeof this.repo){const e=this.repo.match(/^(git@github\.com:|https:\/\/github\.com\/)?(\S+\/\S+?(?=\.git|$))(\.git)?$/);if(!e||!e[2])return;e[2]!==this.repo&&(this.repo=e[2]),this.canSend=!0}},send(e){e&&e.preventDefault(),this.repo&&("function"==typeof ga&&ga("send","event","button","click","newRepository"),this.fire("new",this.repo),this.close())},bgClick(e){e.stopPropagation()},close(){Object(i.a)(this).parentNode&&Object(i.a)(Object(i.a)(this).parentNode).removeChild(this)},listeners:{click:"close"},_computeClass(e){return this.tokenList({disabled:!e})},tokenList(e){const t=[];return Object.keys(e).forEach(n=>{e[n]&&t.push(n)}),t.join(" ")}}),Object(o.a)({_template:o.b`
    <style include="noflo-modal-styles">
      :host {
        display: block;
      }
      a {
        color: hsl(190, 100%, 30%);
      }
      p {
        font-size: 11px;
      }
    </style>
    <div class="modal-container" on-click="bgClick">
      <h1>Add new runtime</h1>
      <form>
        <div class="modal-content">
        <label>
          Runtime name
          <input type="text" value="{{name::input}}" placeholder="New local runtime" required="">
        </label>
        <label>
          IP address
          <input type="text" value="{{address::input}}" placeholder="127.0.0.1" required="">
        </label>
        <label>
          Port
          <input type="text" data-type="int" value="{{port::input}}" placeholder="3569" required="">
        </label>
        <label>
          Type
          <select id="type" value="{{type::input}}">
            <template is="dom-repeat" items="{{availableTypes}}" as="type">
            <option value="{{type}}">{{type}}</option>
            </template>
          </select>
        </label>
        <label>
          Secret
          <input type="text" value="{{secret::input}}" placeholder="secret-string" required="">
        </label>
        </div>
        <div class="toolbar">
          <button on-click="create" class\$="{{_computeClass(canCreate)}}">Create</button>
          <a on-click="close">Cancel</a>
        </div>
      </form>
    </div>
`,is:"noflo-add-runtime",properties:{address:{type:String,value:"localhost",observer:"validate"},availableTypes:{type:Array,value:()=>["","custom","noflo-nodejs","microflo","javafbp","imgflo","sndflo","msgflo"]},canCreate:{type:Boolean,value:!1},name:{type:String,value:"",observer:"validate"},port:{type:String,value:"3569",observer:"validate"},secret:{type:String,value:""},type:{type:String,value:"",observer:"validate"}},attached(){Object(i.a)(this).classList.add("modal-content")},detached(){},bgClick(e){e.stopPropagation()},validate(){this.name&&this.address&&this.port&&this.type&&(this.canCreate=!0)},close(){Object(i.a)(this).parentNode&&Object(i.a)(Object(i.a)(this).parentNode).removeChild(this)},createUUID:()=>Object(d.a)(),create(e){e&&e.preventDefault();const t={name:this.name,label:this.name,id:this.createUUID(),type:this.type,seen:(new Date).toString(),protocol:"websocket",address:`ws://${this.address}:${this.port}`,description:"",secret:this.secret,icon:"cloud"};this.fire("new",t),this.close()},listeners:{click:"close"},_computeRepeat:(e,t)=>t in e,_computeClass(e){return this.tokenList({disabled:!e})},tokenList(e){const t=[];return Object.keys(e).forEach(n=>{e[n]&&t.push(n)}),t.join(" ")}});const b=[],f={};Object.keys(h.a).forEach(e=>{const t=h.a[e];Object.keys(t.runtimetypes).forEach(e=>{const n=t.runtimetypes[e],o={name:e,label:n.shortname,icon:n.icon,description:n.description,url:n.helpurl};f[e]||(f[e]=o,b.push(o))})}),Object(o.a)({_template:o.b`
    <style include="noflo-modal-styles">
      a {
        color: hsl(190, 100%, 30%);
      }
      p {
        font-size: 11px;
      }
      ul.runtimes {
        padding: 0px;
        margin: 0px;
        margin-left: -10px;
        margin-right: -10px;
        list-style: none;
      }
      ul.runtimes li {
        display: inline-block;
      }
      ul.runtimes li a {
        width: 274px;
        height: 105px;
        overflow: hidden;
        display: inline-block;
        text-align: center;
        background-color: hsl(190, 100%, 30%);
        color: white;
        border-radius: 3px;
        margin-right: 9px;
        margin-left: 9px;
        margin-bottom: 18px;
        position: relative;
        cursor: pointer;
        text-decoration: none;
      }
      ul.runtimes li h2 {
        position: absolute;
        top: 36px;
        line-height: 36px;
        width: 180px;
        text-transform: none;
        font-size: 10px;
        text-align: left;
        white-space: nowrap;
        left: 18px;
        padding: 0px;
        margin: 0px;
        text-overflow: ellipsis;
        overflow: hidden;
        text-decoration: none;
      }
      ul.runtimes li p {
        position: absolute;
        top: 53px;
        left: 18px;
        width: 180px;
        text-transform: uppercase;
        font-size: 8px;
        text-align: left;
        max-height: 36px;
        overflow: hidden;
        color: hsl(189, 50%, 80%);
        text-decoration: none;
      }
      ul.runtimes li a noflo-icon {
        font-size: 72px;
        position: absolute;
        right: -8px;
        top: 9px;
        text-decoration: none;
      }
    </style>
    <div class="modal-container" on-click="bgClick">
      <h1>Register new runtime</h1>
      <div class="modal-content">
      <p>
      [[env.NOFLO_APP_TITLE]] supports all flow-based programming runtimes that are compatible with the <a href="https://flowbased.github.io/fbp-protocol/" target="_blank">FBP protocol</a>.
      [[env.NOFLO_APP_TITLE]] comes with a bundled <a href="http://noflojs.org" target="_blank">NoFlo</a> runtime for the browser.
      Here are some other popular ones:
      </p>
      <ul class="runtimes">
      <template is="dom-repeat" items="{{runtimes}}" as="runtime">
      <li class\$="{{runtime.name}}">
        <a target="_blank" href\$="{{runtime.url}}">
          <noflo-icon icon="{{ runtime.icon }}" fallback="cog"></noflo-icon>
          <h2>{{runtime.label}}</h2>
          <p>{{runtime.description}}</p>
        </a>
      </li>
      </template>
      </ul>
      <p>
      Most runtimes provide a link that connects to them in [[env.NOFLO_APP_TITLE]] live mode at start-up. You can also add a runtime manually.
      </p>
      </div>
      <div class="toolbar">
        <button on-click="addRuntime">Add manually</button>
        <button on-click="close">Close</button>
      </div>
    </div>
`,is:"noflo-new-runtime",properties:{runtimes:{value:()=>b},env:{type:Object,value:()=>({NOFLO_APP_TITLE:"NoFlo Development Environment"})}},attached(){Object(i.a)(document.getElementById("container")).classList.add("blur"),Object(i.a)(this).classList.add("modal-content")},detached(){this.runtimeAdd&&(Object(i.a)(this.runtimeAdd).parentNode&&Object(i.a)(Object(i.a)(this.runtimeAdd).parentNode).removeChild(this.runtimeAdd),this.runtimeAdd=null),Object(i.a)(document.getElementById("container")).classList.remove("blur")},bgClick(e){e.stopPropagation()},close(){Object(i.a)(this).parentNode&&Object(i.a)(Object(i.a)(this).parentNode).removeChild(this)},addRuntime(e){e.preventDefault(),this.runtimeAdd=document.createElement("noflo-add-runtime"),Object(i.a)(document.body).appendChild(this.runtimeAdd),this.runtimeAdd.addEventListener("new",e=>{this.fire("addRuntime",e.detail)})},listeners:{click:"close"}});n(102);var x=n(25),y=n.n(x);Object(o.a)({_template:o.b`
    <canvas id="canvas" width="{{width}}" height="{{height}}" style="position:absolute;top:0;left:0;"></canvas>
`,is:"the-graph-thumb",properties:{edgeColors:{type:Array,value:()=>["white","hsl(  0, 100%, 46%)","hsl( 35, 100%, 46%)","hsl( 60, 100%, 46%)","hsl(135, 100%, 46%)","hsl(160, 100%, 46%)","hsl(185, 100%, 46%)","hsl(210, 100%, 46%)","hsl(285, 100%, 46%)","hsl(310, 100%, 46%)","hsl(335, 100%, 46%)"]},fillStyle:{type:String,value:"hsl(184, 8%, 10%)"},graph:{value:null,notify:!0,observer:"graphChanged"},height:{type:Number,value:150,notify:!0,observer:"heightChanged"},lineWidth:{type:Number,value:.75},listener:{value:null},nodeSize:{type:Number,value:60},strokeStyle:{type:String,value:"hsl(180, 11%, 70%)"},theme:{type:String,value:"dark",notify:!0,observer:"themeChanged"},thumbrectangle:{notify:!0},thumbscale:{type:Number,value:1,notify:!0},width:{type:Number,value:200,notify:!0,observer:"widthChanged"}},ready(){this.thumbrectangle=[0,0,500,500],this.viewrectangle=[0,0,200,150]},attached(){this.set("style.width",this.width+"px"),this.set("style.height",this.height+"px"),this.themeChanged()},themeChanged(){const e=y.a.thumb.styleFromTheme(this.theme);this.edgeColors=e.edgeColors,this.fillStyle=e.fill,this.strokeStyle=e.stroke,this.redrawGraph()},redrawGraph(){if(!this.graph)return;const e=this.$.canvas.getContext("2d");if(!e)return void setTimeout(this.redrawGraph.bind(this),500);const t={width:this.width,height:this.height,edgeColors:this.edgeColors,nodeSize:this.nodeSize,strokeStyle:this.strokeStyle,fillStyle:this.fillStyle,lineWidth:this.lineWidth},n=y.a.thumb.render(e,this.graph,t);this.thumbrectangle=n.rectangle,this.thumbscale=n.scale},graphChanged(e,t){this.listener||(this.listener=this.redrawGraph.bind(this)),t&&t.removeListener("endTransaction",this.listener),this.graph&&(this.graph.on("endTransaction",this.listener),this.redrawGraph())},widthChanged(){this.set("style.width",this.width+"px"),this.redrawGraph()},heightChanged(){this.set("style.height",this.height+"px"),this.redrawGraph()},toDataURL(){return this.$.canvas.toDataURL()}});class v extends s.a{static get template(){return s.b`
    <style include="noflo-card-styles">
      the-graph-thumb {
        display: block;
        position: absolute;
        left: 100px;
        top: -20px;
      }
    </style>
    <the-graph-thumb graph="[[_getMainGraph(project.main)]]" width="200" height="120"></the-graph-thumb>
    <button id="menubutton" title="Project menu" on-click="toggleMenu"><noflo-icon icon="[[menuicon]]"></noflo-icon></button>
    <template is="dom-if" if="[[menuopen]]">
    <ul id="menu">
      <template is="dom-if" if="[[project.repo]]">
      <li><button on-click="openGithub">View on GitHub</button></li>
      </template>
      <template is="dom-if" if="[[project.gist]]">
      <li><button on-click="openGithub">View Gist</button></li>
      </template>
      <li><button on-click="deleteProject">Delete project</button></li>
    </ul>
    </template>
    <h2>[[project.name]]</h2>
    <p><span>[[project.graphs.length]]</span>&nbsp;graphs, <span>[[project.components.length]]</span>&nbsp;components</p>
`}static get is(){return"noflo-project-card"}static get properties(){return{menuopen:{type:Boolean,value:!1,observer:"_menuOpenChanged"},menuicon:{type:String,value:"ellipsis-v"},project:{type:Object,value:()=>({})}}}toggleMenu(e){e.stopPropagation(),e.preventDefault(),this.menuopen?this.menuopen=!1:this.menuopen=!0}openGithub(e){if(e.stopPropagation(),e.preventDefault(),this.project.repo||this.project.gist)return this.project.repo?("function"==typeof ga&&ga("send","event","button","click","openGithub"),void(window.location="https://github.com/"+this.project.repo)):void(this.project.gist&&("function"==typeof ga&&ga("send","event","button","click","openGist"),window.location="https://gist.github.com/"+this.project.gist))}deleteProject(e){e.stopPropagation(),e.preventDefault(),"function"==typeof ga&&ga("send","event","button","click","deleteProject"),this.dispatchEvent(new CustomEvent("deleteProject",{detail:this.project,composed:!0,bubbles:!0})),this.menuopen=!1}_getMainGraph(e){if(!e)return null;const t=this.project.graphs.filter(t=>t.properties.id===e);return t.length?t[0]:null}_menuOpenChanged(){this.menuopen?this.menuicon="caret-down":this.menuicon="ellipsis-v"}}customElements.define(v.is,v);class k extends s.a{static get template(){return s.b`
    <style include="noflo-card-styles">
      #repoicon {
        font-size: 72px;
        position: absolute;
        right: -8px;
        top: 9px;
        color: hsla(185, 100%, 75%, 0.2);
        text-decoration: none;
      }
    </style>
    <noflo-icon id="repoicon" icon="[[getRepoIcon(project)]]"></noflo-icon>
    <button id="menubutton" title="Project menu" on-click="toggleMenu"><noflo-icon icon="[[menuicon]]"></noflo-icon></button>
    <template is="dom-if" if="[[menuopen]]">
    <ul id="menu">
      <template is="dom-if" if="[[project.repo]]">
      <li><button on-click="openGithub">View on GitHub</button></li>
      </template>
      <li><button on-click="deleteRepo">Remove from [[env.NOFLO_APP_NAME]]</button></li>
    </ul>
    </template>
    <h2>[[project.repo]]</h2>
    <template is="dom-if" if="[[project.private]]">
    <p>Private repository</p>
      <template is="dom-if" if="[[!_isFree(user)]]">
      </template>
    </template>
    <template is="dom-if" if="[[!project.private]]">
    <p>Public repository</p>
    </template>
`}static get is(){return"noflo-repo-card"}static get properties(){return{menuopen:{type:Boolean,value:!1,observer:"_menuOpenChanged"},menuicon:{type:String,value:"ellipsis-v"},project:{type:Object,value:()=>({})},env:{type:Object,value:()=>({NOFLO_APP_NAME:"NoFlo UI"})}}}toggleMenu(e){e.stopPropagation(),e.preventDefault(),this.menuopen?this.menuopen=!1:this.menuopen=!0}openGithub(e){e.stopPropagation(),e.preventDefault(),this.project.repo&&this.project.repo&&("function"==typeof ga&&ga("send","event","button","click","openGithub"),window.location="https://github.com/"+this.project.repo)}deleteRepo(e){e.stopPropagation(),e.preventDefault(),"function"==typeof ga&&ga("send","event","button","click","deleteRepo"),this.dispatchEvent(new CustomEvent("deleteRepo",{detail:this.project,composed:!0,bubbles:!0})),this.menuopen=!1}_menuOpenChanged(){this.menuopen?this.menuicon="caret-down":this.menuicon="ellipsis-v"}getRepoIcon(){return"github"}}customElements.define(k.is,k);class w extends s.a{static get template(){return s.b`
    <style include="noflo-card-styles">
    #runtimeicon {
      font-size: 72px;
      position: absolute;
      right: -8px;
      top: 9px;
      color: hsla(185, 100%, 75%, 0.2);
      text-decoration: none;
    }
    </style>
    <noflo-icon id="runtimeicon" icon="[[getRuntimeIcon(runtime)]]"></noflo-icon>
    <button id="menubutton" title="Runtime menu" on-click="toggleMenu"><noflo-icon icon="[[menuicon]]"></noflo-icon></button>
    <template is="dom-if" if="[[menuopen]]">
    <ul id="menu">
      <li><button on-click="deleteRuntime">Delete runtime</button></li>
    </ul>
    </template>
    <h2>[[runtime.label]]</h2>
    <p><span>[[_produceAddress(runtime)]]</span>. Seen <span>[[runtime.seenHoursAgo]]</span>h ago</p>
`}static get is(){return"noflo-runtime-card"}static get properties(){return{menuopen:{type:Boolean,value:!1,observer:"_menuOpenChanged"},menuicon:{type:String,value:"ellipsis-v"},runtime:{type:Object,value:()=>({})}}}toggleMenu(e){e.stopPropagation(),e.preventDefault(),this.menuopen?this.menuopen=!1:this.menuopen=!0}deleteRuntime(e){e.stopPropagation(),e.preventDefault(),this.dispatchEvent(new CustomEvent("deleteRuntime",{detail:this.runtime,composed:!0,bubbles:!0})),this.menuopen=!1}getRuntimeIcon(e){if(!e||!e.type||!h.a[e.type])return"cog";let t="cog";return Object.keys(h.a).forEach(n=>{Object.keys(h.a[n].runtimetypes).forEach(o=>{o===e.type&&(t=h.a[n].runtimetypes[e.type].icon)})}),t}_produceAddress(e){return"webrtc"===e.protocol?"WebRTC P2P "+e.id:e.address}_menuOpenChanged(){this.menuopen?this.menuicon="caret-down":this.menuicon="ellipsis-v"}}customElements.define(w.is,w),Object(o.a)({_template:o.b`
    <style>
      :host {
        background-color: hsl(190, 90%, 45%);
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
        -webkit-overflow-scrolling: touch;
        scrollbar-width: thin;
        transition: height 1s ease-in-out;
        display: block;
      }
      section {
        display: block;
        position: relative;
        padding-left: 72px;
        padding-right: 72px;
      }
      section > h2 {
        font-size: 17px;
        line-height: 36px;
        margin-top: 36px;
        height: 36px;
        color: white;
        text-shadow: 0 1px 0 hsl(190, 100%, 40%);
        text-transform: none;
      }
      section > h2 small {
        font-size: 10px;
        text-transform: uppercase;
        color: hsl(189, 50%, 25%);
      }
      ul.tabs {
        position: absolute;
        display: inline-block;
        top: 0px;
        left: calc(50% - 133px);
        margin: 0px;
        padding: 0px;
        list-style: none;
        padding: 1px;
      }
      ul.tabs li {
        display: inline;
        line-height: 36px;
        font-size: 13px;
        color: hsl(189, 50%, 25%);
        text-decoration: none;
        padding-left: 36px;
        padding-right: 36px;
        cursor: pointer;
      }
      ul.tabs li.selected {
        border: none;
        border-radius: 3px;
        background-color: rgba(0, 42, 51, 0.498039);
        color: white;
        border-radius: 3px;
        padding-top: 8px;
        padding-bottom: 9px;
        cursor: default;
      }
      ul.projects {
        padding: 0px;
        margin-top: 36px;
        margin-bottom: 36px;
        margin-left: -18px;
        margin-right: -18px;
        list-style: none;
      }
      ul.projects li {
        width: 216px;
        height: 105px;
        overflow: hidden;
        display: inline-block;
        text-align: center;
        background-color: var(--noflo-ui-background);
        color: var(--noflo-ui-text);
        border-radius: 3px;
        margin-right: 18px;
        margin-left: 18px;
        margin-bottom: 36px;
        position: relative;
        cursor: pointer;
      }
      ul.projects li.add {
        background-color: var(--noflo-ui-text);
        color: var(--noflo-ui-background);
        cursor: default;
      }
      ul.projects li.remote {
        cursor: default;
      }
      section button,
      section #cta {
        background-color: transparent;
        color: hsl(189, 50%, 25%);
        font-size: 13px;
        border-radius: 3px;
        font-family: "SourceCodePro",Helvetica,Arial,sans-serif;
        height: 36px;
        border: none;
        padding-left: 13px;
        padding-right: 13px;
        cursor: pointer;
      }
      ul.projects li button,
      ul.projects li #cta {
        display: block;
        border: 1px solid hsl(189, 50%, 25%);
        position: absolute;
        right: 18px;
        top: 36px;
      }
      ul.projects li h2 {
        position: absolute;
        top: 36px;
        line-height: 36px;
        width: 150px;
        text-transform: none;
        font-size: 12px;
        text-align: left;
        white-space: nowrap;
        left: 18px;
        padding: 0px;
        margin: 0px;
        text-overflow: ellipsis;
        overflow: hidden;
      }
      ul.projects li p {
        position: absolute;
        top: 53px;
        left: 18px;
        width: 150px;
        text-transform: uppercase;
        font-size: 10px;
        text-align: left;
        max-height: 36px;
        overflow: hidden;
        color: hsl(189, 11%, 50%);
      }
      ul.projects li a {
        color: var(--noflo-ui-background);
        text-decoration: none;
      }
    </style>
    <noflo-account id="mainaccount" user="[[user]]" theme="[[theme]]"></noflo-account>
      <section id="projects">
        <h2>Projects
          <template is="dom-if" if="[[_isLocalProjects(projectList)]]">
          <small>[[numberOfLocalProjects(projects)]]</small>
          </template>
          <template is="dom-if" if="[[!_isLocalProjects(projectList)]]">
          <small>[[numberOfRemoteProjects(remoteProjects)]]</small>
          <button on-click="fetchGithub">
            <noflo-icon id="fetchgithub" icon="refresh"></noflo-icon>
          </button>
          </template>
        </h2>
        <ul class="tabs">
          <li on-click="openLocal" class\$="[[_isSelectedView('local', projectList)]]">On device</li>
          <template is="dom-if" if="[[_canGithub(user)]]">
          <li on-click="openGithub" class\$="[[_isSelectedView('github', projectList)]]">GitHub</li>
          </template>
        </ul>
        <ul class="projects">
          <template is="dom-if" if="[[_isLocalProjects(projectList)]]">
          <li class="add">
            <h2>New project</h2>
            <button id="newproject" on-click="newProject">Create</button>
          </li>
          <template is="dom-repeat" items="[[projects]]" as="project" filter="filterLocalProjects">
            <li on-click="openProject" data-id\$="[[project.id]]">
              <noflo-project-card project="[[project]]"></noflo-project-card>
            </li>
          </template>
          </template>
          <template is="dom-if" if="[[!_isLocalProjects(projectList)]]">
          <li class="add">
            <h2>Add a repository</h2>
            <button id="newrepository" on-click="newRepository">Add</button>
          </li>
          <template is="dom-repeat" items="[[remoteProjects]]" as="project" filter="filterRemoteProjects">
            <li class="remote" on-click="downloadProject" data-repo\$="[[project.repo]]">
              <noflo-repo-card project="[[project]]"></noflo-repo-card>
            </li>
          </template>
          </template>
        </ul>
      </section>
    <section id="runtimes">
      <h2>
        Runtimes <small><span>[[numberOfAvailableRuntimes(runtimes)]]</span> / <span>[[runtimes.length]]</span></small>
        <template is="dom-if" if="[[_canFlowhub(user)]]">
        <button on-click="fetchRuntimes">
          <noflo-icon id="fetchruntimes" icon="refresh"></noflo-icon>
        </button>
        </template>
      </h2>
      <ul class="projects">
        <li class="add">
          <h2>New runtime</h2>
          <button on-click="newRuntime">Register</button>
        </li>

        <template is="dom-repeat" items="[[runtimes]]" as="runtime" filter="filterAvailableRuntimes">
          <li on-click="openRuntime" data-id\$="[[runtime.id]]" data-protocol\$="[[runtime.protocol]]">
            <noflo-runtime-card runtime="[[runtime]]"></noflo-runtime-card>
          </li>
        </template>
      </ul>
    </section>
    <section id="examples">
      <h2>
        Examples
      </h2>
      <ul class="projects">
        <template is="dom-repeat" items="[[_getExamples(projects, runtimes)]]" as="example">
        <li on-click="openExample" class="example" data-id\$="[[example.id]]">
          <h2>[[example.label]]</h2>
          <p>[[example.address]]</p>
        </li>
        </template>
      </ul>
    </section>
`,is:"noflo-main",properties:{help:{value:null},open:{type:Boolean,value:!0,notify:!0,observer:"openChanged"},projectList:{type:String,value:"local"},projects:{type:Array,value:()=>[],notify:!0},remoteProjects:{type:Array,value:()=>[],notify:!0},runtimes:{type:Array,value:()=>[],notify:!0},theme:{type:String},user:{type:Object,value:()=>({}),notify:!0}},attached(){this.openChanged(),this.help=Object(i.a)(document).querySelector("noflo-help")},openChanged(){"true"!==String(this.open)?this.set("style.height","0px"):this.set("style.height","100%")},openLocal(e){e&&e.preventDefault(),Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length||(this.projectList="local")},openGithub(e){e.preventDefault(),Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length||this._canGithub(this.user)&&(e.preventDefault(),this.projectList="github",this.remoteProjects&&0!==this.remoteProjects.length||setTimeout(()=>{this.fetchGithub()},1))},downloadProject(e){e.preventDefault(),e.stopPropagation();const t=e.currentTarget.getAttribute("data-repo").split("/");this.fire("downloadProject",{org:t[0],repo:t[1],branch:"master"}),this.openLocal()},fetchGithub(e){e&&e.preventDefault(),this._canGithub(this.user)&&this.fire("fetchRemote",!0)},numberOfRemoteProjects(e){return e.filter(this.filterRemoteProjects.bind(this)).length},filterRemoteProjects(e){if(!this.projects)return!0;for(let t=0;t<this.projects.length;t+=1)if(this.projects[t].repo===e.repo)return!1;return!0},numberOfLocalProjects(e){return e.filter(this.filterLocalProjects.bind(this)).length},filterLocalProjects:e=>"flowtrace-replay"!==e.type,numberOfAvailableRuntimes(e){return e.filter(this.filterAvailableRuntimes.bind(this)).length},filterAvailableRuntimes(e){if(!e)return!1;if(!e.seen)return!1;if("flowtrace-replay"===e.type)return!1;if("opener"===e.protocol&&!window.opener)return!1;"object"!=typeof e.seen&&(e.seen=new Date(e.seen));const t=new Date;return e.seenHoursAgo=Math.floor((t-e.seen)/36e5),!0},_getExamples(e,t){const n=[];t.forEach(e=>{e.type&&-1===n.indexOf(e.type)&&n.push(e.type)});const o=[];n.forEach(e=>{if(!h.a[e])return;const t=h.a[e].examples;t&&Object.keys(t).forEach(e=>{t[e].ssl&&"https:"!==window.location.protocol||o.push(t[e])})});const i=[];return o.filter(t=>{if(-1!==i.indexOf(t.id))return!1;i.push(t.id);return!e.filter(e=>e.gist===t.id).length})},fetchRuntimes(){this._canFlowhub(this.user)&&this.fire("fetchRuntimes",!0)},openProject(e){if(e.preventDefault(),Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length)return;let t=null;if(this.projects.forEach(n=>{n.id===e.currentTarget.getAttribute("data-id")&&(t=n)}),t){if(t.runtime){if(!this.runtimes.filter(this.filterAvailableRuntimes).filter(e=>e.id===t.runtime).length)return}this.fire("openProject",t)}},openRuntime(e){e.preventDefault(),Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length||"iframe"!==e.currentTarget.getAttribute("data-protocol")&&this.fire("hash",["runtime",e.currentTarget.getAttribute("data-id")])},openExample(e){e.preventDefault(),Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length||this.fire("hash",["gist",e.currentTarget.getAttribute("data-id")])},newProject(e){if(e.preventDefault(),Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length)return;const t=document.createElement("noflo-new-project");t.projects=this.projects,t.runtimes=this.runtimes,Object(i.a)(document.body).appendChild(t),t.addEventListener("new",e=>{const t=e.detail,n=new p.Graph("main"),o=t.id+"/main";n.setProperties({id:o,project:t.id,environment:{type:t.type},main:!0}),t.graphs.push(n),t.main=o,this.fire("newgraph",n),this.fire("newproject",t)})},newRepository(e){if(e.preventDefault(),Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length)return;const t=document.createElement("noflo-new-repository");t.addEventListener("new",e=>{const t=e.detail.split("/");this.fire("downloadProject",{org:t[0],repo:t[1],branch:"master"}),setTimeout(()=>{this.openLocal()},1)}),Object(i.a)(document.body).appendChild(t)},newRuntime(e){if(e.preventDefault(),Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length)return;const t=document.createElement("noflo-new-runtime");t.addEventListener("addRuntime",e=>{this.fire("newruntime",e.detail)}),t.user=this.user,Object(i.a)(document.body).appendChild(t)},_isLocalProjects:e=>"local"===e,_canGithub:e=>!(!e||!e["github-token"]),_canFlowhub:e=>!(!e||!e["flowhub-token"]),_isSelectedView:(e,t)=>t===e?"selected":""});var A=n(15),C=n.n(A),E=(n(75),n(8)),j=n.n(E);n(535);Object(o.a)({_template:o.b`
    <style include="the-graph-styles">
    </style>
    <div id="svgcontainer"></div>
`,is:"the-graph",properties:{icons:{type:Object,value:()=>({}),observer:"iconsChanged"},animatedEdges:{type:Array,value:()=>[],notify:!0,observer:"animatedEdgesChanged"},appView:{value:null},autolayout:{type:Boolean,value:!1,notify:!0},autolayouter:{value:null},debounceLibraryRefeshTimer:{value:null},displaySelectionGroup:{type:Boolean,value:!0,notify:!0,observer:"displaySelectionGroupChanged"},editable:{type:Boolean,value:!0},graphChanges:{type:Array,value:()=>[]},errorNodes:{type:Object,value:()=>({}),notify:!0,observer:"errorNodesChanged"},forceSelection:{type:Boolean,value:!1,notify:!0,observer:"forceSelectionChanged"},graph:{value:null,notify:!0,observer:"graphChanged"},graphView:{value:null},grid:{type:Number,value:72},height:{type:Number,value:600,notify:!0,observer:"heightChanged"},library:{value:null,notify:!0},maxZoom:{type:Number,value:15,notify:!0},menus:{value:null,notify:!0,observer:"menusChanged"},minZoom:{type:Number,value:.15,notify:!0},offsetX:{value:0,notify:!0},offsetY:{value:0,notify:!0},pan:{notify:!0,observer:"panChanged"},readonly:{type:Boolean,value:!1,notify:!0,observer:"readonlyChanged"},scale:{type:Number,value:1,notify:!0},selectedEdges:{type:Array,value:()=>[],notify:!0,observer:"selectedEdgesChanged"},selectedNodes:{type:Array,value:()=>[],notify:!0,observer:"selectedNodesChanged"},selectedNodesHash:{type:Object,value:()=>({}),observer:"selectedNodesHashChanged"},snap:{type:Number,value:36},theme:{type:String,value:"dark",notify:!0,observer:"themeChanged"},width:{type:Number,value:800,notify:!0,observer:"widthChanged"}},ready(){this.library={},this.pan=[0,0],this.autolayouter=klayNoflo.init({onSuccess:this.applyAutolayout.bind(this),workerScript:"vendor/klayjs/klay.js"}),this.themeChanged()},themeChanged(e,t){Object(i.a)(this.$.svgcontainer).classList.remove("the-graph-"+t),e&&Object(i.a)(this.$.svgcontainer).classList.add("the-graph-"+e)},graphEvents:["changeProperties","addNode","changeNode","removeNode","addEdge","changeEdge","removeEdge","addInitial","removeInitial","addGroup","removeGroup","changeGroup"],graphRenameEvents:["renameInport","renameOutport","renameGroup","renameNode"],graphPortEvents:["addInport","removeInport","addOutport","removeOutport"],subscribeGraph(e){this.trackGraphChange||(this.trackGraphChange={}),this.graphEvents.forEach(t=>{this.trackGraphChange[t]=e=>{this.graphChanges.push({event:t,payload:e}),this.autolayout&&this.triggerAutolayout()},e.on(t,this.trackGraphChange[t])}),this.graphRenameEvents.forEach(t=>{this.trackGraphChange[t]=(e,n)=>{this.graphChanges.push({event:t,payload:{from:e,to:n}})},e.on(t,this.trackGraphChange[t])}),this.graphPortEvents.forEach(t=>{this.trackGraphChange[t]=(e,n)=>{this.graphChanges.push({event:t,payload:{public:e,node:n.process,port:n.port,metadata:n.metadata}})},e.on(t,this.trackGraphChange[t])}),this.trackGraphChange.endTransaction=()=>{this.fire("changed",e),this.graphChanges.length&&(this.readonly||this.fire("graphChanges",this.graphChanges),this.graphChanges=[])},this.graph.on("endTransaction",this.trackGraphChange.endTransaction)},unsubscribeGraph(e){if(!this.trackGraphChange)return;this.graphEvents.concat(this.graphRenameEvents,this.graphPortEvents).forEach(t=>{this.trackGraphChange[t]&&(e.removeListener(t,this.trackGraphChange[t]),delete this.trackGraphChange[t])}),this.trackGraphChange.endTransaction&&(e.removeListener("endTransaction",this.trackGraphChange.endTransaction),delete this.trackGraphChange.endTransaction)},graphChanged(e,t){t&&t.removeListener&&this.unsubscribeGraph(t),this.appView&&C.a.unmountComponentAtNode(this.$.svgcontainer),this.graph&&(this.subscribeGraph(e),Object(i.a)(this.$.svgcontainer).innerHTML="",this.appView=C.a.render(y.a.App({graph:this.graph,width:this.width,minZoom:this.minZoom,maxZoom:this.maxZoom,height:this.height,library:this.library,menus:this.menus,editable:this.editable,onEdgeSelection:this.onEdgeSelection.bind(this),onNodeSelection:this.onNodeSelection.bind(this),onPanScale:this.onPanScale.bind(this),getMenuDef:this.getMenuDef.bind(this),displaySelectionGroup:this.displaySelectionGroup,forceSelection:this.forceSelection,offsetY:this.offsetY,offsetX:this.offsetX,readonly:this.readonly}),this.$.svgcontainer),this.graphView=this.appView.refs.graph)},onPanScale(e,t,n){this.pan=[e,t],this.scale=n},onEdgeSelection(e,t,n){if(void 0!==e)if(n){const e=this.selectedEdges.indexOf(t),n=-1!==e,o=this.selectedEdges.slice();n?(o.splice(e,1),this.selectedEdges=o):(o.push(t),this.selectedEdges=o)}else this.selectedEdges=[t];else this.selectedEdges.length>0&&(this.selectedEdges=[])},onNodeSelection(e,t,n){if(void 0!==e)if(n){const e=this.selectedNodes.indexOf(t),n=-1!==e,o=this.selectedNodes.slice();n?(o.splice(e,1),this.selectedNodes=o):(o.push(t),this.selectedNodes=o)}else this.selectedNodes=[t];else this.selectedNodes.length>0&&(this.selectedNodes=[])},selectedNodesChanged(){this.set("selectedNodesHash",{});const e={};this.selectedNodes.forEach(t=>{e[t.id]=!0}),this.set("selectedNodesHash",e),this.fire("nodes",this.selectedNodes)},selectedNodesHashChanged(){this.graphView&&this.graphView.setSelectedNodes(this.selectedNodesHash)},errorNodesChanged(){this.graphView&&this.graphView.setErrorNodes(this.errorNodes)},selectedEdgesChanged(){this.graphView&&(this.graphView.setSelectedEdges(this.selectedEdges),this.fire("edges",this.selectedEdges))},animatedEdgesChanged(){this.graphView&&this.graphView.setAnimatedEdges(this.animatedEdges)},iconsChanged(){this.graphView&&Object.keys(this.icons).forEach(e=>{this.graphView.updateIcon(e,this.icons[e])})},triggerAutolayout(){const{graph:e}=this,t=this.graphView?this.graphView.portInfo:null;this.autolayouter.layout({graph:e,portInfo:t,direction:"RIGHT",options:{intCoordinates:!0,algorithm:"de.cau.cs.kieler.klay.layered",layoutHierarchy:!0,spacing:36,borderSpacing:20,edgeSpacingFactor:.2,inLayerSpacingFactor:2,nodePlace:"BRANDES_KOEPF",nodeLayering:"NETWORK_SIMPLEX",edgeRouting:"POLYLINE",crossMin:"LAYER_SWEEP",direction:"RIGHT"}})},applyAutolayout(e){this.graph.startTransaction("autolayout"),y.a.autolayout.applyToGraph(this.graph,e,{snap:this.snap}),this.graph.endTransaction("autolayout"),this.triggerFit()},triggerFit(){this.appView&&this.appView.triggerFit()},widthChanged(){this.appView&&this.appView.setState({width:this.width})},heightChanged(){this.appView&&this.appView.setState({height:this.height})},rerender(e){this.graphView&&this.graphView.markDirty(e)},addNode(e,t,n){this.graph&&this.graph.addNode(e,t,n)},getPan(){return this.appView?[this.appView.state.x,this.appView.state.y]:[0,0]},panChanged(){this.appView&&this.appView.setState({x:this.pan[0],y:this.pan[1]})},getScale(){return this.appView?this.appView.state.scale:1},displaySelectionGroupChanged(){this.graphView&&this.graphView.setState({displaySelectionGroup:this.displaySelectionGroup})},forceSelectionChanged(){this.graphView&&this.graphView.setState({forceSelection:this.forceSelection})},focusNode(e){this.appView.focusNode(e)},menusChanged(){this.appView&&this.appView.setProps({menus:this.menus})},readonlyChanged(){this.appView&&this.appView.setProps({readonly:this.readonly})},debounceLibraryRefesh(){this.debounceLibraryRefeshTimer&&clearTimeout(this.debounceLibraryRefeshTimer),this.debounceLibraryRefeshTimer=setTimeout(()=>{this.rerender({libraryDirty:!0})},200)},registerComponent(e,t){const n=e;if(!(this.library[e.name]&&t||(this.set("library."+e.name,n),this.debounceLibraryRefesh(),-1===e.name.indexOf("/")))){const t=Object(E.unnamespace)(e.name);this.registerComponent({...e,name:t,unnamespaced:!0},!1)}},getComponent(e){return this.library[e]},toJSON(){return this.graph?this.graph.toJSON():{}},hostAttributes:{"touch-action":"none"}}),Object(o.a)({_template:o.b`
    <the-graph id="graph" menus="{{menus}}" width="{{width}}" height="{{height}}" pan="{{pan}}" scale="{{scale}}" autolayout="{{autolayout}}" readonly="{{readonly}}" theme="{{theme}}" selected-nodes="{{selectedNodes}}" error-nodes="{{errorNodes}}" selected-edges="{{selectedEdges}}" animated-edges="{{animatedEdges}}" display-selection-group="{{displaySelectionGroup}}" force-selection="{{forceSelection}}" icons="[[icons]]">
    </the-graph>
`,is:"the-graph-editor",attached(){this.$.graph.getMenuDef=this.getMenuDef},properties:{icons:{type:Object,value:()=>({})},animatedEdges:{type:Array,value:()=>[],notify:!0},autolayout:{type:Boolean,value:!1,notify:!0},copyNodes:{type:Array,value:()=>[]},displaySelectionGroup:{type:Boolean,value:!0,notify:!0},errorNodes:{type:Object,value:()=>({}),notify:!0},forceSelection:{type:Boolean,value:!1,notify:!0},graph:{value:null,notify:!0,observer:"graphChanged"},grid:{type:Number,value:72,notify:!0},height:{type:Number,value:600,notify:!0,observer:"heightChanged"},menus:{value:null},notifyView:{observer:"notifyViewChanged"},onContextMenu:{notify:!0},pan:{observer:"panChanged"},plugins:{type:Object,value:()=>({})},readonly:{notify:!0},scale:{type:Number,value:1,observer:"scaleChanged"},selectedEdges:{type:Array,value:()=>[],notify:!0},selectedNodes:{type:Array,value:()=>[],notify:!0},snap:{type:Number,value:36,notify:!0},theme:{type:String,value:"dark",notify:!0,observer:"themeChanged"},width:{type:Number,value:800,notify:!0,observer:"widthChanged"}},ready(){this.pan=[0,0],this.menus=y.a.editor.getDefaultMenus(this)},detached(){Object.keys(this.plugins).forEach(e=>{this.plugins[e].unregister(this),delete this.plugins[e]})},addPlugin(e,t){this.set("plugins."+e,t),t.register(this)},addMenu(e,t){this.set("menus."+e,t)},addMenuCallback(e,t){this.menus[e]&&this.set(`menus.${e}.callback`,t)},addMenuAction(e,t,n){this.menus[e]||this.set("menus."+e,{});this.menus[e][t]=n},getMenuDef(e){if(e.type&&this.menus[e.type]){const t=this.menus[e.type];return t.callback?t.callback(t,e):t}return null},notifyViewChanged(){const e={scale:this.scale,pan:this.pan,width:this.width,height:this.height};this.fire("viewchanged",e)},panChanged(){this.notifyViewChanged()},scaleChanged(){this.notifyViewChanged()},widthChanged(){this.set("style.width",this.width+"px"),this.notifyViewChanged()},heightChanged(){this.set("style.height",this.height+"px"),this.notifyViewChanged()},themeChanged(){this.$.graph.theme=this.theme},graphChanged(){if(this.graph){if("function"!=typeof this.graph.addNode)throw new Error(".graph property of the-graph-editor must be a fbp-graph instance (since the-graph 0.8)");this.buildInitialLibrary(this.graph),this.set("$.graph.graph",this.graph)}else this.set("$.graph.graph",this.graph)},buildInitialLibrary(e){y.a.library.componentsFromGraph(e).forEach(e=>{this.registerComponent(e,!0)})},registerComponent(e,t){this.$.graph.registerComponent(e,t)},libraryRefresh(){this.$.graph.debounceLibraryRefesh()},rerender(){this.$.graph.rerender()},triggerAutolayout(){this.$.graph.triggerAutolayout()},triggerFit(){this.$.graph.triggerFit()},animateEdge(e){-1===this.animatedEdges.indexOf(e)&&this.push("animatedEdges",e)},unanimateEdge(e){const t=this.animatedEdges.indexOf(e);t>=0&&this.splice("animatedEdges",t,1)},addErrorNode(e){this.set("errorNodes."+e,!0),this.updateErrorNodes()},removeErrorNode(e){this.set("errorNodes."+e,!1),this.updateErrorNodes()},clearErrorNodes(){this.errorNodes={},this.updateErrorNodes()},updateErrorNodes(){this.$.graph.errorNodesChanged()},focusNode(e){this.$.graph.focusNode(e)},getComponent(e){return this.$.graph.getComponent(e)},getLibrary(){return this.$.graph.library},toJSON(){return this.graph.toJSON()},hostAttributes:{"touch-action":"none"}}),Object(o.a)({is:"noflo-library",properties:{editor:{value:null,notify:!0},graphs:{type:Array,value:()=>[]},project:{value:null},search:{value:null,observer:"searchChanged"}},addNode(e){const t=e.name;let n=60466176;n=Math.floor(Math.random()*n);const o=`${t}_${n.toString(36)}`,i=this.editor.$.graph.getPan(),r=this.editor.$.graph.getScale(),{graph:a}=this.editor;a.startTransaction("addnode");const s=t.split("/");a.addNode(o,t,{label:s[s.length-1],x:Math.floor((334-i[0])/r),y:Math.floor((100-i[1])/r)}),e.inports.forEach(e=>{const t=e.default;void 0!==t&&a.addInitial(t,o,e.name)}),a.endTransaction("addnode")},searchChanged(){if("string"!=typeof this.search)return;if(!this.editor)return;const e=this.editor.getLibrary();if(!e)return;const t=this.search.toLowerCase(),n=Object.keys(e).map(e=>this.editor.getComponent(e)).filter(e=>!e.unnamespaced&&(""===t||(-1!==e.name.toLowerCase().indexOf(t)||"string"==typeof e.description&&-1!==e.description.toLowerCase().indexOf(t)))).filter(e=>{if(!e.subgraph)return!0;const t=e.name.split("/");if(t[0]===this.project.id||t[0]===this.project.namespace)for(let e=0;e<this.graphs.length;e+=1)if(this.graphs[e].name===t[1]||this.graphs[e].properties.id===t[1])return!1;return!0});window.setTimeout(()=>{const e=this.addNode.bind(this);this.fire("result",n.map(t=>({label:t.name,icon:t.icon||"cog",description:t.description,action(){e(t)}})))},0)}}),Object(o.a)({_template:o.b`
    <style include="noflo-modal-styles">
    </style>
    <div class="modal-container" on-click="bgClick">
      <h1>Published <span>{{direction}}</span> port <span>{{publicport}}</span></h1>
      <form>
        <label>
          Port name
          <input type="text" value="{{name::input}}" required="">
        </label>
        <div class="toolbar">
          <button on-click="send" class\$="{{_computeClass(canSend)}}">Rename</button>
          <a on-click="close">Cancel</a>
        </div>
      </form>
    </div>
`,is:"noflo-exported-inspector",properties:{canSend:{type:Boolean,value:!1},direction:{type:String,value:"input",notify:!0},graph:{value:null,notify:!0},name:{type:String,value:"",observer:"nameChanged"},privateport:{value:null,notify:!0},publicport:{type:String,value:"",notify:!0}},attached(){Object(i.a)(document.getElementById("container")).classList.add("blur"),Object(i.a)(this).classList.add("modal-content"),this.name=this.publicport},detached(){Object(i.a)(document.getElementById("container")).classList.remove("blur")},nameChanged(){this.name&&("input"!==this.direction||"start"!==this.name&&"graph"!==this.name)?this.canSend=!0:this.canSend=!1},send(e){if(e&&e.preventDefault(),this.name){if("input"===this.direction){if("start"===this.name||"graph"===this.name)return;this.graph.renameInport(this.publicport,this.name)}else this.graph.renameOutport(this.publicport,this.name);this.close()}},bgClick(e){e.stopPropagation()},close(){Object(i.a)(this).parentNode&&Object(i.a)(Object(i.a)(this).parentNode).removeChild(this)},listeners:{click:"close"},_computeClass(e){return this.tokenList({disabled:!e})},tokenList(e){const t=[];return Object.keys(e).forEach(n=>{e[n]&&t.push(n)}),t.join(" ")}});class O extends s.a{static get template(){return s.b`
    <style>
    :host {
      display: block;
    }
    ul.icons {
      padding: 0px;
      margin: 0px;
      list-style: none;
    }
    ul.icons li {
      display: inline-block;
      width: 18px;
      height: 18px;
      font-size: 18px;
      padding: 0px;
      margin: 0px;
      text-align: center;
      overflow: hidden;
      background-color: var(--noflo-ui-text);
      color: var(--noflo-ui-background);
      cursor: pointer;
      transition: background-color 0.3s ease-in-out;
      border-radius: 2px;
      margin-right: 2px
      margin-bottom: 2px;
    }
    ul.icons li.selected,
    ul.icons li:hover {
      background-color: hsl(190, 100%, 30%);
      color: white;
    }
    </style>
    <ul class="icons">
      <template is="dom-repeat" items="{{icons}}" as="icon">
        <li data-id\$="[[icon]]" class\$="[[_selectedClass(icon, selected)]]" on-click="selectIcon">
          <noflo-icon icon="[[icon]]" title="[[icon]]"></noflo-icon>
        </li>
      </template>
    </ul>
`}static get is(){return"noflo-icon-selector"}static get properties(){return{icons:{type:Array,value:()=>[]},selected:{type:String,notify:!0}}}constructor(){super(),this.icons=Object.keys(g.a.getIcons())}selectIcon(e){this.selected=e.currentTarget.getAttribute("data-id")}_selectedClass(e,t){return e===t?"selected":""}}customElements.define(O.is,O),Object(o.a)({_template:o.b`
    <style include="noflo-modal-styles">
    </style>
    <div class="modal-container" on-click="bgClick">
      <h1>Create new graph</h1>
      <form>
        <div class="modal-content">
        <label>
          Graph name
          <input type="text" value="{{name::input}}" placeholder="MyCoolGraph" required="">
        </label>
        <label>
          Graph type
          <select name="type" value="{{mainGraph::input}}">
            <option value="true" selected\$="[[_isSelectedMainGraph('true', mainGraph)]]">Main graph</option>
            <option value="false" selected\$="[[_isSelectedMainGraph('false', mainGraph)]]">Subgraph</option>
          </select>
        </label>
        <label>
          Graph description
          <input type="text" value="{{description::input}}" placeholder="Do something interesting">
        </label>
        <label>
          Runtime
          <noflo-type-selector type="{{type}}" runtimes="{{runtimes}}"></noflo-type-selector>
        </label>
        <label>
          Icon
          <noflo-icon-selector selected="{{icon}}"></noflo-icon-selector>
        </label>
        </div>
        <div class="toolbar">
          <button on-click="send" class\$="{{_computeClass(canSend)}}">Create</button>
          <a on-click="close">Cancel</a>
        </div>
      </form></div>
`,is:"noflo-new-graph",properties:{canSend:{type:Boolean,value:!1},name:{type:String,value:"",observer:"nameChanged"},description:{type:String,value:""},mainGraph:{type:String,value:"true"},project:{type:Object,value:()=>({}),notify:!0},runtimes:{type:Array,value:()=>[],notify:!0},type:{type:String,value:"noflo-browser"},icon:{type:String,value:"cog",notify:!0}},attached(){Object(i.a)(document.getElementById("container")).classList.add("blur"),Object(i.a)(this).classList.add("modal-content")},detached(){Object(i.a)(document.getElementById("container")).classList.remove("blur")},nameChanged(){let e=[];if(this.project){if(!this.project.graphs||!this.project.components)return;e=this.project.graphs.filter(e=>e.name===this.name),e=e.concat(this.project.components.filter(e=>e.name===this.name))}this.name&&this.project&&!e.length?this.canSend=!0:this.canSend=!1},send(e){if(e&&e.preventDefault(),!this.name)return;"function"==typeof ga&&ga("send","event","button","click","newGraph");const t=new p.Graph(this.name);t.setProperties({description:this.description,project:this.project.id,id:`${this.project.id}/${this.name}`,icon:this.icon,main:"true"===this.mainGraph,environment:{type:this.type}}),this.fire("new",t),this.close()},bgClick(e){e.stopPropagation()},close(){Object(i.a)(this).parentNode&&Object(i.a)(Object(i.a)(this).parentNode).removeChild(this)},listeners:{click:"close"},_computeClass(e){return this.tokenList({disabled:!e})},_isSelectedMainGraph:(e,t)=>e===t,tokenList(e){const t=[];return Object.keys(e).forEach(n=>{e[n]&&t.push(n)}),t.join(" ")}}),Object(o.a)({_template:o.b`
    <style include="noflo-modal-styles">
    </style>
    <div class="modal-container" on-click="bgClick">
      <h1>
        <template is="dom-if" if="{{group}}">
        <span>{{group}}</span>
        </template>
        <template is="dom-if" if="{{!group}}">
        New
        </template>
        group containing <span>{{nodes.length}}</span> nodes
      </h1>
      <form>
        <label>
          Group name
          <input type="text" value="{{name::input}}" placeholder="processing" required="">
        </label>
        <label>
          Group description
          <input type="text" value="{{description::input}}" placeholder="The nodes that process things" required="">
        </label>
        <div class="toolbar">
          <button on-click="send">
            <template is="dom-if" if="{{group}}">
            Rename
            </template>
            <template is="dom-if" if="{{!group}}">
            Create
            </template>
          </button>
          <a on-click="close">Cancel</a>
        </div>
      </form>
    </div>
`,is:"noflo-group-inspector",properties:{description:{type:String,value:""},graph:{value:null,notify:!0},group:{type:String,value:"",notify:!0},groupdescription:{type:String,value:"",notify:!0},name:{type:String,value:""},nodes:{type:Array,value:()=>[],notify:!0}},attached(){Object(i.a)(document.getElementById("container")).classList.add("blur"),Object(i.a)(this).classList.add("modal-content"),this.name=this.group,this.description=this.groupdescription},detached(){Object(i.a)(document.getElementById("container")).classList.remove("blur")},send(e){e&&e.preventDefault(),this.name&&(this.group?(this.name!==this.group&&this.graph.renameGroup(this.group,this.name),this.description!==this.groupdescription&&this.graph.setGroupMetadata(this.group,{description:this.description})):this.graph.addGroup(this.name,this.nodes,{description:this.description}),this.close())},bgClick(e){e.stopPropagation()},close(){Object(i.a)(this).parentNode&&Object(i.a)(Object(i.a)(this).parentNode).removeChild(this)},listeners:{click:"close"}}),Object(o.a)({is:"the-card-stack",properties:{type:{notify:!0}},enteredView(){this.observeChanges()},leftView(){this.observer&&this.observer.disconnect()},observeChanges(){this.observer=new MutationObserver(this.updateVisibility.bind(this)),this.observer.observe(this,{subtree:!1,childList:!0,attributes:!1,characterData:!1})},updateVisibility(){0===this.childElementCount&&Object(i.a)(Object(i.a)(this).parentNode).removeChild(this)}}),Object(o.a)({_template:o.b`
    <slot name="header"></slot>
    <slot></slot>
`,is:"the-card",properties:{type:{notify:!0}},enteredView(){this.fire("show",this)},leftView(){this.fire("hide",this)},addTo(e,t){const n=e.getElementsByTagName("the-card-stack");for(let e=0;e<n.length;e+=1)if(n[e].type===this.type)return void Object(i.a)(n[e]).appendChild(this);const o=document.createElement("the-card-stack");o.type=this.type,Object(i.a)(o).appendChild(this),t&&e.childElementCount>0?Object(i.a)(e).insertBefore(o,Object(i.a)(e).firstChild):Object(i.a)(e).appendChild(o)}}),Object(o.a)({_template:o.b`
    <style>
      :host {
        position: fixed;
        overflow: hidden;
      }
    </style>
    <slot name="header"></slot>
    <slot></slot>
    <slot name="footer"></slot>
`,is:"the-panel",properties:{automatic:{type:Boolean,value:!1,notify:!0,observer:"automaticChanged"},edge:{type:String,value:"left",notify:!0,observer:"edgeChanged"},handle:{type:Number,value:0,notify:!0,observer:"handleChanged"},open:{type:Boolean,value:!1,notify:!0,observer:"openChanged"},size:{type:Number,value:200,notify:!0,observer:"sizeChanged"}},toggleOpen(e){this.open=e,this.updateVisibility()},enteredView(){this.cleanUpLocation(),this.automaticChanged(),this.updateVisibility()},leftView(){this.unobserve()},edgeChanged(){this.updateVisibility()},sizeChanged(){this.updateVisibility()},handleChanged(){this.updateVisibility()},openChanged(){this.updateVisibility()},automaticChanged(){this.automatic?this.observeChanges():this.unobserve()},getHeader(){return Object(i.a)(this).querySelector("header")},getMain(){return Object(i.a)(this).querySelector("main")},getFooter(){return Object(i.a)(this).querySelector("footer")},handleClicked(e){this.automatic||e.target===this&&(this.open?this.open=!1:this.open=!0)},observeChanges(){this.observer=new MutationObserver(this.handleMutations.bind(this)),this.observer.observe(this.getMain(),{subtree:!1,childList:!0,attributes:!1,characterData:!1})},unobserve(){this.observer&&(this.observer.disconnect(),this.observer=null)},handleMutations(){0===this.getMain().childElementCount?this.open=!1:this.open=!0},getPositionDimension(){return this.edge},getSizeDimensions(){switch(this.edge){case"left":case"right":return["width","height"];case"top":case"bottom":return["height","width"];default:throw new Error("Unknown edge "+this.edge)}},cleanUpLocation(){this.set("style.left",""),this.set("style.right",""),this.set("style.top",""),this.set("style.bottom","")},updateVisibility(){const e=this.getSizeDimensions();this.set("style."+e[1],"100%"),this.set("style."+e[0],this.size+"px");let t=0;this.open||(t=-1*(this.size-this.handle)),this.set("style."+this.getPositionDimension(),t+"px")},listeners:{click:"handleClicked"}}),Object(o.a)({_template:o.b`
    <style>
      :host {
        display: block;
      }
      #contextsection {
        position: fixed;
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
        left: 36px;
        top: 72px;
        width: calc(72px * 4);
        max-height: calc(100% - 72px);
        box-sizing: border-box;
        display: block;
        overflow-y: scroll;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        overflow-x: visible;
      }
      the-panel {
        background-color: var(--noflo-ui-background) !important;
        transition: left 0.3s ease-in-out, bottom 0.3s ease-in-out, right 0.3s ease-in-out, top 0.3s ease-in-out, width 0.1s ease-in-out;
        position: fixed;
        border: 0px solid var(--noflo-ui-border);
        box-sizing: border-box;
        padding-top: 72px;
        top: 0px;
        border-left-width: 1px;
        height: 100vh;
        padding-left: 36px;
        z-index: 3;
      }
      the-panel:before {
        font-family: FontAwesomeSVG;
        content: '\\f188';
        color: var(--noflo-ui-border-highlight);
        position: absolute;
        text-align: center;
        left: 0px;
        width: 36px;
        top: 50%;
        top: calc(50% - 7px);
        font-size: 17px;
        opacity: 0.25;
        transition: opacity 0.3s ease-in-out;
      }
      the-panel:not([open]):before {
        opacity: 1;
        cursor: w-resize;
      }
      the-panel footer {
        position: absolute;
        bottom: 0px;
        right: 0px;
      }
    </style>
    <section id="contextsection"></section>
`,is:"noflo-context",properties:{component:{type:String,value:"",notify:!0,observer:"componentChanged"},edge:{notify:!0},edges:{type:Array,value:()=>[],observer:"edgesChanged"},editor:{value:null,observer:"editorChanged"},errors:{type:Array,value:()=>[]},graphs:{type:Array,value:()=>[],notify:!0},help:{value:null},node:{notify:!0},nodes:{type:Array,value:()=>[]},project:{value:null,notify:!0},readonly:{notify:!0},runtime:{value:null},runtimes:{type:Array,value:()=>[]},search:{value:null,notify:!0}},attached(){this.contextBar=this.$.contextsection,window.addEventListener("keyup",e=>{27===e.keyCode&&this.clearSelection()}),document.addEventListener("touchstart",()=>{}),this.help=Object(i.a)(document).querySelector("noflo-help")},clearSelection(){let e,t;for(;this.edges.length;)e=this.pop("edges"),e.selected=!1;for(;this.nodes.length;)t=this.pop("nodes"),t.selected=!1},getpanel(){this.fire("contextpanel",this.$.contextsection)},editorChanged(){if(!this.editor)return;const e=e=>this.readonly?{}:e;this.editor.addMenuCallback("main",e),this.editor.addMenuCallback("edge",e),this.editor.addMenuCallback("node",(t,n)=>{const o=e(t);return n.item.component&&this.canGetSource(n.item.component)?(o.n4={icon:"arrow-circle-o-up",iconLabel:"open",action:(e,t,n)=>{"function"==typeof ga&&ga("send","event","menu","click","openNode");let o=window.location.href.split("#")[1]||"";if(e===this.graphs[0]&&e.properties.id){const t=encodeURIComponent(e.properties.id);-1===o.indexOf(t)&&(o+="/"+t)}window.location.hash=`${o}/${encodeURIComponent(n.id)}`}},o):o}),this.editor.addMenuCallback("nodeInport",e),this.editor.addMenuCallback("nodeOutport",e),this.editor.addMenuCallback("graphInport",(t,n)=>this.readonly?e(t):{...t,n4:{icon:"pencil-square-o",iconLabel:"rename",action:(e,t,n)=>{const o=document.createElement("noflo-exported-inspector");o.graph=this.graphs[this.graphs.length-1],o.publicport=t,o.privateport=n,o.direction="input",Object(i.a)(document.body).appendChild(o)}}}),this.editor.addMenuCallback("graphOutport",(t,n)=>this.readonly?e(t):{...t,n4:{icon:"pencil-square-o",iconLabel:"rename",action:(e,t,n)=>{const o=document.createElement("noflo-exported-inspector");o.graph=this.graphs[this.graphs.length-1],o.publicport=t,o.privateport=n,o.direction="output",Object(i.a)(document.body).appendChild(o)}}}),this.editor.addMenuCallback("group",e),this.editor.addMenuCallback("selection",(t,n)=>this.readonly?e(t):{...t,e4:{icon:"sitemap",iconLabel:"graph",action:this.subgraph.bind(this)},w4:{icon:"square-o",iconLabel:"group",action:this.group.bind(this)}})},edgesChanged(){this.fire("edges",this.edges)},componentChanged(){this.component&&"object"==typeof this.component&&!this.component.name&&(this.component=null),this.component&&"function"==typeof ga&&ga("send","event","url","navigation","openComponent"),this.fire("component",this.component)},group(e,t,n){if(this.readonly)return;"function"==typeof ga&&ga("send","event","menu","click","createGroup");let o="",r="";const a=n.nodes;a.sort(),e.groups.forEach(e=>{const t=JSON.parse(JSON.stringify(e.nodes));t.sort(),t.join(",")===a.join(",")&&(o=e.name,r=e.metadata.description)});const s=document.createElement("noflo-group-inspector");s.group=o,s.groupdescription=r,s.nodes=a,s.graph=e,Object(i.a)(document.body).appendChild(s)},subgraph(e,t,n){if(!this.project||this.readonly)return;"function"==typeof ga&&ga("send","event","menu","click","createSubgraph");const o=document.createElement("noflo-new-graph");o.runtimes=this.runtimes,o.type=e.properties.environment.type,o.project=this.project,o.mainGraph="false",Object(i.a)(document.body).appendChild(o),o.addEventListener("new",t=>{this.fire("newsubgraph",{currentGraph:e,subgraph:t.detail,nodes:n.nodes,project:this.project}),this.editor&&(this.editor.selectedNodes=[])})},setHelp(){this.help&&(this.set("help.headline","NoFlo Development Environment graph editor"),this.set("help.text","Here you can edit your Flow-Based graphs and run them. To add nodes, search for components using the search area on the top-left corner."))},showHelp(e){this.help&&(this.help.show("NoFlo Development Environment graph editor","Here you can edit your Flow-Based graphs and run them. To add nodes, search for components using the search area on the top-left corner."),e.once("addNode",()=>{this.help.close()}))},libraryMatch(e,t){const n=t.namespace||t.id;return e===n||e===n.replace("noflo-")},canGetSource(e){const t=e.split("/");if(t.length>1&&this.project&&this.libraryMatch(t.shift(),this.project)){for(let e=0;e<this.project.graphs.length;e+=1){if(this.project.graphs[e].name===t[0])return!0;if(this.project.graphs[e].properties.id===t[0])return!0}for(let e=0;e<this.project.components.length;e+=1)if(this.project.components[e].name===t[0])return!0}return!(!this.runtime.definition||!this.runtime.definition.capabilities)&&(-1!==this.runtime.definition.capabilities.indexOf("component:getsource")&&this.runtime.status.online)}});var S=n(1),N=n.n(S);var L=function(e){var t={passed:0,failed:0,skipped:0,total:0};return e.suites.forEach((function(e){e.cases.forEach((function(n){t.total+=1,e.skip||n.skip?t.skipped+=1:(!0===n.passed&&(t.passed+=1),!1===n.passed&&(t.failed+=1))}))})),N.a.createElement("ul",{className:"test-status"},N.a.createElement("li",{className:"pass"},t.passed),N.a.createElement("li",{className:"fail"},t.failed),N.a.createElement("li",{className:"skip"},t.skipped),N.a.createElement("li",{className:"total"},t.total))},z=n(17),I=n.n(z);function P(e,t){return e.skip||t.skip?"skip":!0===e.passed?"pass":!1===e.passed?"fail":"pending"}Object(o.a)({_template:o.b`
    <style include="noflo-modal-styles">
      #runtimeLink {
        width: 100%;
      }
      #qrcode {
        width: 300px;
        height: 300px;
      }
      .info {
        clear: both;
      }
    </style>
    <div class="modal-container" on-click="bgClick">
      <h1>Launch noflo-browser device</h1>
      <label>
        <span>Base application</span>
        <input type="text" value="{{baseApp::input}}" on-change="generateRuntimeInfo">
      </label>
      <div class="info">
        <div><a id="runtimeLink" href\$="{{runtimeUrl}}">Launch</a></div>
        <div><img id="qrcode" src="{{qrCodeUrl}}"></div>
      </div>
      <div class="toolbar">
        <button on-click="close">Cancel</button>
        <button on-click="connectRuntime">Connect</button>
      </div>
    </div>
`,is:"noflo-runtime-browserdebug",properties:{baseApp:{type:String,value:"https://noflojs.org/noflo-browser-app/main.html"},graph:{notify:!0},qrCodeUrl:{type:String,value:""},runtime:{type:Object,value:()=>({})},runtimeUrl:{type:String,value:""}},attached(){Object(i.a)(document.getElementById("container")).classList.add("blur"),Object(i.a)(this).classList.add("modal-content"),this.generateRuntimeInfo()},detached(){Object(i.a)(document.getElementById("container")).classList.remove("blur")},generateRuntimeInfo(){const e=Object(d.a)(),t="https://api.flowhub.io#"+e,n="?fbp_noload=true&fbp_protocol=webrtc&fbp_address="+encodeURIComponent(t),o={id:e,seenHoursAgo:1,user:"3f3a8187-0931-4611-8963-239c0dff1931",secret:"my-super-secret",label:"noflo-browser live debug",description:"On device debugging project",graph:this.graph.properties.id,protocol:"webrtc",type:"noflo-browser",address:t};this.runtime=o;const i=this.baseApp+n;this.qrCodeUrl="https://api.qrserver.com/v1/create-qr-code/?size=400x400&data="+encodeURIComponent(i),this.runtimeUrl=i},bgClick(e){e.stopPropagation()},connectRuntime(){this.fire("runtime",this.runtime),this.close()},close(){Object(i.a)(this).parentNode&&Object(i.a)(Object(i.a)(this).parentNode).removeChild(this)},listeners:{click:"close"}}),Object(o.a)({_template:o.b`
    <style include="noflo-modal-styles">
      #runtimeLink {
        width: 100%;
      }
      #qrcode {
        width: 300px;
        height: 300px;
      }
      .info {
        clear: both;
      }
    </style>
    <div class="modal-container" on-click="bgClick">
      <h1>Open noflo-browser runtime in preview area</h1>
      <label>
        <span>Base application</span>
        <input type="url" value="{{runtimeUrl::input}}" on-change="generateRuntimeInfo">
      </label>
      <div class="toolbar">
        <button on-click="close">Cancel</button>
        <button on-click="connectRuntime">Connect</button>
      </div>
    </div>
`,is:"noflo-runtime-customiframe",properties:{graph:{notify:!0},runtime:{type:Object,value:()=>({})},runtimeUrl:{type:String,value:"https://noflojs.org/noflo-browser/everything.html"}},attached(){Object(i.a)(document.getElementById("container")).classList.add("blur"),Object(i.a)(this).classList.add("modal-content"),this.generateRuntimeInfo()},detached(){Object(i.a)(document.getElementById("container")).classList.remove("blur")},generateRuntimeInfo(){const e=Object(d.a)(),t=this.runtimeUrl+"?fbp_noload=true&fbp_protocol=iframe",n={id:e,seenHoursAgo:1,user:"3f3a8187-0931-4611-8963-239c0dff1932",label:"noflo-browser iframe",description:"running in iframe",graph:this.graph.properties.id,protocol:"iframe",type:"noflo-browser",address:t};this.runtime=n},bgClick(e){e.stopPropagation()},connectRuntime(){this.fire("runtime",this.runtime),this.close()},close(){Object(i.a)(this).parentNode&&Object(i.a)(Object(i.a)(this).parentNode).removeChild(this)},listeners:{click:"close"}}),Object(o.a)({_template:o.b`
    <style include="noflo-modal-styles">
      ul.runtimes {
        padding: 0px;
        margin-left: -9px;
        margin-right: -9px;
        list-style: none;
        margin-top: 18px;
        margin-bottom: 18px;
      }
      ul.runtimes li {
        width: 274px;
        height: 105px;
        overflow: hidden;
        display: inline-block;
        text-align: center;
        background-color: hsl(192, 25%, 60%);
        color: white;
        transition: background-color 0.3s ease-in-out;
        border-radius: 3px;
        margin-right: 9px;
        margin-left: 9px;
        margin-bottom: 18px;
        position: relative;
        cursor: pointer;
      }
      ul.runtimes li.selected,
      ul.runtimes li:hover {
        background-color: hsl(190, 100%, 30%);
        color: white;
        cursor: default;
      }
      ul.runtimes li h2 {
        position: absolute;
        top: 36px;
        line-height: 36px;
        width: 180px;
        text-transform: none;
        font-size: 10px;
        text-align: left;
        white-space: nowrap;
        left: 18px;
        padding: 0px;
        margin: 0px;
        text-overflow: ellipsis;
        overflow: hidden;
      }
      ul.runtimes li p {
        position: absolute;
        top: 53px;
        left: 18px;
        width: 180px;
        text-transform: uppercase;
        font-size: 8px;
        text-align: left;
        max-height: 36px;
        overflow: hidden;
        color: hsl(189, 50%, 80%);
      }
    </style>
    <div class="modal-container" on-click="bgClick">
      <h1>Select runtime for <span>{{graph.name}}</span></h1>
      <template is="dom-if" if="{{available.length}}">
        <ul class="runtimes modal-content">
          <template is="dom-repeat" items="{{available}}" as="runtime">
          <li on-click="selectRuntime" data-id\$="{{runtime.id}}" class\$="{{runtime.type}}">
            <h2>{{runtime.label}}</h2>
            <p><span>{{runtime.address}}</span>.<br>Seen <span>{{runtime.seenHoursAgo}}</span>h ago</p>
          </li>
          </template>
        </ul>
      </template>
      <template is="dom-if" if="{{!available.length}}">
        <p>No compatible runtimes available.</p>
      </template>
      <div class="toolbar">
        <button on-click="close">Cancel</button>
      </div>
    </div>
`,is:"noflo-runtime-selector",properties:{available:{type:Array,value:()=>[]},graph:{notify:!0},component:{notify:!0}},attached(){let e;Object(i.a)(document.getElementById("container")).classList.add("blur"),Object(i.a)(this).classList.add("modal-content"),this.component&&(e=I.a.getComponentType(this.component)),this.graph&&(e=I.a.getGraphType(this.graph)),e||(e="all");const t={id:"new-browser-runtime",label:"Launch new runtime",address:"WebRTC"},n={id:"custom-iframe-address",label:"Custom iframe URL",address:"myapp.html"},o={id:"imgflo-heroku-new",label:"New imgflo app on Heroku",address:"myapp.herokuapps.com"};"noflo-browser"===e&&(this.push("available",t),this.push("available",n)),"imgflo"===e&&this.push("available",o),this.runtimes.forEach(e=>{this.push("available",e)}),this.available.forEach(this.checkRuntimeSeen.bind(this))},detached(){Object(i.a)(document.getElementById("container")).classList.remove("blur")},checkRuntimeSeen(e){if(e.seen||(e.seen=Date.now()),e.seenHoursAgo=Math.floor((Date.now()-new Date(e.seen).getTime())/36e5),e.seenHoursAgo/24>31){const t=this.available.indexOf(e);this.splice("available",t,1)}},selectRuntime(e){const t=e.currentTarget.getAttribute("data-id");return"new-browser-runtime"===t?(this.close(),void this.debugOnDevice()):"custom-iframe-address"===t?(this.close(),void this.addIframeRuntime()):("imgflo-heroku-new"===t&&(this.close(),this.deployHeroku("https://github.com/jonnor/imgflo")),void this.runtimes.forEach(e=>{e.id===t&&(this.fire("runtime",e),this.close())}))},debugOnDevice(){this.debugOnDeviceModal=document.createElement("noflo-runtime-browserdebug"),this.set("debugOnDeviceModal.graph",this.graph),this.debugOnDeviceModal.addEventListener("runtime",e=>{const t=e.detail;this.fire("runtime",t)}),Object(i.a)(document.body).appendChild(this.debugOnDeviceModal)},addIframeRuntime(){this.addIframeModal=document.createElement("noflo-runtime-customiframe"),this.set("addIframeModal.graph",this.graph),this.addIframeModal.addEventListener("runtime",e=>{const t=e.detail;this.fire("runtime",t)}),Object(i.a)(document.body).appendChild(this.addIframeModal)},deployHeroku(e){document.location.href="https://dashboard.heroku.com/new?template="+encodeURIComponent(e)},bgClick(e){e.stopPropagation()},close(){Object(i.a)(this).parentNode&&Object(i.a)(Object(i.a)(this).parentNode).removeChild(this)},listeners:{click:"close"}});var M=function(e){return N.a.createElement("ul",null,e.suites.map((function(e){return N.a.createElement("li",{className:"testsuite"},N.a.createElement("div",{className:"suite-header"},N.a.createElement("label",{className:"name"},e.name),N.a.createElement("label",{className:"topic"},e.topic)),N.a.createElement("ul",null,e.cases.map((function(t){return N.a.createElement("li",{className:P(t,e)},N.a.createElement("div",{className:"testcase"},N.a.createElement("label",{className:"name"},t.name),N.a.createElement("label",{className:"assertion"},t.assertion),N.a.createElement("label",{className:"error"},t.error||"")))}))))})))};Object(o.a)({_template:o.b`
    <style include="noflo-modal-styles">
      #testlisting ul {
        padding: 0px;
      }
      li .suite-header label.topic {
        font-weight: bold;
      }
      li .suite-header label {
        display: inline !important;
        padding-right: 1em;
        color: var(--noflo-ui-text-highlight);
      }
      li.testsuite {
        margin-bottom: 1em;
      }
      li {
        list-style: none;
      }
      li.testsuite li {
        margin-left: 28px;
      }
      li label {
        display: inline;
        margin-top: 7px !important;
      }
      li label.assertion {
        padding-left: 8px;
      }
      li label.error {
        margin-bottom: 8px;
        font-style: italic;
        display: block;
      }
      li.pass {
        color: hsl(135, 98%, 46%);
        list-style: disc;
      }
      li.fail {
        color: hsl(0, 98%, 46%);
        list-style: square;
      }
      li.skip {
        color: hsl( 60, 98%, 46%);
        list-style: disc;
      }
    </style>
    <div class="modal-container" on-click="bgClick">
      <div class="modal-content">
        <div id="testlisting"></div>
      </div>
      <div class="toolbar">
        <button on-click="close">Close</button>
      </div>
    </div>
`,is:"noflo-runtime-testdetails",properties:{suites:{type:Array,value:()=>[]}},attached(){Object(i.a)(document.getElementById("container")).classList.add("blur"),Object(i.a)(this).classList.add("modal-content");const e=this.shadowRoot.getElementById("testlisting");C.a.render(M({suites:this.suites}),e)},detached(){Object(i.a)(document.getElementById("container")).classList.remove("blur")},close(){Object(i.a)(this).parentNode&&Object(i.a)(Object(i.a)(this).parentNode).removeChild(this)},listeners:{click:"close"}}),Object(o.a)({_template:o.b`
    <style>
      :host {
        display: block;
        padding-left: 18px;
        box-sizing: border-box;
        color: var(--noflo-ui-text);
        background-color: var(--noflo-ui-background) !important;
        background-image: radial-gradient(1px at 0px 0px, hsl(210, 50%, 60%) 0.5px, var(--noflo-ui-background) 1px);
        background-size: calc(100% - 1px);
        background-position: 0px;
        border-bottom: 1px var(--noflo-ui-border) solid;
      }

      #runtime_icon {
        position: absolute;
        right: 8px;
        top: 0px;
        font-size: 72px;
        color: hsla(185, 100%, 75%, 0.1);
      }

      #teststatus {
        position: absolute;
        right: 0px;
        z-index: 1;
        width: 100px;
      }
      #teststatus ul {
        margin: 0px;
        padding: 0px;
      }
      #teststatus ul li {
        display: inline;
        padding-left: 8px;
        line-height: 36px;
      }
      #teststatus ul li.pass {
        color: hsl(135, 98%, 46%);
      }
      #teststatus ul li.fail {
        color: hsl(0, 98%, 46%);
      }
      #teststatus ul li.skip {
        color: hsl( 60, 98%, 46%);
      }

      h2 {
        font-size: 14px;
        width: 216px;
        font-weight: normal;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        line-height: 36px;
        margin: 0px;
        padding: 0px;
      }

      button {
        width: 36px;
        height: 36px;
        font-size: 10px;
        background-color: transparent;
        border: none;
        color: var(--noflo-ui-text-highlight);
        text-align: center;
        cursor: pointer;
      }

      #address h2 {
        position: absolute;
        left: 54px;
        width: 180px;
        top: 0px;
        color: var(--noflo-ui-text);
      }

      #address, #address button {
        color: #e70215;
      }
      .online#address, .online#address button {
        color: #01d159;
      }
      #address button.clear {
        position: absolute;
        right: 0px;
        color: var(--noflo-ui-text-highlight);
      }

      #runcontrol h2 {
        position: absolute;
        left: 54px;
        top: 36px;
      }
      #runcontrol button {
        color: var(--noflo-ui-text-highlight);
      }

      #select {
        text-align: center;
      }
      #select button.select {
        width: auto;
        height: auto;
        background-color: hsl(190, 90%, 45%);
        color: hsla(0, 0%, 0%, 0.98);
        border: none;
        font-size: 13px;
        border-radius: 3px;
        font-family: "SourceCodePro",Helvetica,Arial,sans-serif;
        height: 36px;
        padding-left: 36px;
        padding-right: 36px;
        margin: 0px;
        margin-top: 18px;
      }
    </style>
    <template is="dom-if" if="{{runtime}}">
      <noflo-icon id="runtime_icon" icon="{{icon}}"></noflo-icon>
      <div id="address" class\$="{{_computeOnlineClass(runtime.status.online)}}">
        <button title="Connect/Disconnect" on-click="reconnect"><noflo-icon icon="refresh"></noflo-icon></button>
        <h2>{{_produceAddress(runtime)}}</h2>
        <button title="Change Runtime" on-click="clearRuntime" class="clear"><noflo-icon icon="exchange"></noflo-icon></button>
      </div>
      <div id="teststatus" on-click="showTestDetails"></div>
      <div id="runcontrol">
        <template is="dom-if" if="{{runtime.status.online}}">
          <template is="dom-if" if="{{runtime.execution.running}}">
            <button title="Stop" class="stop" on-click="stop"><noflo-icon icon="pause"></noflo-icon></button>
          </template>
          <template is="dom-if" if="{{!runtime.execution.running}}">
            <button title="Start" class="start" on-click="start"><noflo-icon icon="play"></noflo-icon></button>
          </template>
          <h2>{{runtime.execution.label}}</h2>
        </template>
      </div>
    </template>
    <template is="dom-if" if="{{!runtime}}">
      <div id="select">
        <button on-click="selectRuntime" class="select">Select runtime</button>
      </div>
    </template>
`,is:"noflo-runtime",properties:{icon:{type:String,value:"asterisk"},graph:{value:null,observer:"graphChanged"},component:{value:null,observer:"graphChanged"},panel:{value:null},iframe:{value:null},runtime:{value:null,observer:"runtimeChanged"},runtimes:{type:Array,value:()=>[],notify:!0},suites:{type:Array,value:()=>[]}},attached(){Object(i.a)(this).classList.add("gpu")},clearRuntime(){this.runtime.definition.project=null,this.fire("changed",this.runtime.definition),this.set("runtime",null),this.graphChanged()},graphChanged(){this.runtimeSelector&&(Object(i.a)(this.runtimeSelector).parentNode&&Object(i.a)(Object(i.a)(this.runtimeSelector).parentNode).removeChild(this.runtimeSelector),this.runtimeSelector=null)},runtimeChanged(){const e=this.getRuntimeIframe();this.iframe&&this.iframe!==e&&this.hideCard(),this.iframe=e,this.runtime&&(this.set("icon",this.getRuntimeIcon(this.runtime)),this.runtime.status&&this.runtime.status.online?this.runtime.execution&&this.runtime.execution.running&&this.showCard():this.hideCard())},start(e){e.preventDefault(),this.runtime&&this.graph&&(this.showCard(),this.fire("start",{runtime:this.runtime.definition.id,graph:this.graph}))},stop(e){e&&e.preventDefault(),this.runtime&&this.graph&&this.fire("stop",{runtime:this.runtime.definition.id,graph:this.graph})},reconnect(e){e&&e.preventDefault(),this.fire("reconnect",{runtime:this.runtime.definition.id})},showTests(e){this.suites=e;const t=this.shadowRoot.getElementById("teststatus");C.a.render(L({suites:this.suites}),t)},showTestDetails(){if(!this.suites||!this.suites.length)return;const e=document.createElement("noflo-runtime-testdetails");e.suites=this.suites,Object(i.a)(document.body).appendChild(e)},showCard(){this.iframe&&this.setIframeVisibility(this.iframe,"block")},hideCard(){this.iframe&&this.setIframeVisibility(this.iframe,"none")},getRuntimeIframe(){if(!this.runtime||!this.runtime.definition)return null;if(!this.runtime.definition.querySelector)return null;const e=document.body.querySelector(this.runtime.definition.querySelector);return e||null},setIframeVisibility(e,t){e.style.display=t},selectRuntime(){(this.graph||this.component)&&(Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length||(this.runtimeSelector=document.createElement("noflo-runtime-selector"),this.set("runtimeSelector.runtimes",this.runtimes),this.set("runtimeSelector.graph",this.graph),this.set("runtimeSelector.component",this.component),this.runtimeSelector.addEventListener("runtime",e=>{const t=e.detail;this.graph&&(t.project=this.graph.properties.project),this.component&&(t.project=this.component.project),this.fire("changed",t),setTimeout(()=>{this.fire("switchRuntime",t.id)},10)}),Object(i.a)(document.body).appendChild(this.runtimeSelector)))},getRuntimeIcon(e){if(!e||!e.definition||!e.definition.type)return"cog";switch(e.definition.type){case"noflo-browser":return"html5";case"noflo-nodejs":return"cloud";case"noflo-gnome":return"desktop";case"microflo":return"lightbulb-o";case"javafbp":return"android";case"imgflo":return"picture-o";case"sndflo":return"music";case"flowtrace-replay":return"pause-circle";default:return"cog"}},_computeOnlineClass(e){return this.tokenList({online:e})},_produceAddress:e=>e.definition?"webrtc"===e.definition.protocol?"WebRTC P2P "+e.definition.id:e.definition.address:"",tokenList(e){const t=[];return Object.keys(e).forEach(n=>{e[n]&&t.push(n)}),t.join(" ")}});var B=n(181);Object(o.a)({_template:o.b`
    <style>
      #thumb,
      #outcanvas {
        position: absolute;
        top: 0;
        left: 0;
        overflow: visible;
      }
      #viewrect {
        position: absolute;
        top: 0;
        left: 0;
        width: 200px;
        height: 150px;
        border: 1px solid hsla(190, 100%, 80%, 0.4);
        border-style: dotted;
      }
    </style>
    <the-graph-thumb id="thumb" graph="{{graph}}" thumbrectangle="{{thumbrectangle}}" width="{{width}}" height="{{height}}" thumbscale="{{thumbscale}}" theme="{{theme}}">
    </the-graph-thumb>
    <canvas id="outcanvas" width="{{width}}" height="{{height}}" style="position:absolute;top:0;left:0;"></canvas>
    <div id="viewrect"></div>
`,is:"the-graph-nav",properties:{backgroundColor:{type:String,value:"hsla(184, 8%, 75%, 0.9)"},graph:{notify:!0},height:{type:Number,value:150,notify:!0},hide:{type:Boolean,value:!1,notify:!0,observer:"hideChanged"},outsideFill:{type:String,value:"hsla(0, 0%, 0%, 0.4)"},theme:{notify:!0,observer:"themeChanged"},thumbrectangle:{observer:"thumbrectangleChanged"},thumbscale:{type:Number,value:1,observer:"thumbscaleChanged"},view:{observer:"viewChanged"},viewrectangle:{observer:"viewrectangleChanged"},width:{type:Number,value:200,notify:!0}},ready(){this.viewrectangle=[0,0,500,500],this.scaledviewrectangle=[0,0,200,150],this.theme="dark"},attached(){this.set("style.overflow","hidden"),this.set("style.cursor","move"),this.set("style.width",this.width+"px"),this.set("style.height",this.height+"px")},viewChanged(e,t){if(!t)return;const n=t.pan[0],o=t.pan[1];this.viewrectangle=[-n,-o,t.width,t.height],this.scale=t.scale},themeChanged(){const e=y.a.nav.calculateStyleFromTheme(this.theme);this.backgroundColor=e.backgroundColor,this.viewBoxBorder=e.viewBoxBorder,this.viewBoxBorder2=e.viewBoxBorder2,this.outsideFill=e.outsideFill,this.set("style.backgroundColor",this.backgroundColor),this.viewrectangleChanged()},viewrectangleChanged(){if(!this.viewrectangle||!this.viewrectangle.length)return;const e=this.$.outcanvas.getContext("2d"),t={width:this.width,height:this.height,scale:this.scale,thumbscale:this.thumbscale,thumbrectangle:this.thumbrectangle,viewrectangle:this.viewrectangle,viewBoxBorder:this.viewBoxBorder,viewBoxBorder2:this.viewBoxBorder2,outsideFill:this.outsideFill},n=y.a.nav.render(e,this.$.viewrect,t);this.hide=n.hide},hideChanged(){this.hide?this.set("style.display","none"):this.set("style.display","block")},thumbscaleChanged(){this.viewrectangleChanged()},thumbrectangleChanged(){const e=this.thumbrectangle[2],t=this.thumbrectangle[3];this.thumbscale=e>t?this.width/e:this.height/t},hostAttributes:{"touch-action":"none"}}),Object(o.a)({_template:o.b`
    <style>
      #controls {
        display: flex;
        justify-content: space-between;
        flex-direction: row;
        position: fixed;
        right: 0px;
        bottom: 36px;
        width: 288px;
        height: 144px;
        color: var(--noflo-ui-text-highlight);
        box-sizing: border-box;
        background-color: var(--noflo-ui-background) !important;
        background-image: radial-gradient(1px at 0px 0px, hsl(210, 50%, 60%) 0.5px, var(--noflo-ui-background) 1px);
        background-size: calc(100% - 1px);
        background-position: 0px -1px;
        border-top: 1px solid var(--noflo-ui-border);
      }
      #controls #buttons {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }

      #controls button {
        line-height: 36px;
        border: none;
        background-color: transparent;
        font-size: 14px;
        width: 36px;
        color: var(--noflo-ui-text-highlight);
        cursor: pointer;
      }
      #controls button.disabled {
        color: rgba(179, 222, 230, 0.2);
      }
    </style>
    <div id="controls">
      <the-graph-nav id="nav" width="252" height="144" graph="{{graph}}" hide="{{hidenav}}"></the-graph-nav>
      <div id="buttons">
      <template is="dom-if" if="{{graph}}">
        <button title="Undo" on-click="undo" class\$="{{_computeClass(canUndo)}}">
          <noflo-icon icon="undo"></noflo-icon>
        </button>
        <template is="dom-if" if="{{klay}}">
          <button title="Autolayout" class="autolayout" on-click="autolayout">
            <noflo-icon icon="magic"></noflo-icon>
          </button>
        </template>
        <button title="Redo" on-click="{{_computeClass2(canRedo)}}" class\$="{{_computeClass(canRedo)}}">
          <noflo-icon icon="repeat"></noflo-icon>
        </button>
      </template>
      </div>
    </div>
`,is:"noflo-journal",properties:{canRedo:{type:Boolean,value:!1},canUndo:{type:Boolean,value:!1},db:{value:null,notify:!0,observer:"dbChanged"},editor:{value:null,notify:!0,observer:"editorChanged"},graph:{value:null,notify:!0,observer:"graphChanged"},component:{value:null,notify:!0,observer:"componentChanged"},hidenav:{type:Boolean,value:!1,observer:"hidenavChanged"},klay:{type:Boolean,value:!1},theme:{type:String,value:"dark",notify:!0,observer:"themeChanged"},panel:{notify:!0},returnTo:{value:null}},attached(){this.klay=!0},editorChanged(e){if(!e)return;const{nav:t}=this.$,n=e;n.addEventListener("viewchanged",e=>{t.view=e.detail}),t.addEventListener("panto",e=>{const t=e.detail;t.x===n.pan[0]&&t.y===n.pan[1]||(n.pan[0]=t.x,n.pan[1]=t.y)}),t.addEventListener("tap",()=>{n.triggerFit()})},graphChanged(){this.checkState(),this.connectJournal()},dbChanged(){this.checkState(),this.connectJournal()},componentChanged(){this.component&&this.component.name?this.hidenav=!0:this.hidenav=!1},connectJournal(){if(!this.graph||!this.graph.on||!this.db)return;const e=this.graph.nodes.filter(e=>!!e.metadata&&!(!e.metadata.x||!e.metadata.y));if(this.graph.nodes.length&&!e.length&&setTimeout(()=>{this.autolayout()},10),!this.graph.properties.project||this.graph.journal||!this.db)return;const t=new B.IDBJournalStore(this.graph,this.db);t.init(()=>{this.graph.journal=new p.Journal(this.graph,void 0,t),this.checkState(),this.graph.journal.store.on("transaction",()=>{this.checkState()})})},checkState(){if(!this.graph||!this.graph.journal)return this.canUndo=!1,void(this.canRedo=!1);this.canUndo=this.graph.journal.canUndo(),this.canRedo=this.graph.journal.canRedo()},undo(e){e&&e.preventDefault(),this.graph&&this.graph.journal&&(this.graph.journal.undo(),this.checkState())},redo(e){e&&e.preventDefault(),this.graph&&this.graph.journal&&(this.graph.journal.redo(),this.checkState())},autolayout(e){e&&e.preventDefault(),this.graph&&this.klay&&this.editor.triggerAutolayout()},themeChanged(e){this.$.nav.theme=e},hidenavChanged(){this.hidenav?this.set("$.controls.style.width","36px"):this.set("$.controls.style.width","288px")},_computeClass(e){return"undo "+this.tokenList({disabled:!e})},_computeClass2(e){return"redo "+this.tokenList({disabled:!e})},tokenList(e){const t=[];return Object.keys(e).forEach(n=>{e[n]&&t.push(n)}),t.join(" ")}});var T=n(22),_=n.n(T),R=(n(103),n(104),n(105),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(55));n(179);Object(o.a)({_template:o.b`
    <style include="codemirror-styles">
      :host {
        background-color: var(--noflo-ui-background);
        overflow: hidden;
      }
      .CodeMirror {
        height: 100%;
        cursor: text;
      }
      .CodeMirror-scroll {
        height: 100%;
      }
      #code,
      #tests {
        display: block;
        width: 50%;
        height: 100%;
        position: absolute;
        left: 0px;
        top: 36px;
      }
      #tests {
        left: auto;
        right: 0px;
      }
      #code h1,
      #tests h1 {
        margin: 0;
        line-height: 36px;
        padding-left: 36px;
        font-size: 14px;
        text-transform: uppercase;
        color: var(--noflo-ui-text);
      }
      #code h1 {
        text-align: right;
      }
    </style>
    <section id="code">
      <h1>Implementation</h1>
      <div id="code_editor"></div>
    </section>
    <section id="tests">
      <h1>Tests</h1>
      <div id="tests_editor"></div>
    </section>
`,is:"noflo-component-editor",properties:{codeEditor:{value:null},component:{value:null,notify:!0,observer:"componentChanged"},height:{value:null,notify:!0,observer:"heightChanged"},project:{value:null},runtime:{value:null},spec:{value:null,observer:"specChanged"},testsEditor:{value:null},theme:{type:String,value:"dark",observer:"themeChanged"},width:{value:null,notify:!0,observer:"widthChanged"}},ready(){this.componentChanged();const e=this;this.debouncedComponentChange=R.a.debounce(()=>{e.component&&e.fire("changed",e.component)},1500),this.debouncedSpecChange=R.a.debounce(()=>{e.spec&&e.fire("specschanged",e.spec)},1500)},componentChanged(){if(!this.component||!this.component.name)return void this.set("style.display","none");this.set("spec",null),this.project&&(this.project.specs.forEach(e=>{e.name===this.component.name&&this.set("spec",e)}),this.spec||(this.set("spec",{name:this.component.name,changed:!1,code:this.component.tests||"",language:"yaml",project:this.component.project,type:"spec"}),this.push("project.specs",this.spec))),this.set("style.display","block"),Object(i.a)(this.$.code_editor).innerHTML="",this.component.code||this.set("component.code",this.getExampleCode());const e=this.getMirrorOptions(this.component,this.component.code);this.codeEditor=_()(this.$.code_editor,e),this.codeEditor.on("change",()=>{this.set("component.code",this.codeEditor.getValue()),this.set("component.changed",!0),this.debouncedComponentChange()}),this.setSize()},specChanged(){if(Object(i.a)(this.$.tests_editor).innerHTML="",!this.spec)return;const e=this.getMirrorOptions(this.spec,this.spec.code);this.testsEditor=_()(this.$.tests_editor,e),this.testsEditor.on("change",()=>{this.set("spec.code",this.testsEditor.getValue()),this.set("spec.changed",!0),this.debouncedSpecChange()}),this.setSize()},widthChanged(){this.setSize()},heightChanged(){this.setSize()},getMirrorOptions(e,t){const n={lineNumbers:!0,value:t||"",mode:this.getMirrorMode(e.language),theme:this.getMirrorTheme(),readOnly:!e.project&&"nocursor"};return e.language,n},getMirrorMode:e=>"coffeescript"===e||"javascript"===e?e:"typescript"===e?"text/typescript":"yaml"===e?"text/x-yaml":"python"===e?"text/x-python":"c"===e?"text/x-csrc":"c++"===e?"text/x-c++src":"supercollider"===e?"text/x-stsrc":"clike",getMirrorTheme(){return"light"===this.theme?"mdn-like":"noflo"},getExampleCode(){let e=null;if(this.runtime&&this.runtime&&this.runtime.definition&&this.runtime.definition.type&&(e=this.runtime.definition.type),!e&&this.project&&(e=this.project.type),!e)return"";const t=h.a[e];let{language:n}=this.component;"es6"===n&&(n="es2015");let o="";if(t&&t.componenttemplates&&t.componenttemplates[this.component.language]&&(o=t.componenttemplates[this.component.language]),o){o=R.a.template(o)({namespace:this.project.namespace||this.project.id,name:this.component.name,description:this.component.description,icon:this.component.icon})}return o},themeChanged(){this.codeEditor&&this.testsEditor&&(this.codeEditor.setOption("theme",this.getMirrorTheme()),this.testsEditor.setOption("theme",this.getMirrorTheme()))},setSize(){if(!this.width||!this.height)return;const e=(this.width-90)/2,t=this.height-102;this.codeEditor&&(this.codeEditor.setSize(e,t),this.codeEditor.refresh()),this.testsEditor&&(this.testsEditor.setSize(e,t),this.testsEditor.refresh())}}),Object(o.a)({_template:o.b`
    <ul class="toolbar2right">
      <template is="dom-repeat" items="{{buttons}}" as="button">
        <li>
          <button on-click="clicked" id="{{button.id}}">
            <noflo-icon icon="{{button.icon}}" fallback=""></noflo-icon>
            <span>{{button.label}}</span>
          </button>
        </li>
      </template>
    </ul>
`,is:"noflo-menu",properties:{buttons:{type:Array,value:()=>[]}},clicked(e,t,n){e.preventDefault(),this.buttons.forEach(e=>{e.id===n.getAttribute("id")&&(this.fire("click",e.id),e.search?this.fire("search",e.search):e.action())})}}),Object(o.a)({_template:o.b`
    <style>
      .search-results-header h1 {
        color: var(--noflo-ui-border);
        padding-left: 25px;
        font-size: 12px !important;
      }
      .search-results-header i {
        padding: 0;
        margin: 0;
        line-height: 36px;
        width: 36px;
        left: -10px;
        position: absolute;
        text-align: center;
      }

      .search-results-list {
        -webkit-box-sizing: border-box;
        -mox-box-sizing: border-box;
        box-sizing: border-box;
        list-style: none;
        margin: 0;
        padding: 0;
        background-color: var(--noflo-ui-background);
        border-right: 1px solid var(--noflo-ui-border);
      }

      .search-results-item {
        -webkit-box-sizing: border-box;
        -mox-box-sizing: border-box;
        box-sizing: border-box;
        min-height: 36px;
        position: relative;
        cursor: cell;
        padding-top: 18px !important;
        padding-right: 12px !important;
      }
      .search-results-item i {
        color: var(--noflo-ui-text-highlight);
        position: absolute;
        top: 18px;
        left: 0;
        width: 36px;
        text-align: center;
        padding: 0;
        margin: 0;
      }
      .search-results-item h2 {
        color: var(--noflo-ui-text-highlight);
        position: absolute;
        margin: 0;
        display: block;
        left: 36px;
        top: 18px;
        height: 36px;
        width: calc(100% - 36px);
        font-size: 12px;
        text-overflow: ellipsis;
        text-transform: uppercase;
        white-space: nowrap;
        overflow-x: hidden;
      }
      .search-results-item p {
        position: relative;
        display: block;
        left: 8px;
        padding: 0px;
        margin: 0px;
        margin-top: 24px;
        height: auto;
        line-height: calc(36px / 3);
        font-size: 10px;
        color: var(--noflo-ui-text);
        text-shadow: var(--noflo-ui-background) 0px 1px 1px;
      }
    </style>
    <ul class="search-results-list">
      <template is="dom-repeat" items="{{results}}" as="result" index-as="index">
        <li class="search-results-item" on-click="clicked" data-index\$="{{index}}">
          <i class="fa fa-cog"></i>
          <h2>{{result.metadata.label}}</h2>
          <p>{{result.component}}</p>
        </li>
      </template>
    </ul>
`,is:"noflo-search-graph-results",properties:{editor:{value:null,notify:!0},results:{type:Array,value:()=>[],notify:!0,observer:"resultsChanged"},search:{type:String,value:"",notify:!0}},detached(){this.editor=null},resultsChanged(){this.editor&&(!this.search||this.search.length<1?(this.set("editor.displaySelectionGroup",!0),this.set("editor.selectedNodes",[])):this.results&&(this.set("editor.displaySelectionGroup",!(this.results.length>0)),this.set("editor.selectedNodes",this.results)))},clicked(e){e.preventDefault();const t=e.currentTarget.getAttribute("data-index"),n=this.results[t];n&&(this.set("editor.displaySelectionGroup",!0),this.set("editor.selectedNodes",[n]),this.editor.focusNode(n),this.fire("resultclick",n))}}),Object(o.a)({_template:o.b`
    <style>
      .search-results-header h1 {
        color: var(--noflo-ui-border);
        padding-left: 25px;
        font-size: 12px !important;
      }
      .search-results-header i {
        padding: 0;
        margin: 0;
        line-height: 36px;
        width: 36px;
        left: -10px;
        position: absolute;
        text-align: center;
      }

      .search-results-list {
        -webkit-box-sizing: border-box;
        -mox-box-sizing: border-box;
        box-sizing: border-box;
        list-style: none;
        margin: 0;
        padding: 0;
        background-color: var(--noflo-ui-background);
        border-right: 1px solid var(--noflo-ui-border);
      }

      .search-results-item {
        -webkit-box-sizing: border-box;
        -mox-box-sizing: border-box;
        box-sizing: border-box;
        min-height: 36px;
        position: relative;
        cursor: cell;
        padding-top: 18px !important;
        padding-right: 12px !important;
      }
      .search-results-item i {
        color: var(--noflo-ui-text-highlight);
        position: absolute;
        top: 18px;
        left: 0;
        width: 36px;
        text-align: center;
        padding: 0;
        margin: 0;
        font: normal normal normal 14px/1 FontAwesomeSVG;
      }
      .search-results-item h2 {
        color: var(--noflo-ui-text-highlight);
        position: absolute;
        margin: 0;
        display: block;
        left: 36px;
        top: 18px;
        height: 36px;
        width: calc(100% - 36px);
        font-size: 12px;
        text-overflow: ellipsis;
        text-transform: uppercase;
        white-space: nowrap;
        overflow-x: hidden;
      }
      .search-results-item p {
        position: relative;
        display: block;
        left: 8px;
        padding: 0px;
        margin: 0px;
        margin-top: 24px;
        height: auto;
        line-height: calc(36px / 3);
        font-size: 10px;
        color: var(--noflo-ui-text);
        text-shadow: var(--noflo-ui-background) 0px 1px 1px;
      }
    </style>
    <ul class="search-results-list">
      <template is="dom-repeat" items="{{results}}" as="result" index-as="index">
        <li class="search-results-item" on-click="clicked" data-index\$="{{index}}">
          <i><noflo-icon icon="[[result.icon]]" fallback="cog"></noflo-icon></i>
          <h2>[[result.label]]</h2>
          <p>[[result.description]]</p>
        </li>
      </template>
    </ul>
`,is:"noflo-search-library-results",properties:{results:{type:Array,value:()=>[],notify:!0},search:{type:String,value:"",notify:!0}},clicked(e){e.preventDefault();const t=e.currentTarget.getAttribute("data-index"),n=this.results[t];n&&n.action&&(this.fire("resultclick",n),n.action())}});var D=n(30),G=n.n(D);Object(o.a)({_template:o.b`
    <style include="noflo-modal-styles codemirror-styles">
      .CodeMirror {
        height: 100%;
        cursor: text;
      }
      .CodeMirror-scroll {
        height: 100%;
      }
      textarea {
        height: 144px;
      }
      .editable-title {
        font-size: 17px;
        line-height: 36px;
        margin: 0px;
        padding: 0px;
        margin-bottom: 18px;
        background-color: var(--noflo-ui-background-shadow);
        color: var(--noflo-ui-text);
      }
      p {
        font-size: 13px;
        line-height: 18px;
      }
      p a, label a {
        color: rgb(0, 127, 153);
        text-decoration: none;
      }
      div.hidden {
        display: none;
      }
      a#download {
        position: absolute;
        right: 36px;
        top: 36px;
        width: 36px;
        display: block;
        height: 36px;
        line-height: 36px;
        background-color: rgb(0, 127, 153);
        text-align: center;
        border-radius: 6px;
        color: white;
      }
      button.delete {
        position: absolute;
        right: 36px;
        border: 0px solid hsla( 0, 98%, 46%, .8) !important;
        color: hsla( 0, 98%, 46%, .8) !important;
      }
      ul.tabs {
        display: block;
        margin: 0px;
        padding: 0px;
        list-style: none;
        padding: 1px;
        text-align: center;
      }
      ul.tabs li {
        display: inline;
        line-height: 36px;
        font-size: 13px;
        color: hsl(189, 50%, 25%);
        text-decoration: none;
        padding-left: 36px;
        padding-right: 36px;
        cursor: pointer;
      }
      ul.tabs li.selected {
        border: none;
        border-radius: 3px;
        background-color: rgba(0, 42, 51, 0.498039);
        color: white;
        border-radius: 3px;
        padding-top: 8px;
        padding-bottom: 9px;
        cursor: default;
      }
    </style>
    <div class="modal-container" on-click="bgClick">
      <input type="text" on-keydown="checkUpdateName" on-blur="updateName" class="editable-title" value="{{getName(graph)}}">
      <template is="dom-if" if="{{downloadUrl}}">
        <a id="download" download="{{_computeDownload(graph)}}" href\$="{{downloadUrl}}">
          <noflo-icon icon="download"></noflo-icon>
        </a>
      </template>
      <div class="modal-content">
      <template is="dom-if" if="{{isMain}}">
      <p>Main graph in project <span>{{project.name}}</span>.</p>
      </template>
      <template is="dom-if" if="{{inGraph.length}}">
      <p>Used as subgraph in
      <template is="dom-repeat" items="{{inGraph}}" as="parent">
        <a href\$="{{_computeHref(parent, project)}}">
          <span>{{getName(parent)}}</span>
        </a>
      </template>
      </p>
      </template>
      <ul class="tabs">
        <li id="properties" on-click="setView" class\$="{{_computeClass(view)}}">Properties</li>
        <template is="dom-if" if="{{_computeIf(type)}}">
        <li id="html" on-click="setView" class\$="{{_computeClass5(view)}}">HTML</li>
        </template>
        <template is="dom-if" if="{{spec}}">
        <li id="tests" on-click="setView" class\$="{{_computeClass6(view)}}">Tests</li>
        </template>
      </ul>
      <div class\$="{{_computeClass2(view)}}">
      <label>
        <span>Description</span>
        <input type="text" value="{{description::input}}">
      </label>
      <label>
        Icon
        <noflo-icon-selector selected="{{icon}}"></noflo-icon-selector>
      </label>
      <label>
        <span>Type</span>
        <noflo-type-selector type="{{type}}" runtimes="{{runtimes}}"></noflo-type-selector>
      </label>
      </div>
      <div class\$="{{_computeClass3(view)}}">
      <label id="html_editor">
        <span>Preview contents</span>
      </label>
      </div>
      <div class\$="{{_computeClass4(view)}}">
      <label id="tests_editor">
        <span>Tests</span>
      </label>
      </div>
      </div>
      <div class="toolbar">
        <button on-click="save">Save</button>
        <a on-click="close">Cancel</a>
        <button class="delete" on-click="delete">Delete</button>
      </div>
    </div>
`,is:"noflo-graph-inspector",properties:{description:{type:String,value:""},downloadUrl:{type:String,value:""},graph:{value:null,notify:!0},icon:{type:String,value:""},inGraph:{type:Array,value:()=>[]},isMain:{type:Boolean,value:!1},preview:{type:String,value:""},project:{value:null},runtimes:{type:Array,value:()=>[]},spec:{value:null},theme:{type:String,value:"dark",observer:"themeChanged"},type:{type:String,value:""},view:{type:String,value:"properties",observer:"viewChanged"}},checkUpdateName(e){13===e.keyCode&&(e.preventDefault(),this.updateName(e))},updateName(e){this.set("graph.name",e.currentTarget.value)},attached(){Object(i.a)(document.getElementById("container")).classList.add("blur"),Object(i.a)(this).classList.add("modal-content"),this.graph&&(this.description=this.graph.properties.description,this.icon=this.graph.properties.icon||"cog",this.type=I.a.getGraphType(this.graph),this.view="properties",this.inGraph=[],this.isMain=!1,this.project&&(this.graph.properties.main?this.isMain=!0:this.project.graphs.forEach(e=>{e.nodes.forEach(t=>{t.component!==j.a.unnamespace(this.graph.name)&&t.component!==j.a.namespace(this.graph.name,this.project.namespace)||this.push("inGraph",e)})}),this.project.specs.forEach(e=>{j.a.unnamespace(e.name)===j.a.unnamespace(this.graph.name)&&(this.spec=e)}),this.spec||(this.spec={name:j.a.unnamespace(this.graph.name),changed:!1,code:"",language:"yaml",project:this.project.id,type:"spec"},this.push("project.specs",this.spec))),this.prepareHtmlEditor(),this.prepareTestsEditor(),this.prepareDownload())},prepareDownload(){if(!window.Blob||!window.URL)return;const e=JSON.parse(JSON.stringify(this.graph));e.properties&&(delete e.properties.sha,delete e.properties.changed,delete e.properties.project,delete e.properties.id);const t=new Blob([JSON.stringify(e,null,4)],{type:"application/json"});try{this.downloadUrl=URL.createObjectURL(t)}catch(e){}},detached(){Object(i.a)(document.getElementById("container")).classList.remove("blur")},viewChanged(){"html"===this.view&&this.htmlEditor&&setTimeout(()=>{this.htmlEditor.setSize(572,288),this.htmlEditor.refresh(),this.htmlEditor.focus()},1),"tests"===this.view&&this.testsEditor&&setTimeout(()=>{this.testsEditor.setSize(572,288),this.testsEditor.refresh(),this.testsEditor.focus()},1)},getMirrorTheme(){return"light"===this.theme?"mdn-like":"noflo"},themeChanged(){this.htmlEditor&&this.testsEditor&&(this.htmlEditor.setOption("theme",this.getMirrorTheme()),this.testsEditor.setOption("theme",this.getMirrorTheme()))},prepareHtmlEditor(){"noflo-browser"===this.type&&(this.htmlEditor=_()(this.$.html_editor,{lineNumbers:!0,value:this.graph.properties.environment.content||"",language:"htmlmixed",theme:this.getMirrorTheme()}))},prepareTestsEditor(){this.spec&&(this.testsEditor=_()(this.$.tests_editor,{lineNumbers:!0,value:this.spec.code||"",mode:this.getMirrorMode(this.spec.language),theme:this.getMirrorTheme()}))},getMirrorMode:e=>"coffeescript"===e||"javascript"===e||"yaml"===e?e:"c"===e?"text/x-csrc":"c++"===e?"text/x-c++src":"supercollider"===e?"text/x-stsrc":"clike",save(){"function"==typeof ga&&ga("send","event","button","click","saveGraphProperties");const e=JSON.parse(JSON.stringify(this.graph.properties.environment));if(this.htmlEditor&&(this.preview=this.htmlEditor.getValue(),e.content=this.preview),this.testsEditor&&this.spec){const e=this.testsEditor.getValue();e!==this.spec.code&&(this.set("spec.code",e),this.set("spec.changed",!0),this.fire("specschanged",this.spec))}e.type=this.type,this.graph.setProperties({environment:e,description:this.description,icon:this.icon}),this.close()},delete(e){e.preventDefault(),"function"==typeof ga&&ga("send","event","button","click","deleteGraph"),this.fire("delete",this.graph),this.close()},bgClick(e){e.stopPropagation()},close(){Object(i.a)(this).parentNode&&Object(i.a)(Object(i.a)(this).parentNode).removeChild(this)},setView(e){this.view=e.currentTarget.id},listeners:{click:"close"},_computeClass(e){return this.tokenList({selected:"properties"===e})},_computeIf:e=>"noflo-browser"===e,_computeClass2(e){return this.tokenList({hidden:"properties"!==e})},_computeClass3(e){return this.tokenList({hidden:"html"!==e})},_computeClass4(e){return this.tokenList({hidden:"tests"!==e})},_computeDownload:e=>j.a.unnamespace(e.name)+".json",_computeHref(e,t){const n=G.a.getGraphHash(e.properties.id,t);return G.a.hashToString(n)},_computeClass5(e){return this.tokenList({selected:"html"===e})},_computeClass6(e){return this.tokenList({selected:"tests"===e})},tokenList(e){const t=[];return Object.keys(e).forEach(n=>{e[n]&&t.push(n)}),t.join(" ")},getName:e=>j.a.unnamespace(j.a.getName(e))}),Object(o.a)({_template:o.b`
    <style include="noflo-modal-styles">
      p {
        font-size: 13px;
        line-height: 18px;
      }
      p a, label a {
        color: rgb(0, 127, 153);
        text-decoration: none;
      }
      button.delete {
        position: absolute;
        right: 36px;
        border: 0px solid hsla( 0, 98%, 46%, .8) !important;
        color: hsla( 0, 98%, 46%, .8) !important;
      }
    </style>
    <div class="modal-container" on-click="bgClick">
      <h1><span>{{getName(component)}}</span></h1>
      <template is="dom-if" if="{{inGraph.length}}">
      <p>Used as component in
      <template is="dom-repeat" items="{{inGraph}}" as="parent">
        <a href\$="{{_computeHref(parent, project)}}">
          <span>{{getName(parent)}}</span>
        </a>
      </template>
      </p>
      </template>
      <template is="dom-if" if="{{errorText}}">
        <div class="error">{{errorText}}</div>
      </template>
      <form>
        <div class="toolbar">
          <!-- <button on-click="{{send}}">Save</button> -->
          <a on-click="close">Cancel</a>
          <button class="delete" on-click="delete">Delete</button>
        </div>
      </form></div>
`,is:"noflo-component-inspector",properties:{component:{value:null,observer:"componentChanged"},inGraph:{type:Array,value:()=>[]},project:{value:null},errorText:{type:String,value:""}},attached(){o.a.dom(document.getElementById("container")).classList.add("blur"),o.a.dom(this).classList.add("modal-content"),this.inGraph=[],this.project&&this.project.graphs.forEach(e=>{e.nodes.forEach(t=>{t.component!==j.a.unnamespace(this.component.name)&&t.component!==j.a.namespace(this.component.name,this.project.namespace)||this.push("inGraph",e)})})},detached(){o.a.dom(document.getElementById("container")).classList.remove("blur")},componentChanged(){},delete(e){e.preventDefault(),"function"==typeof ga&&ga("send","event","button","click","deleteComponent"),this.fire("delete",this.component),this.close()},bgClick(e){e.stopPropagation()},close(){o.a.dom(this).parentNode&&o.a.dom(o.a.dom(this).parentNode).removeChild(this)},_computeHref(e,t){const n=G.a.getGraphHash(e.properties.id,t);return G.a.hashToString(n)},listeners:{click:"close"},getName:e=>j.a.unnamespace(j.a.getName(e))}),Object(o.a)({_template:o.b`
    <style>
      :host {
        background-color: var(--noflo-ui-background);
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
        color: var(--noflo-ui-text);
        font-size: 10px;
        white-space: nowrap;
      }
      input {
        background-color: var(--noflo-ui-background);
        background-image: none;
        font-family: "SourceCodePro",Helvetica,Arial,sans-serif;
        border: none;
        padding: 0px;
        padding-right: 10px;
        padding-left: 10px;
        color: var(--noflo-ui-text);
        width: 245px;
        height: 36px;
        display: inline;
      }
      button {
        width: 36px;
        height: 36px;
        margin: 0px;
        margin-left: -5px;
        padding: 0px;
        display: inline;
        display: inline;

        font-size: 10px;
        background-color: transparent;
        border: none;
        color: var(--noflo-ui-text);
        text-align: center;
        cursor: pointer;
      }

      :host(.overlay) #breadcrumb {
        width: calc(72px * 4);
        display: block;
      }
      #breadcrumb {
        position: relative;
        overflow: hidden;
        width: 0px;
        height: 71px;
        left: 0px;
        top: 0px;
        z-index: 1;

        /*transition: width 0.3s ease-in-out;*/
        display: none;
        /*box-sizing: border-box;*/

        background-color: var(--noflo-ui-background) !important;
        background-image: radial-gradient(1px at 0px 0px, hsl(210, 50%, 60%) 0.5px, var(--noflo-ui-background) 1px);
        background-size: calc(100% - 1px);
        background-position: 0px;
        border-bottom: 1px var(--noflo-ui-border) solid;

      }
      #breadcrumb noflo-icon.fa-search {
        position: absolute;
        line-height: 72px;
        right: 54px;
        font-size: 15px;
        color: var(--noflo-ui-text-highlight);
        cursor: text;
      }
      #breadcrumb #parentlink {
        line-height: 72px;
        display: inline-block;
        height: 72px;
        font-size: 15px;
        color: var(--noflo-ui-text-highlight);
      }
      #clear,
      #breadcrumb #graphinspector,
      #breadcrumb #componentinspector,
      #breadcrumb #readonly-lock {
        position: absolute;
        right: 9px;
        top: 0px;
        line-height: 72px;
        display: block;
        height: 72px;
        font-size: 15px;
        color: var(--noflo-ui-text-highlight);
      }
      #clear {
        color: var(--noflo-ui-border-highlight);
      }
      #breadcrumb h1 {
        display: inline-block;
        line-height: 72px;
        font-size: 15px;
        margin: 0px;
        padding: 0px;
        overflow: hidden;
        text-overflow: ellipsis;
        width: 156px;
        font-weight: normal;
        padding-left: 18px;
        cursor: pointer;
      }
      :host(.overlay) #searchinput {
        display: none;
      }
      #searchinput {
        font-family: "SourceCodePro",Helvetica,Arial,sans-serif;
        display: block;
        position: absolute;
        top: 0px;
        left: 0px;
        border: none;
        padding: 0px;
        padding-right: 54px;
        padding-left: 18px;
        width: calc(72px * 3 - 1px);
        height: 71px;
        font-size: 12px;
        display: inline;
        background-image: radial-gradient(1px at 0px 0px, hsl(210, 50%, 60%) 0.5px, var(--noflo-ui-background) 1px);
        background-size: calc(100% - 1px);
        background-position: 0px;
        border-bottom: 1px var(--noflo-ui-border) solid;
        border-right: 1px var(--noflo-ui-border) solid;
        border-radius: none;
      }
      #searchinput #speech {
        color: var(--noflo-ui-text-highlight);
      }

      #searchinput.components {
        background-color: var(--noflo-ui-text);
        transition: background-color 0.3s linear;
      }
      #searchinput.components::-webkit-input-placeholder {
        color: hsl(190, 90%, 45%);
        color: var(--noflo-ui-text-highlight);
      }
      #searchinput.processes {
        background-color: hsl(161, 79%, 68%);
        transition: background-color 0.3s linear;
      }
      #searchinput.processes::-webkit-input-placeholder {
        color: hsl(190, 90%, 45%);
      }
    </style>
    <div id="breadcrumb" on-click="focus">
      <template is="dom-if" if="{{_canSearch(component, readonly)}}">
      <noflo-icon class="fa-search" icon="search"></noflo-icon>
      </template>
      <h1 title="Search">
        <template is="dom-if" if="{{_canGoBack(project, graphs, component)}}">
        <button id="parentlink" title="Back" on-click="goBack">
          <noflo-icon icon="angle-left"></noflo-icon>
        </button>
        </template>
        <template is="dom-if" if="{{_isGraph(component, graph)}}">
        <span>{{getName(graph)}}</span>
        </template>
        <template is="dom-if" if="{{_isComponent(component)}}">
        <span>{{getName(component)}}</span>
        </template>
      </h1>
      <template is="dom-if" if="{{_canInspectGraph(component, graph, readonly)}}">
      <button on-click="showGraphInspector" id="graphinspector" title="Graph properties">
        <noflo-icon icon="cog"></noflo-icon>
      </button>
      </template>
      <template is="dom-if" if="{{_canInspectComponent(component, graph, readonly)}}">
      <button on-click="showComponentInspector" id="componentinspector" title="Component properties">
        <noflo-icon icon="cog"></noflo-icon>
      </button>
      </template>
      <template is="dom-if" if="{{_isReadOnly(component, graph, readonly)}}">
      <button title="Read-only" id="readonly-lock">
        <noflo-icon icon="lock"></noflo-icon>
      </button>
      </template>
    </div>
    <input id="searchinput" placeholder="Search components" on-keydown="switchSearch" value="{{search::input}}" type="text" autocapitalize="off" autocorrect="off" x-webkit-speech="">
    <button id="clear" on-click="clearSearch" title="Clear search">
      <noflo-icon icon="times"></noflo-icon>
    </button>
`,is:"noflo-search",properties:{component:{value:null,notify:!0,observer:"componentChanged"},editor:{value:null,notify:!0},graph:{value:null},graphInspector:{value:null},graphs:{type:Array,value:()=>[],notify:!0,observer:"graphsChanged"},menuCard:{value:null},theme:{type:String,value:"dark"},panel:{value:null},parentPath:{type:Array,value:()=>[]},project:{value:null},readonly:{type:Boolean,value:!0,notify:!0,observer:"readonlyChanged"},results:{notify:!0},resultsCard:{value:null},runtimes:{type:Array,value:()=>[]},search:{value:null,observer:"searchChanged"},searchGraphResults:{type:Array,value:()=>[],notify:!0,observer:"searchGraphResultsChanged"},searchLibrary:{type:Boolean,value:!0},searchLibraryResults:{type:Array,value:()=>[],notify:!0,observer:"searchLibraryResultsChanged"}},readonlyChanged(){this.readonly&&this.blur()},componentChanged(){this.component&&this.component.name?this.closeInspectors():this.graphsChanged()},graphsChanged(){this.closeInspectors(),this.blur()},closeInspectors(){this.graphInspector&&(Object(i.a)(this.graphInspector).parentNode&&Object(i.a)(Object(i.a)(this.graphInspector).parentNode).removeChild(this.graphInspector),this.graphInspector=null),this.componentInspector&&(Object(i.a)(this.componentInspector).parentNode&&Object(i.a)(Object(i.a)(this.componentInspector).parentNode).removeChild(this.componentInspector),this.componentInspector=null)},getParentPath(e,t){const n=[];if(!this.project)return n;const o=(e,t)=>t.nodes.filter(t=>t.id===e||(t.component===e||!!this.project&&(t.component===`${this.project.namespace}/${e}`||t.component===`${this.project.id}/${e}`)))[0];return e.forEach((i,r)=>{if(!t&&r>=e.length-1)return;if(0===r)return void n.push(i.properties.id);const a=e[r-1],s=o(i.name,a);s&&n.push(s.id)}),n},libraryResults(e){this.set("searchLibraryResults",[]),this.set("searchLibraryResults",e)},graphResults(e){this.push("searchGraphResults",e)},attached(){Object(i.a)(this).classList.add("gpu"),this.blur()},focus(){this.readonly||this.component&&this.component.name||(Object(i.a)(this).classList.remove("overlay"),this.$.searchinput.focus(),null===this.search&&(this.search=""))},blur(){this.clearResults(),Object(i.a)(this).classList.add("overlay")},toggle(){Object(i.a)(this).classList.contains("overlay")?this.focus():this.blur()},clearResults(){this.set("searchGraphResults",[]),this.set("searchLibraryResults",[])},clearSearch(){this.resultsCard&&(Object(i.a)(Object(i.a)(this.resultsCard).parentNode).removeChild(this.resultsCard),this.resultsCard=null),this.search=null,this.blur()},switchSearch(e){"U+0009"===e.keyIdentifier&&(e.preventDefault(),this.searchLibrary=!this.searchLibrary,this.searchLibrary?(Object(i.a)(this.$.searchinput).classList.add("components"),Object(i.a)(this.$.searchinput).classList.remove("processes"),this.set("$.searchinput.placeholder","Search components")):(Object(i.a)(this.$.searchinput).classList.add("processes"),Object(i.a)(this.$.searchinput).classList.remove("components"),this.set("$.searchinput.placeholder","Search processes")),this.searchChanged()),e.stopPropagation()},searchChanged(){this.clearResults(),this.search&&"function"==typeof ga&&ga("send","event","search","input","newSearch"),this.resultsCard&&(this.set("resultsCard.children.0.search",this.search),this.set("resultsCard.search",this.search));const e=this.searchLibrary?"search:library":"search:graph";this.fire(e,{search:this.search})},searchLibraryResultsChanged(){if(!this.searchLibrary)return;if(this.resultsCard&&"noflo-search-library-results"!==this.resultsCard.type&&(Object(i.a)(Object(i.a)(this.resultsCard).parentNode).removeChild(this.resultsCard),this.resultsCard=null),this.resultsCard||null===this.search)return this.set("resultsCard.children.0.results",[]),void this.set("resultsCard.children.0.results",this.searchLibraryResults);if(0===this.searchLibraryResults.length)return void(this.resultsCard&&(Object(i.a)(Object(i.a)(this.resultsCard).parentNode).removeChild(this.resultsCard),this.resultsCard=null));const e=document.createElement("noflo-search-library-results");e.id="results",e.search=this.search,e.results=this.searchLibraryResults,e.addEventListener("resultclick",()=>{this.clearSearch()}),this.resultsCard=document.createElement("the-card"),this.set("resultsCard.type","noflo-search-library-results"),Object(i.a)(this.resultsCard).appendChild(e),this.resultsCard.addTo(this.panel,!0)},searchGraphResultsChanged(){if(this.searchLibrary)return;if(this.resultsCard&&"noflo-search-graph-results"!==this.resultsCard.type&&(Object(i.a)(Object(i.a)(this.resultsCard).parentNode).removeChild(this.resultsCard),this.resultsCard=null),this.resultsCard||null===this.search)return this.set("resultsCard.children.0.results",[]),void this.set("resultsCard.children.0.results",this.searchGraphResults);if(0===this.searchGraphResults.length)return void(this.resultsCard&&(Object(i.a)(Object(i.a)(this.resultsCard).parentNode).removeChild(this.resultsCard),this.resultsCard=null));const e=document.createElement("noflo-search-graph-results");e.id="results",e.editor=this.editor,e.search=this.search,e.results=this.searchGraphResults,e.addEventListener("resultclick",()=>{this.clearSearch()}),this.resultsCard=document.createElement("the-card"),this.set("resultsCard.type","noflo-search-graph-results"),Object(i.a)(this.resultsCard).appendChild(e),this.resultsCard.addTo(this.panel,!0)},goBack(e){e&&(e.stopPropagation(),e.preventDefault());const t=this.getParentPath(this.graphs,this.component);if(this.project.runtime)return t.unshift(this.project.runtime),t.unshift("runtime"),void this.fire("hash",t);t.unshift(this.project.id),t.unshift("project"),this.fire("hash",t)},showGraphInspector(e){e&&(e.stopPropagation(),e.preventDefault()),0!==this.graphs.length&&(Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length||("function"==typeof ga&&ga("send","event","search","click","graphProperties"),this.graphInspector=document.createElement("noflo-graph-inspector"),this.set("graphInspector.graph",this.graph),this.set("graphInspector.project",this.project),this.set("graphInspector.runtimes",this.runtimes),this.set("graphInspector.theme",this.theme),this.graphInspector.addEventListener("delete",e=>{this.fire("deleteGraph",e.detail)}),this.graphInspector.addEventListener("specschanged",e=>{this.fire("specschanged",e.detail)}),Object(i.a)(document.body).appendChild(this.graphInspector)))},showComponentInspector(e){e&&(e.stopPropagation(),e.preventDefault()),Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length||("function"==typeof ga&&ga("send","event","search","click","componentProperties"),this.componentInspector=document.createElement("noflo-component-inspector"),this.set("componentInspector.component",this.component),this.set("componentInspector.project",this.project),this.componentInspector.addEventListener("delete",e=>{this.fire("deleteComponent",e.detail)}),Object(i.a)(document.body).appendChild(this.componentInspector))},_canSearch:(e,t)=>!(t||e&&e.name),_canGoBack:(e,t,n)=>!!e&&!!(t.length>1||t.length&&n),_isGraph:(e,t)=>t&&(!e||!e.name),_isComponent:e=>e&&e.name,_canInspectGraph:(e,t,n)=>!n&&t&&(!e||!e.name),_canInspectComponent:(e,t,n)=>!n&&!t&&e&&e.name,_isReadOnly:(e,t,n)=>n||e&&e.readonly||t&&t.properties.readonly,getName:e=>j.a.unnamespace(j.a.getName(e))}),Object(o.a)({_template:o.b`
    <style include="noflo-modal-styles">
    </style>
    <div class="modal-container" on-click="bgClick">
      <h1>Create new component</h1>
      <form>
        <div class="modal-content">
        <label>
          Component name
          <input type="text" value="{{name::input}}" placeholder="MyCoolComponent" required="">
        </label>
        <label>
          Component description
          <input type="text" value="{{description::input}}" placeholder="Do something interesting">
        </label>
        <label>
          Language
          <select name="type" value="{{language::input}}">
            <template is="dom-repeat" items="{{languages}}" as="lang">
            <option value="[[lang.id]]" selected\$="[[_languageSelected(lang, language)]]">[[lang.label]]</option>
            </template>
          </select>
        </label>
        <label>
          Icon
          <noflo-icon-selector selected="{{icon}}"></noflo-icon-selector>
        </label>
        </div>
        <div class="toolbar">
          <button on-click="send" class\$="{{_computeClass(canSend)}}">Create</button>
          <a on-click="close">Cancel</a>
        </div>
      </form>
    </div>
`,is:"noflo-new-component",properties:{canSend:{type:Boolean,value:!1},language:{type:String,value:""},type:{type:String,value:"",notify:!0,observer:"typeChanged"},languages:{type:Array,value:()=>[{id:"c",label:"C"},{id:"c++",label:"C++"},{id:"coffeescript",label:"CoffeeScript"},{id:"es2015",label:"JavaScript (modern ES2015)"},{id:"javascript",label:"JavaScript"},{id:"typescript",label:"TypeScript"},{id:"python",label:"Python"},{id:"supercollider",label:"SuperCollider"},{id:"yaml",label:"YAML"}]},name:{type:String,value:"",observer:"nameChanged"},description:{type:String,value:""},icon:{type:String,value:"cog",notify:!0},project:{type:Object,value:()=>({}),notify:!0}},attached(){Object(i.a)(document.getElementById("container")).classList.add("blur"),Object(i.a)(this).classList.add("modal-content")},detached(){Object(i.a)(document.getElementById("container")).classList.remove("blur")},typeChanged(){if(!this.type)return;const e=h.a[this.type];if(!e||!e.componenttemplates)return;const t=this.languages;this.languages=t.filter(t=>!!e.componenttemplates[t.id]),this.languages.length||(this.languages=t),this.language=e.preferredlanguage||this.languages[0].id},nameChanged(){let e=[];this.name&&(this.name=this.name.replace(/[^a-zA-Z0-9]+/g,"_")),this.project&&(e=this.project.components.filter(e=>e.name===this.name),e=e.concat(this.project.graphs.filter(e=>e.name===this.name))),this.name&&this.project&&!e.length?this.canSend=!0:this.canSend=!1},send(e){e&&e.preventDefault(),this.name&&("function"==typeof ga&&ga("send","event","button","click","newComponent"),this.fire("new",{id:`${this.project.id}/${this.name}`,name:this.name,description:this.description,language:this.language,icon:this.icon,project:this.project.id,code:this.getExampleCode(this.language),tests:""}),this.fire("newSpec",{id:`${this.project.id}/${this.name}`,name:this.name,code:this.getExampleSpec(),language:"yaml",project:this.project.id,type:"spec"}),this.close())},bgClick(e){e.stopPropagation()},close(){Object(i.a)(this).parentNode&&Object(i.a)(Object(i.a)(this).parentNode).removeChild(this)},listeners:{click:"close"},_computeClass(e){return this.tokenList({disabled:!e})},_languageSelected:(e,t)=>e.id===t,tokenList(e){const t=[];return Object.keys(e).forEach(n=>{e[n]&&t.push(n)}),t.join(" ")},getExampleCode(e){if(!this.type)return"";const t=h.a[this.type];let n=e;"es6"===n&&(n="es2015");let o="";if(t&&t.componenttemplates&&t.componenttemplates[n]&&(o=t.componenttemplates[n]),o){o=R.a.template(o)({namespace:this.project.namespace||this.project.id,name:this.name,description:this.description,icon:this.icon})}return o},getExampleSpec(){let e="";return e+=`name: ${this.name} component\n`,e+=`topic: ${this.project.namespace||this.project.id}/${this.name}\n`,e+="cases:\n",e+="  -\n",e+="    name: with an input packet\n",e+="    assertion: should send the same packet out\n",e+="    inputs:\n",e+="      in: true\n",e+="    expect:\n",e+="      out:\n",e+="        equals: true\n",e}}),Object(o.a)({_template:o.b`
    <style include="noflo-modal-styles">
      button.delete {
        position: absolute;
        right: 36px;
        border: 0px solid hsla( 0, 98%, 46%, .8) !important;
        color: hsla( 0, 98%, 46%, .8) !important;
      }
    </style>
    <div class="modal-container" on-click="bgClick">
      <h1><span>{{project.name}}</span> settings</h1>
      <div class="modal-content">
      <template is="dom-if" if="{{errorText}}">
        <div class="error">{{errorText}}</div>
      </template>
      <form>
        <label>
          <span>GitHub repository</span>
          <input type="text" value="{{repo::input}}" placeholder="username/my-project" autocapitalize="off" autocorrect="off" required="">
        </label>
        <label>
          <span>Project label</span>
          <input type="text" value="{{name::input}}" placeholder="My Cool Project" required="">
        </label>
        <label>
          <span>Project namespace</span>
          <input type="text" value="{{namespace::input}}" placeholder="my-cool-project" required="">
        </label>
        <label>
          <span>Main graph</span>
          <select name="type" value="{{main::input}}">
            <template is="dom-repeat" items="[[_getMainGraphs(project.graphs)]]" as="graph">
              <option value="{{graph.properties.id}}" selected\$="[[_mainSelected(graph.properties.id, main)]]">{{graph.name}}</option>
            </template>
          </select>
        </label>
        </form>
      </div>
      <div class="toolbar">
        <button on-click="send">Save</button>
        <a on-click="close">Cancel</a>
        <a href="https://github.com/new" target="_blank">New Repository</a>
        <button class="delete" on-click="delete">Delete</button>
      </div>
      </div>
`,is:"noflo-project-inspector",properties:{errorText:{type:String,value:""},main:{type:String,value:""},name:{type:String,value:""},namespace:{type:String,value:""},originalRepo:{type:String,value:""},project:{observer:"projectChanged"},repo:{type:String,value:""}},attached(){Object(i.a)(document.getElementById("container")).classList.add("blur"),Object(i.a)(this).classList.add("modal-content")},detached(){Object(i.a)(document.getElementById("container")).classList.remove("blur")},projectChanged(){this.originalRepo=this.project.repo,this.repo=this.project.repo,this.name=this.project.name,this.namespace=this.project.namespace||this.project.id,this.main=this.project.main},updateProject(){this.fire("updated",{id:this.project.id,name:this.name,namespace:this.namespace,main:this.main,type:this.project.type,repo:this.repo}),this.close()},send(e){e&&e.preventDefault(),"function"==typeof ga&&ga("send","event","button","click","saveProjectProperties"),this.updateProject()},delete(e){e.preventDefault(),"function"==typeof ga&&ga("send","event","button","click","deleteProject"),this.fire("delete",this.project),this.close()},bgClick(e){e.stopPropagation()},close(){Object(i.a)(this).parentNode&&Object(i.a)(Object(i.a)(this).parentNode).removeChild(this)},listeners:{click:"close"},_mainSelected:(e,t)=>e===t,_getMainGraphs:e=>e.filter(e=>e.properties.main)}),Object(o.a)({_template:o.b`
    <style include="noflo-modal-styles">
      table th {
        text-align: left;
      }
    </style>
    <div class="modal-container" on-click="bgClick">
      <h1>Synchronize with <noflo-icon icon="github"></noflo-icon> <span>{{operation.repo}}</span></h1>
      <div class="modal-content">
      <template is="dom-if" if="{{statusText}}">
        <div>{{statusText}}</div>
      </template>
      <form>
        <table>
          <template is="dom-repeat" items="{{files}}" as="file">
          <tr>
            <th>{{file.path}}</th>
            <td>
              <select name="{{file.path}}" on-change="choose">
                <template is="dom-repeat" items="{{file.operations}}" as="op">
                <option value="[[op]]" selected\$="[[_isSelectedOp(file, op)]]">[[_getOperationLabel(op)]]</option>
                </template>
              </select>
            </td>
          </tr>
          </template>
        </table>
        <template is="dom-if" if="{{hasPush}}">
          <label>
            <span>Commit message</span>
            <input type="text" value="{{message::input}}" required="">
          </label>
        </template>
      </form>
      </div>
      <div class="toolbar">
        <button on-click="send" class\$="{{_computeClass(hasOp)}}">Synchronize</button>
        <a on-click="close">Cancel</a>
      </div>
    </div>
`,is:"noflo-project-sync",properties:{files:{type:Array,value:()=>[],notify:!0,observer:"filesChanged"},hasOp:{type:Boolean,value:!0},hasPush:{type:Boolean,value:!1},message:{type:String,value:""},operation:{type:Object,value:()=>({repo:"",push:[],pull:[],conflict:[],noop:[]}),observer:"operationChanged"},statusText:{type:String,value:""}},operationChanged(){this.operation.push.length||this.operation.pull.length||this.operation.conflict.length||(this.statusText="All changes have been synchronized",this.hasOp=!1),this.hasPush=!1,this.operation.conflict.forEach(e=>{this.push("files",{path:e.path,operation:"noop",operations:["push","pull","noop"]})}),this.operation.push.forEach(e=>{this.push("files",{path:e.path,operation:"noop",operations:["push","noop"]})}),this.operation.pull.forEach(e=>{this.push("files",{path:e.path,operation:"pull",operations:["pull","noop"]})}),this.filesChanged()},filesChanged(){let e=!1,t=!1;this.files.forEach(n=>{"push"===n.operation&&(e=!0,t=!0),"pull"===n.operation&&(t=!0)}),this.hasPush=e,this.hasOp=t},attached(){Object(i.a)(document.getElementById("container")).classList.add("blur"),Object(i.a)(this).classList.add("modal-content")},detached(){Object(i.a)(document.getElementById("container")).classList.remove("blur")},send(e){if(e&&e.preventDefault(),this.hasPush&&!this.message)return;const t=this.operation.conflict,n=this.operation.push,o=this.operation.pull;this.set("operation.conflict",[]),this.set("operation.pull",[]),this.set("operation.push",[]);const i=e=>{this.files.forEach(t=>{t.path===e.path&&("push"===t.operation&&this.push("operation.push",e),"pull"===t.operation&&this.push("operation.pull",e))})};t.forEach(i),n.forEach(i),o.forEach(i),this.set("operation.message",this.message),this.fire("sync",this.operation),this.close()},choose(e){let t=null,n=null;this.files.forEach((o,i)=>{o.path===e.currentTarget.name&&(t=i,n=o)}),null!==t&&(this.splice("files",t,1,{id:e.currentTarget.name,path:n.path,operation:e.currentTarget.value,operations:n.operations}),this.filesChanged())},bgClick(e){e.stopPropagation()},close(){Object(i.a)(this).parentNode&&Object(i.a)(Object(i.a)(this).parentNode).removeChild(this)},listeners:{click:"close"},_computeClass(e){return this.tokenList({disabled:!e})},tokenList(e){const t=[];return Object.keys(e).forEach(n=>{e[n]&&t.push(n)}),t.join(" ")},_getOperationLabel:e=>"push"===e?"Push":"pull"===e?"Pull":"noop"===e?"Ignore":e,_isSelectedOp:(e,t)=>t===e.operation}),Object(o.a)({_template:o.b`
    <style>
      :host {
        display: block;
      }
      h2 {
        font-size: 16px;
        line-height: 36px;
        text-transform: none;
        font-weight: normal;
        padding: 0px;
        margin: 0px;
      }
      ul.graphs {
        margin-bottom: 144px;
      }
      ul.graphs li {
        width: 245px;
        height: 70px;
        overflow: hidden;
        float: left;
        text-align: center;
        background-color: hsl(190, 90%, 45%);
        color: black;
        border-radius: 3px;
        margin-right: 0px;
        margin-left: 0px;
        margin-bottom: 5px;
        position: relative;
        cursor: pointer;
      }
      ul.graphs li.add {
        background-color: var(--noflo-ui-text);
        color: var(--noflo-ui-background);
        cursor: default;
      }
      ul.graphs li the-graph-thumb {
        display: block;
        position: absolute;
        left: 100px;
        top: -20px;
      }
      ul.graphs li noflo-icon {
        display: block;
        position: absolute;
        right: 17px;
        top: 17px;
        font-size: 36px;
        color: black;
      }
      ul.graphs li button {
        display: block;
        position: absolute;
        right: 17px;
        top: 17px;
        background-color: transparent;
        color: hsl(190, 100%, 30%);
        border: 1px solid hsl(190, 100%, 30%);
        font-size: 13px;
        border-radius: 3px;
        font-family: "SourceCodePro",Helvetica,Arial,sans-serif;
        height: 36px;
        padding-left: 13px;
        padding-right: 13px;
      }
      ul.graphs li h2 {
        position: absolute;
        top: 18px;
        left: 17px;
        width: 75px;
        text-transform: none;
        font-size: 13px;
        text-align: left;
        white-space: nowrap;
      }
      header h1 {
        text-align: center;
        height: 36px;
        line-height: 36px;
        font-size: 17px;
        white-space: nowrap;
        max-width: 100%;
        overflow-x: hidden;
        text-overflow: ellipsis;
        padding-left: 36px;
        box-sizing: border-box;
      }
      main ul {
        margin: 0px;
        padding: 0px;
        list-style: none;
      }
      main ul li {
        line-height: 36px;
        min-height: 36px;
      }
      main ul li a {
        color: var(--noflo-ui-text);
        text-decoration: none;
        display: block;
        cursor: pointer;
      }
      main ul li a i {
        float: right;
        line-height: 36px;
        color: var(--noflo-ui-border);
        margin-right: 4px;
      }
      main {
        overflow-y: scroll;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        max-height: calc(100% - 72px - 43px);
        padding-left: 36px;
      }
      main.repo {
        max-height: calc(100% - 72px * 2 - 43px);
      }
      main::-webkit-scrollbar {
        display: none;
      }
      footer {
        background-color: transparent;
        display: block;
        position: absolute;
        bottom: 43px;
        left: 0px;
        padding-left: 36px;
        width: 325px;
        padding-right: 36px;
        box-sizing: border-box;
        overflow: hidden;
        height: 72;
        transition: background-color 0.3s ease-in-out;
      }
      the-panel {
        background-color: var(--noflo-ui-background) !important;
        transition: left 0.3s ease-in-out, bottom 0.3s ease-in-out, right 0.3s ease-in-out, top 0.3s ease-in-out, width 0.1s ease-in-out;
        position: fixed;
        border: 0px solid var(--noflo-ui-border);
        box-sizing: border-box;
        top: 0px;
        border-right-width: 1px;
        height: 100vh;
        padding-right: 36px;
        z-index: 3;
      }
      the-panel:before {
        font-family: FontAwesomeSVG;
        content: '\\f03a';
        color: var(--noflo-ui-border-highlight);
        position: absolute;
        text-align: center;
        right: 0px;
        width: 36px;
        top: 50%;
        top: calc(50% - 7px);
        font-size: 17px;
        opacity: 0.25;
        transition: opacity 0.3s ease-in-out;
      }
      the-panel:not([open]):before {
        cursor: e-resize;
        opacity: 1;
      }
      #account[open] footer {
        background-color: hsl(190, 90%, 45%);
      }
      footer h1 {
        font-size: 17px;
        line-height: 36px;
        text-align: center;
        margin: 0;

        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }
      footer button {
        background-color: white;
        color: hsl(190, 90%, 45%);
        border: none;
        font-size: 13px;
        border-radius: 3px;
        font-family: "SourceCodePro",Helvetica,Arial,sans-serif;
        height: 36px;
        padding-left: 17px;
        padding-right: 17px;
        line-height: 36px;
        display: block;
        margin-left: auto;
        margin-right: auto;
        cursor: pointer;
      }
      footer button:disabled {
        opacity: 0.5;
      }
    </style>
    <the-panel id="account" edge="left" size="324" handle="36">
      <header slot="header">
        <template is="dom-if" if="{{project}}">
        <h1>{{project.name}}</h1>
        </template>
        <template is="dom-if" if="{{!project}}">
        <h1>Live mode</h1>
        </template>
      </header>
      <main class\$="{{_computeClass(project)}}">
        <ul>
          <li>
            <a on-click="openHome">
              <noflo-icon icon="home"></noflo-icon>
              Home
            </a>
          </li>
          <template is="dom-if" if="{{project}}">
          <li>
            <a on-click="openSettings">
              <noflo-icon icon="cog"></noflo-icon>
              Settings
            </a>
          </li>
          </template>
        </ul>
        <template is="dom-if" if="{{project}}">
        <template is="dom-if" if="{{_canGraph(project, runtime)}}">
        <h2>Graphs</h2>
        <ul class="graphs">
          <li class="add">
            <h2>New graph</h2>
            <button on-click="newGraph">Create</button>
          </li>
          <template is="dom-repeat" items="{{project.graphs}}" as="graph">
          <li on-click="openGraph" data-id\$="{{graph.properties.id}}">
            <the-graph-thumb graph="{{graph}}" width="200" height="120"></the-graph-thumb>
            <h2>{{getName(graph)}}</h2>
          </li>
          </template>
        </ul>
        </template>
        <template is="dom-if" if="{{_canComponent(project, runtime)}}">
        <h2>Components</h2>
        <ul class="graphs">
          <li class="add">
            <h2>New component</h2>
            <button on-click="newComponent">Create</button>
          </li>
          <template is="dom-repeat" items="{{project.components}}" as="component">
          <li on-click="openComponent" data-id\$="{{component.name}}">
            <h2>{{getName(component)}}</h2>
            <template is="dom-if" if="{{_computeIf(component)}}">
            <noflo-icon icon="coffee"></noflo-icon>
            </template>
            <template is="dom-if" if="{{_computeIf2(component)}}">
            <noflo-icon icon="code"></noflo-icon>
            </template>
          </li>
          </template>
        </ul>
        </template>
        </template>
      </main>
      <template is="dom-if" if="{{project.repo}}">
      <footer slot="footer">
        <h1 title="{{project.repo}}">
          <noflo-icon icon="github"></noflo-icon>
          <span>{{project.repo}}</span>
        </h1>
        <button on-click="synchronize">
          <noflo-icon icon="cloud-upload"></noflo-icon>
          <span>Synchronize</span>
        </button>
      </footer>
      </template>
    </the-panel>
`,is:"noflo-project",properties:{component:{value:null,notify:!0},graph:{value:null,notify:!0},project:{value:null,notify:!0},runtime:{value:null,observer:"runtimeChanged"},runtimes:{type:Array,value:()=>[]}},runtimeChanged(){this.runtime&&this.runtime.definition&&this.runtime.definition.capabilities&&(this.canComponent=-1!==this.runtime.definition.capabilities.indexOf("component:setsource"))},newGraph(e){if(e.preventDefault(),Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length)return;const t=document.createElement("noflo-new-graph");t.project=this.project,t.runtimes=this.runtimes,this.graph&&this.graph.properties.environment?t.type=this.graph.properties.environment.type||this.project.type:t.type=this.project.type,Object(i.a)(document.body).appendChild(t),t.addEventListener("new",e=>{const t=e.detail;this.push("project.graphs",t),this.fire("newgraph",t),this.gotoGraph(t.properties.id)})},newComponent(e){if(!this.canComponent)return;if(e.preventDefault(),Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length)return;const t=document.createElement("noflo-new-component");t.project=this.project,this.graph&&this.graph.properties.environment?t.type=this.graph.properties.environment.type||this.project.type:t.type=this.project.type,Object(i.a)(document.body).appendChild(t),t.addEventListener("new",e=>{const t=e.detail;this.push("project.components",t),this.fire("newcomponent",t),this.gotoComponent(t.name)}),t.addEventListener("newSpec",e=>{const t=e.detail;this.push("project.specs",t),this.fire("newspec",t)})},openHome(e){e.preventDefault(),Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length||(this.$.account.toggleOpen(!1),this.fire("hash",[]))},openSettings(e){if(e.preventDefault(),Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length)return;"function"==typeof ga&&ga("send","event","button","click","projectProperties");const t=document.createElement("noflo-project-inspector");t.project=this.project,Object(i.a)(document.body).appendChild(t),t.addEventListener("updated",e=>{Object.keys(e.detail).forEach(t=>{this.set("project."+t,e.detail[t])}),this.project.repo&&(this.set("project.gist",null),this.project.branch||this.set("project.branch","master")),this.project.graphs.forEach(e=>{if(e.properties.id===this.project.main){const{type:t}=e.properties.environment;this.set("project.mainGraph",e),this.set("project.type",t)}}),this.fire("changed",this.project)}),t.addEventListener("delete",e=>{this.$.account.toggleOpen(!1),this.fire("deleteProject",e.detail)})},gotoGraph(e){this.$.account.toggleOpen(!1),this.fire("hash",G.a.getGraphHash(e,this.project)),this.$.account.toggleOpen(!1)},gotoComponent(e){this.$.account.toggleOpen(!1),this.fire("hash",G.a.getComponentHash(e,this.project)),this.$.account.toggleOpen(!1)},openGraph(e){e.preventDefault(),Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length||("function"==typeof ga&&ga("send","event","button","click","openGraph"),this.gotoGraph(e.currentTarget.getAttribute("data-id")))},openComponent(e){e.preventDefault(),Object(i.a)(document).querySelectorAll(".modal-content:not(polymer-element)").length||("function"==typeof ga&&ga("send","event","button","click","openComponent"),this.gotoComponent(e.currentTarget.getAttribute("data-id")))},synchronize(e){e.preventDefault(),e.stopPropagation(),"function"==typeof ga&&ga("send","event","button","click","syncGithub"),this.fire("sync",{repo:this.project.repo,project:this.project}),this.$.account.toggleOpen(!1)},confirm(e){const t=document.createElement("noflo-project-sync");t.operation=e,Object(i.a)(document.body).appendChild(t),t.addEventListener("sync",e=>{"function"==typeof ga&&(e.detail.push.length&&ga("send","event","button","click","pushGithub"),e.detail.pull.length&&ga("send","event","button","click","pullGithub")),this.fire("syncDecision",e.detail)})},_computeClass:e=>e&&e.repo?"repo":"norepo",_computeIf:e=>"coffeescript"===e.language,_computeIf2:e=>"coffeescript"!==e.language,_canGraph(){return!(this.runtime&&this.runtime.definition&&this.runtime.definition.capabilities)||-1!==this.runtime.definition.capabilities.indexOf("protocol:graph")},_canComponent(){return!(this.runtime&&this.runtime.definition&&this.runtime.definition.capabilities)||-1!==this.runtime.definition.capabilities.indexOf("component:setsource")},getName:e=>j.a.unnamespace(j.a.getName(e))});var $=n(182);function F(e){return Object(E.unnamespace)(e).split("_")[0]}var V=function(e){var t,n,o,i,r=e.row;r.subgraph&&(t=N.a.createElement("span",{className:"subgraph"},r.subgraph.map((function(e){return F(e)})).join(" / "))),r.src&&(n=N.a.createElement("span",{className:"source"},N.a.createElement("span",{className:"node-id"},F(r.src.node)))),r.tgt&&(i=N.a.createElement("span",{className:"target"},N.a.createElement("span",{className:"node-id"},F(r.tgt.node))));var a="connection";return r.edge&&r.edge.metadata&&void 0!==r.edge.metadata.route&&(a="connection route".concat(r.edge.metadata.route)),o=N.a.createElement("span",{className:a},"➞"),r.src&&r.tgt?o=N.a.createElement("span",{className:a},N.a.createElement("span",{className:"port-id"},r.src.port),N.a.createElement("span",{class:"arrow"},"➞"),N.a.createElement("span",{className:"port-id"},r.tgt.port)):r.src?o=N.a.createElement("span",{className:a},N.a.createElement("span",{className:"port-id"},r.src.port),N.a.createElement("span",{class:"arrow"},"➞")):r.tgt&&(o=N.a.createElement("span",{className:a},N.a.createElement("span",{class:"arrow"},"➞"),N.a.createElement("span",{className:"port-id"},r.tgt.port))),N.a.createElement("div",{className:"edge"},t,n,o,i)};function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e){var t=e.row,n=e.multiLine,o=void 0!==n&&n;if("openBracket"===t.type||"closeBracket"===t.type)return N.a.createElement("span",{className:t.type,title:t.type},t.group);switch(U(t.data)){case"number":case"string":return t.data;default:return o?JSON.stringify(t.data,null,2):JSON.stringify(t.data)}}function q(e){var t=e.row;e.index,e.isExpanded,e.clearSizeCache;return N.a.createElement("div",{className:"packet-details"},N.a.createElement("dl",null,N.a.createElement("dt",null,"Payload"),N.a.createElement("dd",{className:"packet-data"},N.a.createElement(H,{row:t,multiLine:!0}))))}var Q=function(e){var t=e.packets,n=e.width,o=Math.min(n/4,238),i=[{key:"id",header:"Edge",width:o,content:V},{key:"data",header:"Data",width:n-o-36,content:H},{key:"",width:36,expander:!0}];return N.a.createElement($.a,{data:t,columns:i,subComponent:q,tableHeight:288})};Object(o.a)({_template:o.b`
    <style>
      :host {
        -webkit-user-select: none;      /* disable cut copy paste */
        -webkit-touch-callout: none;    /* disable callout, image save panel */
        user-select: none;
        touch-callout: none;

        cursor: ew-resize;

        display: inline-block;
        text-align: center;
      }
    </style>
`,is:"number-scrubber",properties:{distance:{type:Number,value:5,notify:!0},max:{value:()=>1/0,notify:!0},min:{value:()=>-1/0,notify:!0},mod:{type:Number,value:0,notify:!0},precision:{type:Number,value:1e6},scrubend:{value:null},scrubstart:{value:null},startValue:{type:Number,value:0},step:{type:Number,value:1,notify:!0},value:{value(){},notify:!0}},onTrackStart(){document.body.style.webkitUserSelect="none",document.body.style.MozUserSelect="none",document.body.style.msUserSelect="none",document.body.style.userSelect="none",document.body.style.cursor="ew-resize",this.fire("scrubstart"),void 0!==this.value&&(this.value=parseFloat(this.value),this.startValue=this.value)},onTrack(e){if(void 0===this.value)return;let t=e.dx;this.distance>1&&(t=Math.round(t/this.distance)),1!==this.step&&(this.step>1?t=Math.round(t/this.step)*this.step:this.step>0&&(t*=this.step));let n=this.startValue+t;0!==this.mod&&(n%=this.mod),Number.isFinite(this.min)&&(n=Math.max(n,this.min)),Number.isFinite(this.max)&&(n=Math.min(n,this.max)),this.precision>1&&(n=Math.round(n*this.precision)/this.precision),this.value!==n&&(this.value=n,this.fire("scrub",this.value))},onTrackEnd(){document.body.style.webkitUserSelect="auto",document.body.style.MozUserSelect="auto",document.body.style.msUserSelect="auto",document.body.style.userSelect="auto",document.body.style.cursor="auto",this.fire("scrubend")},hostAttributes:{"touch-action":"none"},listeners:{trackstart:"onTrackStart",track:"onTrack",trackend:"onTrackEnd"}});n(180);Object(o.a)({_template:o.b`
    <style include="the-card-styles">
      .editable-title {
        line-height: 36px;
        margin: 0px;
        padding: 0px;
        background-color: var(--noflo-ui-background-shadow);
        color: var(--noflo-ui-text);
        border: 0px;
        display: block;
        font-family: "SourceCodePro",Helvetica,Arial,sans-serif;
        font-size: 12px;
        font-weight: 700;
      }
      .ports {
        margin-bottom: 8px;
      }
      ul.ports li {
        display: block;
        position: relative;
        clear: left;
      }
      ul.ports li label span {
        float: left;
        clear: left;
        font-size: 12px;
        padding-top: 0;
        width: 87px;
        line-height: 36px;
        overflow: hidden;
      }

      ul.ports li p {
        margin: 0px;
        padding: 0px;
        font-size: 10px;
        margin-left: 87px;
        margin-bottom: 3px;
        line-height: 13px;
        max-height: 26px;
        overflow: hidden;
        color: hsl(189, 50%, 80%);
      }

      /* Hide spinners */
      input[type=number]::-webkit-inner-spin-button,
      input[type=number]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
      input[type=number] {
        -moz-appearance:textfield;
      }

      ul.ports li button {
        padding: 8px;
        height: 19px;
        width: 19px;
      }
      ul.ports li label button {
        background-color: hsl(184, 50%, 11%);
        color: hsl(184, 40%, 89%);
        display: block;
        padding: 8px;
        height: 36px;
        width: 36px;
      }
      ul.ports li label button:active {
        color: white;
      }
      ul.ports li label i {
        margin:0;
      }
      ul.ports li span.route {
        /* TODO: route colors */
        background-color: white;
        float: none;
        display: inline-block;
        width: 125px;
        height: 1px;
        padding: 0;
      }
      ul.ports .remove-value {
        background-color: transparent !important;
        opacity: .3;
        border: none !important;
        position: absolute;
        top: 0px;
        right: 0px;
        line-height: 36px;
        height: 36px;
        width: 36px;
        text-align: center;
        padding: 0px;
        font-size: 12px;
      }
      ul.ports li span.route0  { background-color: hsl(  0,100%,100%); }
      ul.ports li span.route1  { background-color: hsl(  0, 98%, 46%); }
      ul.ports li span.route2  { background-color: hsl( 35, 98%, 46%); }
      ul.ports li span.route3  { background-color: hsl( 60, 98%, 46%); }
      ul.ports li span.route4  { background-color: hsl(135, 98%, 46%); }
      ul.ports li span.route5  { background-color: hsl(160, 98%, 46%); }
      ul.ports li span.route6  { background-color: hsl(185, 98%, 46%); }
      ul.ports li span.route7  { background-color: hsl(210, 98%, 46%); }
      ul.ports li span.route8  { background-color: hsl(285, 98%, 46%); }
      ul.ports li span.route9  { background-color: hsl(310, 98%, 46%); }
      ul.ports li span.route10 { background-color: hsl(335, 98%, 46%); }


      ul.ports li input {
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        width: 178px;
        height: 36px;
        border: none;
        font-family: "SourceCodePro",Helvetica,Arial,sans-serif;
        font-size: 10px;
        padding: 9px 26px 9px 36px;
        margin: 0px;
      }
      ul.ports li input[type="checkbox"] {
        height: 18px;
        margin-top: 9px;
        margin-left: 36px;
        width: 18px;
      }
      ul.ports li input[type="checkbox"]:before {
        display: block;
        content: '';
        width: 177px;
        height: 36px;
        margin-top: -9px;
        margin-left: -36px;
        background-color: hsla( 0, 0%, 20%, .2);
        color: hsl( 0, 0%, 75%);
        border-left: 1px solid hsla( 0, 0%, 75%, 0.1);
      }

      ul.ports li select {
        height: 18px;
        margin-top: 9px;
        margin-left: 36px;
        max-width: 110px;
      }

      ul.ports li  input,
      ul.ports li  button  {
        background-color: hsla(  0,  0%, 30%, 0.35);
        color:             hsl(  0,  0%, 90%);
      }

      ul.ports li:nth-child(even) input,
      ul.ports li:nth-child(even) button {
        background-color: hsla(210, 100%, 20%, .1);
      }
      ul.ports li:nth-child(odd) input,
      ul.ports li:nth-child(odd) button {
        background-color: hsla(190, 100%, 20%, .1);
      }

      ul.ports li.route0  input,
      ul.ports li.route0  button  {
        background-color: hsla(  0,  0%, 30%, 0.35);
      }
      ul.ports li.route1  input,
      ul.ports li.route1  button  {
        background-color: hsla(  0, 98%, 20%, 0.35);
      }
      ul.ports li.route2  input,
      ul.ports li.route2  button  {
        background-color: hsla( 35, 98%, 20%, 0.35);
      }
      ul.ports li.route3  input,
      ul.ports li.route3  button  {
        background-color: hsla( 60, 98%, 20%, 0.35);
      }
      ul.ports li.route4  input,
      ul.ports li.route4  button  {
        background-color: hsla(135, 98%, 20%, 0.35);
      }
      ul.ports li.route5  input,
      ul.ports li.route5  button  {
        background-color: hsla(160, 98%, 20%, 0.35);
      }
      ul.ports li.route6  input,
      ul.ports li.route6  button  {
        background-color: hsla(185, 98%, 20%, 0.35);
      }
      ul.ports li.route7  input,
      ul.ports li.route7  button  {
        background-color: hsla(210, 98%, 20%, 0.35);
      }
      ul.ports li.route8  input,
      ul.ports li.route8  button  {
        background-color: hsla(285, 98%, 20%, 0.35);
      }
      ul.ports li.route9  input,
      ul.ports li.route9  button  {
        background-color: hsla(310, 98%, 20%, 0.35);
      }
      ul.ports li.route10 input,
      ul.ports li.route10 button  {
        background-color: hsla(335, 98%, 20%, 0.35);
      }


      ul.ports li.error input {
        background-color: rgb(121, 18, 18);
        border: 1px solid red;
      }


      ul.ports li         label > span { color: hsl(  0,  0%, 75%);}
      ul.ports li.route0  label > span { color: hsl(  0,  0%,100%);}
      ul.ports li.route1  label > span { color: hsl(  0, 98%, 46%);}
      ul.ports li.route2  label > span { color: hsl( 35, 98%, 46%);}
      ul.ports li.route3  label > span { color: hsl( 60, 98%, 46%);}
      ul.ports li.route4  label > span { color: hsl(135, 98%, 46%);}
      ul.ports li.route5  label > span { color: hsl(160, 98%, 46%);}
      ul.ports li.route6  label > span { color: hsl(185, 98%, 46%);}
      ul.ports li.route7  label > span { color: hsl(210, 98%, 46%);}
      ul.ports li.route8  label > span { color: hsl(285, 98%, 46%);}
      ul.ports li.route9  label > span { color: hsl(310, 98%, 46%);}
      ul.ports li.route10 label > span { color: hsl(335, 98%, 46%);}



      ul.ports  li        input,
      ul.ports  li        button {
        border-left: 1px solid hsla(  0,  0%, 75%, 0.5);
      }
      ul.ports  li.route0 input,
      ul.ports  li.route0 button {
        border-left: 1px solid hsla(  0,  0%,100%, 0.5);
      }
      ul.ports  li.route1 input,
      ul.ports  li.route1 button {
        border-left: 1px solid hsla(  0, 98%, 46%, 0.5);
      }
      ul.ports  li.route2 input,
      ul.ports  li.route2 button {
        border-left: 1px solid hsla( 35, 98%, 46%, 0.5);
      }
      ul.ports  li.route3 input,
      ul.ports  li.route3 button {
        border-left: 1px solid hsla( 60, 98%, 46%, 0.5);
      }
      ul.ports  li.route4 input,
      ul.ports  li.route4 button {
        border-left: 1px solid hsla(135, 98%, 46%, 0.5);
      }
      ul.ports  li.route5 input,
      ul.ports  li.route5 button {
        border-left: 1px solid hsla(160, 98%, 46%, 0.5);
      }
      ul.ports  li.route6 input,
      ul.ports  li.route6 button {
        border-left: 1px solid hsla(185, 98%, 46%, 0.5);
      }
      ul.ports  li.route7 input,
      ul.ports  li.route7 button {
        border-left: 1px solid hsla(210, 98%, 46%, 0.5);
      }
      ul.ports  li.route8 input,
      ul.ports  li.route8 button {
        border-left: 1px solid hsla(285, 98%, 46%, 0.5);
      }
      ul.ports  li.route9 input,
      ul.ports  li.route9 button {
        border-left: 1px solid hsla(310, 98%, 46%, 0.5);
      }
      ul.ports li.route10 input,
      ul.ports li.route10 button {
        border-left: 1px solid hsla(335, 98%, 46%, 0.5);
      }

      number-scrubber,
      ul.ports li label span:before {
        display: inline;
        line-height: 36px;
        font-size: 10px;
        float: right;
        position: absolute;
        left: 86px;
        text-transform: uppercase;
        opacity: 0.5;
        width: 36px;
        text-align: center;
      }

      number-scrubber {
        z-index: 5;
        height: 36px;
      }

      ul.ports li.port-type-color label span:before,
      ul.ports li.port-type-int label span:before,
      ul.ports li.port-type-number label span:before {
        content: '#';
      }
      ul.ports li.port-type-array label span:before {
        content: '[]';
      }
      ul.ports li.port-type-object label span:before {
        content: '{}';
      }
      ul.ports li.port-type-string label span:before {
        content: '"';
      }
      ul.ports li.port-type-all label span:before {
        content: '*';
      }

      section.errors header {
        display: flex;
        justify-content: space-between;
      }
      section.errors header h2 {
        font-size: 10px;
        font-weight: normal;
        line-height: 36px;
        margin-bottom: 0px;
        padding-bottom: 0px;
        position: static;
        text-align: left;
        color: var(--noflo-ui-text);
      }
      section.errors ul.toolbar {
        display: inline-block;
      }

      ul#errorEvents {
        max-height: 140px;
        overflow-x: hidden;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: thin;
        clear: left;
      }
      ul#errorEvents li {
        font-size: 10px;
        line-height: 14px;
        margin-bottom: 0px;
        color: hsl(185,100%,75%);
        max-height: 56px;
        overflow: hidden;
        margin-bottom: 2px;
        padding-bottom: 2px;
        border-bottom: 1px solid hsla(190, 30%, 2%, 0.4);
      }
    </style>
    <header>
      <input type="text" on-keydown="checkUpdateLabel" on-blur="updateLabel" class="editable-title" value="{{label}}">
      <template is="dom-if" if="{{_computeIf(node)}}">
        <h2>{{node.component}}</h2>
      </template>
    </header>
    <ul class="ports">
      <template is="dom-repeat" items="{{inports}}" as="port">
        <li class\$="{{_computeClass(port)}}">
          <label><span title="{{port.name}}">{{port.label}}</span>

            <template is="dom-if" if="{{_computeIf2(port)}}">
              <button data-name\$="{{port.name}}" on-click="sendBang">
                <noflo-icon icon="bolt"></noflo-icon>
              </button>
            </template>
            <template is="dom-if" if="{{_computeIf3(port)}}">
              <input type="checkbox" data-name\$="{{port.name}}" checked="{{port.value}}" on-change="updateValue" data-type\$="{{port.type}}">
            </template>
            <template is="dom-if" if="{{port.values}}">
              <select data-name\$="{{port.name}}" on-change="updateValue" value="{{port.value::input}}" data-type\$="{{port.type}}">
                <option></option>
                <template is="dom-repeat" items="{{port.values}}" as="value">
                  <option value="[[value]]" selected\$="{{_computeSelected(port, value)}}">{{value}}</option>
                </template>
              </select>
            </template>
            <template is="dom-if" if="{{_computeIf4(port)}}">
              <number-scrubber data-name\$="{{port.name}}" value="{{port.value}}" step="1" data-type="int" on-scrubstart="scrubStart" on-scrub="updateValue" on-scrubend="scrubEnd">#</number-scrubber>
              <input type="text" data-type="int" data-name\$="{{port.name}}" value="{{port.value::input}}" on-change="updateValue" on-keydown="checkEnter">
            </template>
            <template is="dom-if" if="{{_computeIf5(port)}}">
              <number-scrubber data-name\$="{{port.name}}" value="{{port.value}}" step="0.01" data-type="number" on-scrubstart="scrubStart" on-scrub="updateValue" on-scrubend="scrubEnd">#</number-scrubber>
              <input type="text" data-type="number" data-name\$="{{port.name}}" value="{{port.value::input}}" on-change="updateValue" on-keydown="checkEnter">
            </template>
            <template is="dom-if" if="{{_computeIf6(port)}}">
              <input type="{{port.inputType}}" data-name\$="{{port.name}}" value="{{port.value::input}}" autocapitalize="off" autocorrect="off" on-keydown="checkEnter" on-change="updateValue" data-type\$="{{port.type}}">
            </template>
            <template is="dom-if" if="{{_computeIf7(port)}}">
              <input type="text" data-name\$="{{port.name}}" data-type="string" on-change="updateValue">
              <input type="file" data-name\$="{{port.name}}" on-change="updateValue" data-type\$="{{port.type}}">
            </template>
            <template is="dom-if" if="{{_computeIf8(port)}}">
              <button class="remove-value" on-click="removeValue" data-port\$="{{port.name}}" title="Clear data">
                <noflo-icon icon="ban"></noflo-icon>
              </button>
            </template>

          </label>
          <template is="dom-if" if="{{port.description}}">
          <p>{{port.description}}</p>
          </template>
        </li>
      </template>
    </ul>
    <template is="dom-if" if="[[errorLog.length]]">
    <section class="errors">
      <header>
        <h2>Errors</h2>
        <ul class="toolbar">
          <li>
            <button id="clear" on-click="clearErrors" class="blue-button" title="Clear Error Log">
              <noflo-icon icon="ban"></noflo-icon>
            </button>
          </li>
        </ul>
      </header>
      <ul id="errorEvents">
        <template is="dom-repeat" items="[[errorLog]]" as="event">
          <li>{{ event.payload.error }}</li>
        </template>
      </ul>
    </section></template>
`,is:"noflo-node-inspector",properties:{component:{value:null,notify:!0,observer:"componentChanged"},errorLog:{value:()=>[],notify:!0},graph:{value:null,notify:!0,observer:"graphChanged"},inports:{type:Array,value:()=>[]},label:{type:String,value:""},lastErrorLog:{type:Number,value:0},node:{value:null,notify:!0,observer:"nodeChanged"},scrubbing:{type:Boolean,value:!1},showErrorLogs:{type:Number,value:20}},attached(){Object(i.a)(this).classList.add("the-card-content")},nodeChanged(){this.node&&(this.updatePorts(),this.label=this.node.metadata.label)},componentChanged(){this.component&&this.updatePorts()},graphChanged(){this.graph&&this.updatePorts()},checkUpdateLabel(e){13===e.keyCode&&(e.preventDefault(),this.updateLabel(e))},updateLabel(e){const t=e.currentTarget.value;if(t===this.node.metadata.label)return;this.graph.startTransaction("rename");let n=t;if(n!==this.node.id){for(;this.graph.getNode(n);){let e=60466176;e=Math.floor(Math.random()*e),n=`${t}_${e.toString(36)}`}this.graph.renameNode(this.node.id,n)}this.graph.setNodeMetadata(n,{label:t}),this.graph.endTransaction("rename")},getPortValue(e){let t;return this.graph.initializers.forEach(n=>{n.to.node===this.node.id&&n.to.port===e&&(t=n.from.data)}),t},getPortConnection(e){let t=!1,n="X";return Object.keys(this.graph.inports).forEach(o=>{const i=this.graph.inports[o];i.process===this.node.id&&i.port===e&&(t=!0,n=2)}),this.graph.edges.forEach(o=>{o.to.node===this.node.id&&o.to.port===e&&(t=!0,n=o.metadata.route||0)}),{connected:t,route:n}},portToInput(e){const t=this.getPortValue(e.name),n=this.getPortConnection(e.name),o={name:e.name,label:e.name.replace(/(.*)\/(.*)(_.*)\.(.*)/,"$2.$4"),class:"",type:e.type,description:e.description,inputType:e.type,value:t,values:e.values,route:n.route};switch(e.type){case"object":case"array":o.value=JSON.stringify(t),o.inputType="text";break;case"int":o.inputType="number";break;case"all":default:o.inputType="text"}return o},inputToPort(e){switch(e.getAttribute("data-type")){case"object":case"array":try{return JSON.parse(e.value)}catch(t){return e.value}case"boolean":return e.checked;case"number":return parseFloat(e.value);case"int":return parseInt(e.value,10);case"date":return new Date(e.value);case"uri":return t=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.readAsDataURL(e.files[0])};default:return e.value}},updatePorts(){this.set("inports",[]),this.component&&this.graph&&this.component.inports.forEach(e=>{const t=this.portToInput(e);this.push("inports",t)})},checkEnter(e){13===e.keyCode&&(e.preventDefault(),this.updateValue(e))},updateValue(e){e.preventDefault();const t=this.inputToPort(e.currentTarget),n=e.currentTarget.getAttribute("data-name");let o;if(this.inports.forEach(e=>{e.name===n&&(o=e)}),"string"!==o.type&&""===e.currentTarget.value)return void this.removeValue(e);const r=()=>{this.scrubbing||this.graph.startTransaction("iipchange"),this.graph.removeInitial(this.node.id,n),this.graph.addInitial(t,this.node.id,n),this.scrubbing||(this.graph.endTransaction("iipchange"),this.updatePorts())};((e,t)=>{switch(e){case"number":case"int":return""!==t&&!Number.isNaN(t);case"object":return t instanceof Object;case"array":return t instanceof Array;case"date":return t instanceof Date;default:return!0}})(o.type,t)?("function"==typeof t?t(r):r(),Object(i.a)(Object(i.a)(Object(i.a)(e.currentTarget).parentNode).parentNode).classList.remove("error")):Object(i.a)(Object(i.a)(Object(i.a)(e.currentTarget).parentNode).parentNode).classList.add("error")},scrubStart(e){null===e.currentTarget.value&&(e.currentTarget.value=0)},scrubEnd(){},removeValue(e){e.preventDefault();let t=e.currentTarget.getAttribute("data-port");t||(t=e.currentTarget.getAttribute("data-name")),this.graph.removeInitial(this.node.id,t),Object(i.a)(Object(i.a)(Object(i.a)(e.currentTarget).parentNode).parentNode).classList.remove("error"),this.updatePorts()},sendBang(e){e.preventDefault();const t=e.currentTarget.getAttribute("data-name");this.graph.startTransaction("bang"),this.graph.removeInitial(this.node.id,t),this.graph.addInitial(!0,this.node.id,t),this.graph.removeInitial(this.node.id,t),this.graph.endTransaction("bang")},clearErrors(){this.fire("clear:runtimeevents",{id:this.node.id,type:"processerror"})},_computeIf:e=>!e||e.label!==e.component,_computeClass:e=>`route route${e.route} ${e.class} port-type-${e.type}`,_computeIf2:e=>"bang"===e.type,_computeIf3:e=>"boolean"===e.type,_computeIf4:e=>"int"===e.type&&!e.values,_computeIf5:e=>"number"===e.type&&!e.values,_computeIf6:e=>"bang"!==e.type&&"boolean"!==e.type&&"int"!==e.type&&"number"!==e.type&&"uri"!==e.type&&!e.values,_computeIf7:e=>"uri"===e.type,_computeIf8:e=>"bang"!==e.type&&void 0!==e.value,_computeSelected:(e,t)=>e.value===t}),Object(o.a)({_template:o.b`
    <style include="the-card-styles">
      :host {
        display: block;
        background-color: var(--noflo-ui-background) !important;
        color: var(--noflo-ui-text);
        background-image: radial-gradient(1px at 0px 0px, hsl(210, 50%, 60%) 0.5px, hsla(0, 0%, 0%, 0) 1px);
        background-size: calc(100% - 1px) 100%;
        background-position: 0px;
      }
      h1 {
        font-size:15px;
      }
      ul.toolbar2right {
        right: 0px !important;
      }
      ul.routes {
        margin: 0;
        margin-left: 0px;
        margin-right: 0px;
        padding-top: 10px;
      }
      ul.routes li {
        display: inline-block;
        position: relative;
        float: left;
        margin: 0px;
        height: 26px;
      }
      ul.routes li button:hover {
        opacity: 1;
      }
      ul.routes li button {
        opacity: 0.7;
        display: block;
        padding: 0px;
        margin: 0;
        width: 100%;
        height: 100%;
        -webkit-box-sizing: border-box;
        -mox-box-sizing: border-box;
        box-sizing: border-box;
        border: none;
      }

      .routes button {
        width: 25px !important;
        height: 20px !important;
        background-color: hsla(  0, 98%, 100%, .8);
        border: 1px solid hsl(  0, 98%, 46%);
      }
      .routes button.route0  {
        background-color: hsla(  0, 98%, 100%, .8);
        border-color:      hsl(  0, 98%, 46%);
      }
      .routes button.route1  {
        background-color: hsla(  0, 98%, 46%, .8);
        border-color:      hsl(  0, 98%, 46%);
      }
      .routes button.route2  {
        background-color: hsla( 35, 98%, 46%, .8);
        border-color:      hsl( 35, 98%, 46%);
      }
      .routes button.route3  {
        background-color: hsla( 60, 98%, 46%, .8);
        border-color:      hsl( 60, 98%, 46%);
      }
      .routes button.route4  {
        background-color: hsla(135, 98%, 46%, .8);
        border-color:      hsl(135, 98%, 46%);
      }
      .routes button.route5  {
        background-color: hsla(160, 98%, 46%, .8);
        border-color:      hsl(160, 98%, 46%);
      }
      .routes button.route6  {
        background-color: hsla(185, 98%, 46%, .8);
        border-color:      hsl(185, 98%, 46%);
      }
      .routes button.route7  {
        background-color: hsla(210, 98%, 46%, .8);
        border-color:      hsl(210, 98%, 46%);
      }
      .routes button.route8  {
        background-color: hsla(285, 98%, 46%, .8);
        border-color:      hsl(285, 98%, 46%);
      }
      .routes button.route9  {
        background-color: hsla(310, 98%, 46%, .8);
        border-color:      hsl(310, 98%, 46%);
      }
      .routes button.route10 {
        background-color: hsla(335, 98%, 46%, .8);
        border-color:      hsl(335, 98%, 46%);
      }

      .routes  button.route0:hover  { background-color: hsla(  0, 98%, 100%, 1); }
      .routes  button.route1:hover  { background-color: hsla(  0, 98%, 46%, 1); }
      .routes  button.route2:hover  { background-color: hsla( 35, 98%, 46%, 1); }
      .routes  button.route3:hover  { background-color: hsla( 60, 98%, 46%, 1); }
      .routes  button.route4:hover  { background-color: hsla(135, 98%, 46%, 1); }
      .routes  button.route5:hover  { background-color: hsla(160, 98%, 46%, 1); }
      .routes  button.route6:hover  { background-color: hsla(185, 98%, 46%, 1); }
      .routes  button.route7:hover  { background-color: hsla(210, 98%, 46%, 1); }
      .routes  button.route8:hover  { background-color: hsla(285, 98%, 46%, 1); }
      .routes  button.route9:hover  { background-color: hsla(310, 98%, 46%, 1); }
      .routes button.route10:hover  { background-color: hsla(335, 98%, 46%, 1); }
    </style>
    <header>
      <h1 slot="header" class="clear" on-click="clear"><span>{{ edges.length}}</span> <template is="dom-if" if="{{_computeIf(edges)}}">Edges</template><template is="dom-if" if="{{_computeIf2(edges)}}">Edge</template></h1>
    </header>
    <ul class="toolbar toolbar2right">
      <template is="dom-if" if="{{secure}}">
        <li>
          <button class="blue-button" on-click="setUnsecure" title="Set as visible">
            <noflo-icon icon="lock"></noflo-icon>&nbsp;Secure
          </button>
        </li>
      </template>
      <template is="dom-if" if="{{!secure}}">
        <li>
          <button class="blue-button" on-click="setSecure" title="Set as hidden">
            <noflo-icon icon="unlock"></noflo-icon>&nbsp;Visible
          </button>
        </li>
      </template>
    </ul>
    <ul class="routes">
      <template is="dom-repeat" items="{{routes}}" as="route">
        <li><button name="{{route}}" on-click="setRoute" class\$="{{_computeClass(route)}}"></button></li>
      </template>
    </ul>
`,is:"noflo-edge-menu",properties:{edges:{type:Array,value:()=>[],notify:!0,observer:"edgesChanged"},graph:{value:null},routes:{type:Array,value:()=>[0,1,2,3,4,5,6,7,9,10]},secure:{type:Boolean,value:!1}},attached(){Object(i.a)(this).classList.add("the-card-content"),Object(i.a)(this).classList.add("sticky-head")},edgesChanged(){if(this.edges.length){this.secure=!0;for(let e=0;e<this.edges.length;e+=1)if(!this.edges[e].metadata.secure)return void(this.secure=!1)}},clear(e){let t;for(e.preventDefault();this.edges.length;)t=this.pop("edges"),t.selected=!1},remove(e){for(e.preventDefault();this.edges.length;){const e=this.pop("edges");Object(i.a)(e).parentNode&&Object(i.a)(Object(i.a)(e).parentNode).removeChild(e)}},setRoute(e){e.preventDefault();const t=parseInt(e.currentTarget.getAttribute("name"),10);this.graph.startTransaction("changeroute"),this.edges.forEach(e=>{this.graph.setEdgeMetadata(e.from.node,e.from.port,e.to.node,e.to.port,{route:t})}),this.graph.endTransaction("changeroute")},setSecure(e){e.preventDefault(),this.toggleSecure(!0)},setUnsecure(e){e.preventDefault(),this.toggleSecure(!1)},toggleSecure(e){this.graph.startTransaction("changesecure"),this.edges.forEach(t=>{const n=t.metadata;n.secure=e,this.graph.setEdgeMetadata(t.from.node,t.from.port,t.to.node,t.to.port,n)}),this.graph.endTransaction("changesecure"),this.secure=e},_computeIf:e=>e.length>1,_computeIf2:e=>1===e.length,_computeClass:e=>"route"+e}),Object(o.a)({_template:o.b`
    <style>
      :host {
        display: block;
      }
      the-panel {
        background-color: var(--noflo-ui-background) !important;
        transition: left 0.3s ease-in-out, bottom 0.3s ease-in-out, right 0.3s ease-in-out, top 0.3s ease-in-out, width 0.1s ease-in-out;
        position: fixed;
        border: 0px solid var(--noflo-ui-border);
        box-sizing: border-box;
        padding-left: 7px;
        padding-right: 7px;
        bottom: 0px;
        border-top-width: 1px;
        height: 100vh;
        padding-top: 36px;
        z-index: 3;
      }
      the-panel:before {
        font-family: FontAwesomeSVG;
        content: '\\f16c';
        color: var(--noflo-ui-border-highlight);
        position: absolute;
        text-align: center;
        top: 0px;
        height: 36px;
        line-height: 36px;
        left: 50%;
        left: calc(50% - 7px);
        font-size: 17px;
        opacity: 0.25;
        transition: opacity 0.3s ease-in-out;
      }
      the-panel:not([open]):before {
        opacity: 1;
        cursor: n-resize;
      }
      the-panel#fixed main {
        height: 288px;
      }
      the-panel#fixed main .react-fluid-table .cell {
        user-select: text;
        -webkit-user-select: text;
      }
      the-panel#fixed main .react-fluid-table .cell,
      the-panel#fixed main .react-fluid-table .header-cell {
        box-sizing: border-box;
        display: flex;
        padding: 7px;
      }
      the-panel#fixed main .react-fluid-table-container {
        will-change: height;
      }
      the-panel#fixed main .sticky-header {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        z-index: 1;
      }
      the-panel#fixed main .row-wrapper {
        display: nline-block;
      }
      the-panel#fixed main .react-fluid-table-header {
        display: flex;
        border-bottom: 1px solid var(--noflo-ui-border);
        background-color: var(--noflo-ui-background);
        z-index: 2;
      }
      the-panel#fixed main .header-cell {
        align-items: baseline;
      }
      the-panel#fixed main .header-cell-text {
        overflow: hidden;
        text-overflow: ellipsis;
        font-size: 10px;
        font-weight: bold;
        line-height: 14px;
        color: var(--noflo-ui-text-highlight);
      }
      the-panel#fixed main .header-cell-arrow {
        width: 0;
        height: 0;
        margin-left: 4px;
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
      }
      the-panel#fixed main .header-cell-arrow.asc {
      }
      the-panel#fixed main .header-cell-arrow.desc {
      }
      the-panel#fixed main .react-fluid-table-row {
      }
      the-panel#fixed main .react-fluid-table-row .hidden {
        display: none;
      }
      the-panel#fixed main .react-fluid-table-row .packet-details {
        color: var(--noflo-ui-text);
        background-color: var(--noflo-ui-background);
        box-shadow: var(--noflo-ui-background) 0px 0px 2px;
        border: 1px solid var(--noflo-ui-text-highlight);
        /* This is a workaround for react-fluid-table not recalculating on expand, most likely due to Shadow DOM */
        position: absolute;
        z-index: 1;
        right: 7px;
        width: max(60%, 288px);
        height: 144px;
        overflow-y: auto;
      }
      the-panel#fixed main .react-fluid-table-row .packet-details dl {
        margin: 0px;
        padding: 7px;
        font-size: 10px;
      }
      the-panel#fixed main .react-fluid-table-row .packet-details dt {
        font-weight: bold;
      }
      the-panel#fixed main .react-fluid-table-row .packet-details dd {
        margin: 0px;
      }
      the-panel#fixed main .react-fluid-table-row .packet-details dd.packet-data {
        white-space: pre-wrap;
        user-select: text;
        -webkit-user-select: text;
      }
      the-panel#fixed main .row-container {
        display: flex;
      }
      the-panel#fixed main .cell {
        align-items: center;
        position: relative;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        font-size: 10px;
        line-height: 14px;
        color: var(--noflo-ui-text);
      }
      the-panel#fixed main .cell .openBracket {
        color: var(--noflo-ui-border);
      }
      the-panel#fixed main .cell .openBracket:before {
        display: inline;
        content: '<';
      }
      the-panel#fixed main .cell .openBracket:after {
        display: inline;
        content: '>';
      }
      the-panel#fixed main .cell .closeBracket {
        color: var(--noflo-ui-border);
      }
      the-panel#fixed main .cell .closeBracket:before {
        display: inline;
        content: '</';
      }
      the-panel#fixed main .cell .closeBracket:after {
        display: inline;
        content: '>';
      }
      the-panel#fixed main .cell .expander {
        cursor: pointer;
        height: 1em;
        width: 1em;
        color: var(--noflo-ui-text-highlight);
      }
      the-panel#fixed main .cell .edge {
        font-weight: bold;
      }
      the-panel#fixed main .cell .edge .subgraph {
        margin-right: 7px;
        color: var(--noflo-ui-border);
      }
      the-panel#fixed main .cell .edge .source span {
        margin-right: 7px;
      }
      the-panel#fixed main .cell .edge .target span {
        margin-left: 7px;
      }
      the-panel#fixed main .cell .edge .port-id {
        text-transform: uppercase;
      }
      the-panel#fixed main .cell .edge .arrow {
        margin-left: 7px;
        margin-right: 7px;
      }
      the-panel#fixed main .cell .edge .connection {
        color: var(--noflo-ui-text-highlight);
      }
      the-panel#fixed main .cell .edge .route0 { color: #fff; }
      the-panel#fixed main .cell .edge .route1 { color: hsl(  0,  98%, 46%); }
      the-panel#fixed main .cell .edge .route2 { color: hsl( 35,  98%, 46%); }
      the-panel#fixed main .cell .edge .route3 { color: hsl( 60,  98%, 46%); }
      the-panel#fixed main .cell .edge .route4 { color: hsl(135,  98%, 46%); }
      the-panel#fixed main .cell .edge .route5 { color: hsl(160,  98%, 46%); }
      the-panel#fixed main .cell .edge .route6 { color: hsl(185,  98%, 46%); }
      the-panel#fixed main .cell .edge .route7 { color: hsl(210,  98%, 46%); }
      the-panel#fixed main .cell .edge .route8 { color: hsl(285,  98%, 46%); }
      the-panel#fixed main .cell .edge .route9 { color: hsl(310,  98%, 46%); }
      the-panel#fixed main .cell .edge .route10 { color: hsl(335,  98%, 46%); }
    </style>
    <the-panel id="fixed" edge="bottom" size="324" handle="36" open={{showPackets}}>
      <main id="fixedmain">
      </main>
    </the-panel>
  `,is:"noflo-packets",properties:{currentgraph:{value:null},edges:{type:Array,value:()=>[],observer:"edgesChanged"},editor:{value:null},events:{type:Array,value:()=>[],observer:"eventsChanged"},packets:{type:Array,value:()=>[],observer:"packetsChanged"},nodeInspectors:{type:Object,value:()=>({})},nodes:{type:Array,value:()=>[],observer:"nodesChanged"},panel:{value:null},showPackets:{type:Boolean,value:!1,notify:!0},width:{type:Number,value:800,notify:!0,observer:"widthChanged"},readonly:{notify:!0}},attached(){window.addEventListener("keyup",e=>{27===e.keyCode&&this.clearSelection()}),this.frameRequest=null},clearSelection(){let e,t;for(;this.edges.length;)e=this.pop("edges"),e.selected=!1;for(;this.nodes.length;)t=this.pop("nodes"),t.selected=!1},edgesChanged(e,t){this.edges.length?this.showEdgeCards():this.hideEdgeCards(),this.updatePacketInspector(),e.length&&!t.length&&this.packets.length&&(this.showPackets=!0)},widthChanged(){this.updatePacketInspector()},eventsChanged(){this.editor&&this.editor.clearErrorNodes(),Object.keys(this.nodeInspectors).forEach(e=>{this.nodeInspectors[e].inspector.errorLog=[]}),this.events&&this.events.forEach(e=>{"processerror"===e.type&&e.payload.id&&(this.editor&&this.editor.addErrorNode(e.payload.id),this.nodeInspectors[e.payload.id]&&this.nodeInspectors[e.payload.id].inspector.push("errorLog",e))})},genId(e,t){let n;n=e?`${e.node} ${e.port.toUpperCase()}`:"DATA";return`${n} -> ${`${t.port.toUpperCase()} ${t.node}`}`},genEdgeId(e){return this.genId(e.from,e.to)},showEdgeCards(){if(this.edgeMenu)this.readonly?(Object(i.a)(Object(i.a)(this.edgeMenu).parentNode).removeChild(this.edgeMenu),this.edgeMenu=null):this.set("edgeMenu.dialog.edges",this.edges);else if(!this.readonly){const e=document.createElement("noflo-edge-menu");e.edges=this.edges,e.graph=this.currentgraph,this.edgeMenu=document.createElement("the-card"),this.set("edgeMenu.type","edge-menu"),this.set("edgeMenu.dialog",e),Object(i.a)(this.edgeMenu).appendChild(e),this.edgeMenu.addTo(this.panel)}},packetsChanged(e,t){this.updatePacketInspector(),!e||!e.length||t&&t.length||(this.showPackets=!0),e&&e.length||!t||!t.length||(this.showPackets=!1)},updatePacketInspector(){this.frameRequest||(this.frameRequest=requestAnimationFrame(()=>{this.frameRequest=null;const e=this.currentgraph?this.currentgraph.edges.map(e=>this.genEdgeId(e)):[],t=this.edges.map(e=>this.genEdgeId(e)),n=this.packets.map((t,n)=>{const o=this.genId(t.src,t.tgt);let i;return this.currentgraph&&-1!==e.indexOf(o)&&(i=this.currentgraph.edges[e.indexOf(o)]),{...t,rowId:""+(n+1),id:o,edge:i}}).filter(e=>!t.length||-1!==t.indexOf(e.id)),o=this.shadowRoot.getElementById("fixedmain");C.a.render(Q({packets:n,width:o.offsetWidth}),o)}))},hideEdgeCards(){this.edgeMenu&&(Object(i.a)(Object(i.a)(this.edgeMenu).parentNode).removeChild(this.edgeMenu),this.edgeMenu=null)},nodesChanged(){this.nodes.length?this.showNodeCards():this.hideNodeCards()},showNodeCards(){let e;this.nodes.forEach(e=>{const{id:t}=e;if(this.nodeInspectors[t])return;if(this.readonly)return;const n=document.createElement("noflo-node-inspector");n.node=e,n.component=this.editor.getComponent(e.component),n.graph=this.currentgraph,this.events&&(n.errorLog=this.events.filter(e=>"processerror"===e.type&&e.payload.id===t)),this.nodeInspectors[t]=document.createElement("the-card"),this.nodeInspectors[t].type="node-inspector",this.nodeInspectors[t].inspector=n,Object(i.a)(this.nodeInspectors[t]).appendChild(n),this.nodeInspectors[t].addTo(this.panel)}),Object.keys(this.nodeInspectors).forEach(t=>{e=!1,this.nodes.forEach(n=>{n.id===t&&(e=!0)}),e||(Object(i.a)(Object(i.a)(this.nodeInspectors[t]).parentNode).removeChild(this.nodeInspectors[t]),delete this.nodeInspectors[t])})},hideNodeCards(){Object.keys(this.nodeInspectors).forEach(e=>{Object(i.a)(Object(i.a)(this.nodeInspectors[e]).parentNode).removeChild(this.nodeInspectors[e]),delete this.nodeInspectors[e]})}}),Object(o.a)({_template:o.b`
    <style>
      :host {
        display: block;
        text-align: center;
        background-color: hsl(35, 98%, 46%);
        color: white;
        border-bottom: 1px black solid;
        padding: 18px;
      }
      :host(.error) {
        background-color: hsl(0, 98%, 46%);
      }
      a {
        color: hsl(0, 98%, 46%);
        background-color: white;
        display: inline-block;
        padding: 9px;
        text-decoration: none;
        font-size: 12px;
        border-radius: 3px;
      }

      /* /deep/ animations don't work: https://github.com/Polymer/polymer/issues/141#issuecomment-31887427 */
      /* only animate when on-screen */
      .fa-spin {
        -webkit-animation: none !important;
        animation: none !important;
      }
      :host(.show) .fa-spin {
        -webkit-animation: fa-spin 2s infinite linear !important;
        animation: fa-spin 2s infinite linear !important;
      }
      @-webkit-keyframes fa-spin {
        0% {
          -webkit-transform: rotate(0deg);
          transform: rotate(0deg);
        }
        100% {
          -webkit-transform: rotate(359deg);
          transform: rotate(359deg);
        }
      }
      @keyframes fa-spin {
        0% {
          -webkit-transform: rotate(0deg);
          transform: rotate(0deg);
        }
        100% {
          -webkit-transform: rotate(359deg);
          transform: rotate(359deg);
        }
      }
    </style>
    <template is="dom-if" if="{{isError}}">
      <noflo-icon icon="warning"></noflo-icon>
    </template>
    <template is="dom-if" if="{{_computeIf(isError, offerHTTPS)}}">
      <noflo-icon icon="spinner" class="fa-spin"></noflo-icon>
    </template>
    <template is="dom-if" if="{{offerHTTPS}}">
      <noflo-icon icon="lock"></noflo-icon>
      This app is available securely at <a href="https://app.flowhub.io/">https://app.flowhub.io/</a> - <a href="https://docs.flowhub.io/article/75-security-with-https-and-wss">about</a>
    </template>
    <slot>
    <span>{{message}}</span>
    <template is="dom-if" if="{{isError}}">
      <a href="#" class="button">go home</a>
    </template>
  </slot>
`,is:"noflo-alert",properties:{isError:{type:Boolean,value:!1,notify:!0,observer:"isErrorChanged"},message:{type:String,value:"",notify:!0},offerHTTPS:{type:Boolean,value:!1,notify:!0}},isErrorChanged(){this.isError?Object(i.a)(this).classList.add("error"):Object(i.a)(this).classList.remove("error")},_computeIf:(e,t)=>!e&&!t});var Z=n(183),W=n.n(Z),Y=n(106),J={insert:"head",singleton:!1};W()(Y.a,J),Y.a.locals;Object(o.a)({_template:o.b`
    <style>
      /*
       * z-indexes:
       *
       * Modal dialogs: 5
       * Main screen: 4
       * Panels: 3
       * Context cards & runtime controls: 2
       * Workspace chrome: 1
       * Workspace: 0
       */
      :host {
        display: block;
      }

      noflo-main {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        overflow-y: scroll;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        z-index: 4;
      }
      the-graph-editor {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
      }
      noflo-component-editor {
        position: fixed;
        top: 0;
        left: 36px;
        height: 100vh;
        right: 36px;
        z-index: 0;
      }
      noflo-search {
        position: fixed;
        top: 0px;
        left: 36px;
        width: 288px;
        height: 72px;
        z-index: 2;
      }
      noflo-runtime {
        position: fixed;
        top: 0px;
        right: 0px;
        width: 288px;
        height: 72px;
        z-index: 3;
      }
      noflo-journal {
        position: fixed;
        bottom: 0px;
        right: 36px;
        width: 288px;
        z-index: 3;
      }

      #alert {
        box-sizing: border-box;
        position: fixed;
        top: -144px;
        left: 0;
        right: 0;
        z-index: 10;
        max-height: 144px;
        overflow: hidden;
        transition: top 0.3s ease-in-out;
      }
      #alert.show {
        top: 0;
      }
      #asproject::before {
        content: ' ';
        position: absolute;
        border: 2px solid hsl(185, 98%, 46%);
        border-radius: 6px;
        top: -6px;
        bottom: -6px;
        left: -6px;
        right: -6px;
      }
      #asproject:hover {
        background-color: black;
        color: hsl(185, 98%, 46%);
      }
      #asproject {
        font-family: "SourceCodePro",Helvetica,Arial,sans-serif;
        position: fixed;
        box-sizing: border-box;
        left: 50%;
        transform: translateX(-50%);
        z-index: 9;
        background-color: hsla(185, 98%, 46%, .8);
        border: 1px solid hsl(185, 98%, 46%);
        color: black;
        top: 36px;
        height: 36px;
        border-radius: 3px;
        padding: 8px;
        cursor: pointer;
        transition: color 0.3s ease, background-color 0.3s ease, opacity 5.0s ease-in;
        visibility: hidden;
        opacity: 0;
      }
    </style>
    <noflo-main id="main" theme="[[theme]]" runtimes="{{ctx.runtimes}}" projects="{{ctx.projects}}" user="{{ctx.user}}" remote-projects="{{ctx.remoteProjects}}"></noflo-main>
    <the-graph-editor id="grapheditor" theme="[[theme]]" width="{{width}}" height="{{height}}" graph="{{ctx.graph}}" icons="[[ctx.icons]]"></the-graph-editor>
    <noflo-library id="library" search="{{ctx.search}}" project="{{ctx.project}}" graphs="{{ctx.graphs}}"></noflo-library>
    <noflo-context id="context" nodes="{{ctx.nodes}}" edges="{{ctx.edges}}" runtime="{{ctx.runtime}}" project="{{ctx.project}}" graphs="{{ctx.graphs}}" runtimes="{{ctx.runtimes}}" events="[[ctx.events]]"></noflo-context>
    <noflo-runtime id="runtime" runtime="{{ctx.runtime}}" runtimes="{{ctx.compatible}}" graph="{{ctx.graph}}" component="{{ctx.component}}"></noflo-runtime>
    <noflo-journal id="journal" db="{{ctx.db}}" theme="[[theme]]" graph="{{ctx.graph}}" component="{{ctx.component}}"></noflo-journal>
    <noflo-component-editor id="componenteditor" theme="[[theme]]" width="{{width}}" height="{{height}}" runtime="{{ctx.runtime}}" project="{{ctx.project}}" component="{{ctx.component}}"></noflo-component-editor>
    <noflo-search id="search" theme="[[theme]]" runtimes="{{ctx.runtimes}}" project="{{ctx.project}}" graph="{{ctx.graph}}" component="{{ctx.component}}" graphs="{{ctx.graphs}}"></noflo-search>
    <noflo-project id="project" runtimes="{{ctx.runtimes}}" graph="{{ctx.graph}}" project="{{ctx.project}}" component="{{ctx.component}}" runtime="{{ctx.runtime}}"></noflo-project>
    <noflo-packets id="packets" edges="[[ctx.edges]]" nodes="[[ctx.nodes]]" currentgraph="[[ctx.graph]]" packets="[[ctx.packets]]" events="[[ctx.events]]" width="[[width]]"></noflo-packets>
    <noflo-alert id="alert" on-click="hideAlert"></noflo-alert>
`,is:"noflo-ui",properties:{ctx:{type:Object,value:()=>({db:null,search:null,graph:null,component:null,graphs:[],project:null,projects:[],runtime:null,runtimes:[],compatibleRuntimes:[],packets:[],edges:[],nodes:[]})},theme:{type:String,value:"dark",notify:!0,observer:"themeChanged"},dontAutoHideAlert:{type:Boolean,value:!1},height:{value:()=>window.innerHeight,notify:!0},width:{value:()=>window.innerWidth,notify:!0}},clearContextFirst:["graphs","runtimes","projects","edges","nodes","compatibleRuntimes","remoteProjects"],emitEvent(e,t){this.fire(e,t)},ready(){this.$.main.addEventListener("userUpdated",e=>{this.emitEvent("user:update",e.detail)}),this.$.main.addEventListener("logout",()=>{this.emitEvent("user:logout",!0)}),this.$.main.addEventListener("login",()=>{this.emitEvent("user:login",{url:window.location.href,scopes:[]})}),this.$.main.addEventListener("relogin",e=>{this.emitEvent("user:login",{url:window.location.href,scopes:[e.detail]})}),this.$.main.addEventListener("fetchRemote",e=>{this.emitEvent("flowhub:projects:fetch",e.detail)}),this.$.main.addEventListener("downloadProject",e=>{this.emitEvent("application:sethash",["github",e.detail.org,e.detail.repo,"tree",e.detail.branch])}),this.$.main.addEventListener("fetchRuntimes",e=>{this.emitEvent("flowhub:runtimes:fetch",e.detail)}),this.$.main.addEventListener("newgraph",e=>{this.emitEvent("storage:save:graph",e.detail),this.ctx.runtime&&this.ctx.runtime.definition&&this.ctx.runtime.definition.id&&this.emitEvent("runtime:sendGraph",{runtime:this.ctx.runtime.definition.id,graph:e.detail,project:this.ctx.project})}),this.$.main.addEventListener("newruntime",e=>{this.emitEvent("flowhub:runtimes:register",e.detail)}),this.$.main.addEventListener("newproject",e=>{this.emitEvent("storage:save:project",e.detail)}),this.$.main.addEventListener("hash",e=>{this.emitEvent("application:sethash",e.detail)}),this.$.main.addEventListener("openProject",e=>{this.openProject(e.detail)}),this.$.context.addEventListener("newsubgraph",e=>{this.ctx.runtime&&this.ctx.runtime.definition&&this.ctx.runtime.definition.id&&this.emitEvent("runtime:sendSubgraph",{...e.detail,runtime:this.ctx.runtime.definition.id})}),this.$.context.addEventListener("clear:runtimeevents",e=>{if(!this.ctx.runtime||!this.ctx.runtime.definition||!this.ctx.runtime.definition.id)return;const t=e.detail;t.runtime=this.ctx.runtime.definition.id,this.ctx.graph&&!t.all&&(t.graph=this.ctx.graph.name||this.ctx.graph.properties.id),delete t.all,this.emitEvent("runtime:clearevents",t)}),this.$.context.addEventListener("clear:runtimepackets",e=>{if(!this.ctx.runtime||!this.ctx.runtime.definition||!this.ctx.runtime.definition.id)return;const t=e.detail;t.runtime=this.ctx.runtime.definition.id,this.ctx.graph&&(t.graph=this.ctx.graph.name||this.ctx.graph.properties.id),this.emitEvent("runtime:clearpackets",t)}),this.$.runtime.addEventListener("switchRuntime",e=>{this.emitEvent("application:recreatestate",e.detail)}),this.$.runtime.addEventListener("changed",e=>{this.emitEvent("storage:save:runtime",e.detail)}),this.$.runtime.addEventListener("start",e=>{this.emitEvent("runtime:start",{runtime:e.detail.runtime,graph:e.detail.graph,project:this.ctx.project})}),this.$.runtime.addEventListener("stop",e=>{this.emitEvent("runtime:stop",{runtime:e.detail.runtime,graph:e.detail.graph,project:this.ctx.project})}),this.$.runtime.addEventListener("reconnect",e=>{this.emitEvent("runtime:reconnect",e.detail)}),this.$.grapheditor.addEventListener("edges",e=>{this.emitEvent("context:edges",e.detail)}),this.$.grapheditor.addEventListener("nodes",e=>{this.emitEvent("context:nodes",e.detail)}),this.$.grapheditor.addEventListener("changed",e=>{const t=e;t.detail.properties.changed=!0,this.emitEvent("storage:save:graph",t.detail)}),this.$.grapheditor.addEventListener("graphChanges",e=>{this.ctx.runtime&&this.ctx.runtime.definition&&this.ctx.runtime.definition.id&&(this.emitEvent("runtime:sendGraphChanges",{runtime:this.ctx.runtime.definition.id,graph:this.ctx.graph,changes:e.detail}),this.triggerTests())}),this.$.project.addEventListener("changed",e=>{this.emitEvent("storage:save:project",e.detail)}),this.$.project.addEventListener("newgraph",e=>{this.emitEvent("storage:save:graph",e.detail),this.ctx.runtime&&this.ctx.runtime.definition&&this.ctx.runtime.definition.id&&this.emitEvent("runtime:sendGraph",{runtime:this.ctx.runtime.definition.id,graph:e.detail,project:this.ctx.project})}),this.$.project.addEventListener("newcomponent",e=>{this.emitEvent("storage:save:component",e.detail),this.ctx.runtime&&this.ctx.runtime.definition&&this.ctx.runtime.definition.id&&this.emitEvent("runtime:sendComponent",{runtime:this.ctx.runtime.definition.id,component:e.detail})}),this.$.project.addEventListener("newspec",e=>{this.emitEvent("storage:save:spec",e.detail)}),this.$.project.addEventListener("sync",e=>{this.emitEvent("github:sync:prepare",e.detail)}),this.$.project.addEventListener("syncDecision",e=>{this.emitEvent("github:sync:synchronize",e.detail)}),this.$.project.addEventListener("deleteProject",e=>{this.emitEvent("application:sethash",[]),e.detail.graphs.forEach(e=>{this.emitEvent("storage:delete:graph",e)}),e.detail.components.forEach(e=>{this.emitEvent("storage:delete:component",e)}),e.detail.specs.forEach(e=>{this.emitEvent("storage:delete:spec",e)}),this.emitEvent("storage:delete:project",e.detail)}),this.$.project.addEventListener("hash",e=>{this.emitEvent("application:sethash",e.detail)}),this.$.main.addEventListener("deleteProject",e=>{this.emitEvent("application:sethash",[]),e.detail.graphs.forEach(e=>{this.emitEvent("storage:delete:graph",e)}),e.detail.components.forEach(e=>{this.emitEvent("storage:delete:component",e)}),e.detail.specs.forEach(e=>{this.emitEvent("storage:delete:spec",e)}),this.emitEvent("storage:delete:project",e.detail)}),this.$.main.addEventListener("deleteRuntime",e=>{this.emitEvent("flowhub:runtimes:remove",e.detail)}),this.$.main.addEventListener("deleteRepo",e=>{this.emitEvent("flowhub:projects:remove",e.detail),this.ctx.remoteProjects&&this.splice("ctx.remoteProjects",this.ctx.remoteProjects.indexOf(e.detail),1)}),this.$.componenteditor.addEventListener("changed",e=>{this.emitEvent("storage:save:component",e.detail),this.ctx.runtime&&this.ctx.runtime.definition&&this.ctx.runtime.definition.id&&(this.emitEvent("runtime:sendComponent",{runtime:this.ctx.runtime.definition.id,component:e.detail}),this.triggerTests())}),this.$.componenteditor.addEventListener("specschanged",e=>{this.emitEvent("storage:save:spec",e.detail),this.emitEvent("runtime:sendComponent",{runtime:this.ctx.runtime.definition.id,component:this.ctx.component}),this.triggerTests()}),this.$.search.addEventListener("search:library",e=>{this.emitEvent("context:search_library",e.detail)}),this.$.search.addEventListener("search:graph",e=>{this.emitEvent("context:search_graph",e.detail)}),this.$.search.addEventListener("hash",e=>{this.emitEvent("application:sethash",e.detail)}),this.$.library.addEventListener("result",e=>{this.emitEvent("context:search_library_result",{searchLibraryResult:e.detail})}),this.$.search.addEventListener("deleteGraph",e=>{const{project:t}=this.ctx;this.emitEvent("storage:delete:graph",e.detail),t&&-1!==t.graphs.indexOf(e.detail)&&this.splice("ctx.project.graphs",t.graphs.indexOf(e.detail),1),t.graphs.length||t.components.length?this.openProject(t):(this.emitEvent("storage:delete:project",t),this.emitEvent("application:sethash",[]))}),this.$.search.addEventListener("deleteComponent",e=>{const{project:t}=this.ctx;if(!t||!t.components)return;const n=e.detail,o=t.components.indexOf(n);-1!==o&&this.splice("ctx.project.components",o,1),this.emitEvent("storage:delete:component",n),t.graphs.length||t.components.length?this.openProject(t):(this.emitEvent("storage:delete:project",t),this.emitEvent("application:sethash",[]))}),this.$.search.addEventListener("specschanged",e=>{this.emitEvent("storage:save:spec",e.detail),this.triggerTests()}),this.set("$.library.editor",this.$.grapheditor),this.set("$.journal.editor",this.$.grapheditor),this.set("$.context.editor",this.$.grapheditor),this.set("$.packets.editor",this.$.grapheditor),this.set("$.search.editor",this.$.grapheditor),this.set("$.runtime.panel",this.$.context.$.fixed),this.set("$.packets.panel",this.$.context.$.contextsection),this.set("$.search.panel",this.$.context.$.contextsection)},updated(e){if(e.state)switch(e.state){case"error":this.showError(e);break;case"ok":this.hideAlertSoon();break;case"loading":this.showProgress(e)}if(Object.keys(e).forEach(t=>{if(-1===this.clearContextFirst.indexOf(t))this.set("ctx."+t,e[t]);else if(this.set("ctx."+t,e[t].slice(0)),"projects"===t)for(let e=0;e<this.ctx.projects.length;e+=1){const t=this.ctx.projects[e];this.set("ctx.projects."+e,{}),this.set("ctx.projects."+e,t),this.ctx.project&&this.ctx.project.id===t.id&&(this.set("ctx.project",{}),this.set("ctx.project",t))}}),e.user&&e.user["flowhub-theme"]&&(this.theme=e.user["flowhub-theme"]),e.searchLibraryResult&&this.$.search.libraryResults(this.ctx.searchLibraryResult),e.searchGraphResult&&this.$.search.graphResults(this.ctx.searchGraphResult),void 0===e.syncOperation){if(e.componentLibrary&&(Object.keys(this.$.grapheditor.$.graph.library).forEach(e=>{delete this.$.grapheditor.$.graph.library[e]}),e.componentLibrary.forEach(e=>{this.$.grapheditor.registerComponent(e)}),this.set("ctx.componentLibrary",null)),this.ctx.suites&&this.$.runtime.showTests(this.ctx.suites),"loading"!==this.ctx.state)if("error"!==this.ctx.state){if(e.graphs)if(e.graphs.length){const t=this.ctx.graph;this.set("ctx.graph",e.graphs[e.graphs.length-1]),t!==this.ctx.graph&&setTimeout(()=>{this.emitEvent("context:graph",{graph:this.ctx.graph})},1)}else this.set("ctx.graph",null);if(this.ctx.graph||this.ctx.component){this.set("$.main.open",!1);const e=a.a.isReadOnly(this.ctx);this.set("$.search.readonly",e),this.set("$.grapheditor.readonly",e),this.set("$.context.readonly",e),this.set("$.packets.readonly",e)}else this.set("$.main.open",!0)}else this.showError(this.ctx)}else this.$.project.confirm(e.syncOperation)},showError(e){e.error&&e.error.message&&(this.set("$.alert.message",e.error.message),this.set("$.alert.isError",!0),this.set("$.alert.offerHTTPS",!1),Object(i.a)(this.$.alert).classList.add("show"))},showProgress(e){(e.state||e.offerHTTPS)&&(this.set("$.alert.message",e.state||""),this.set("$.alert.isError",!1),this.set("$.alert.offerHTTPS",e.offerHTTPS||!1),this.dontAutoHideAlert=e.dontAutoHideAlert||!1,Object(i.a)(this.$.alert).classList.add("show"))},triggerTests(){this.ctx.runtime&&this.emitEvent("runtime:runTests",{project:this.ctx.project,runtime:this.ctx.runtime.definition})},hideAlert(){Object(i.a)(this.$.alert).classList.remove("show")},hideAlertSoon(){this.dontAutoHideAlert||Object(i.a)(this.$.alert).classList.contains("show")&&window.setTimeout(()=>{this.hideAlert()},1300)},openProject(e){a.a.getProjectHash(e,(e,t)=>{e||this.emitEvent("application:sethash",t)})},themeChanged(e,t){t&&Object(i.a)(document.body).classList.remove(t),Object(i.a)(document.body).classList.add(this.theme)}})},8:function(e,t,n){const{basename:o}=n(47);t.sortByName=(e,n)=>{const o=t.unnamespace(t.getName(e)),i=t.unnamespace(t.getName(n));return o.localeCompare(i)},t.getName=(e,t=!0)=>{if(!e)return t?"Unknown":null;const n=(null!=e.properties?e.properties.name:void 0)||e.name||e.id;return!n&&t?"Unknown":n},t.unnamespace=e=>-1===e.indexOf("/")?e:o(e),t.namespace=(e,t)=>-1!==e.indexOf("/")?e:`${t}/${e}`,t.sortBySeen=(e,t)=>{const n=e,o=t;return n.seen?o.seen?(n.seen="object"==typeof n.seen?n.seen:new Date(n.seen),o.seen="object"==typeof o.seen?o.seen:new Date(o.seen),n.seen>o.seen?-1:o.seen>n.seen?1:0):-1:1},t.addToList=(e,n,o=t.sortByName)=>{let i=!1;e.forEach(e=>{if(e===n)return void(i=!0);if(t.unnamespace(t.getName(e,!1))===t.unnamespace(t.getName(n,!1))){const t=e;Object.keys(n).forEach(e=>{t[e]=n[e]}),i=!0}}),i||(e.push(n),e.sort(o))},t.removeFromList=(e,t)=>{const n=e.find(e=>{if(e===t)return!0;return(e.properties?e.properties.id:e.id)===(t.properties?t.properties.id:t.id)});n&&e.splice(e.indexOf(n),1)}},82:function(e,t,n){const o=n(25);t.getIcon=(e,t="")=>{const n=o.FONT_AWESOME;return n?n[e]?n[e]:t?n[t]:t:e},t.getIcons=()=>{const e=o.FONT_AWESOME;return e||{}}}},[[536,0,1,5]]]);
//# sourceMappingURL=ui.bee1aa7c7a50184fe509474ef76fd7ca.min.js.map