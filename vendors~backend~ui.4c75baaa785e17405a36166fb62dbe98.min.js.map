{"version":3,"sources":["webpack:///../src/Journal.ts","webpack:///../src/JournalStore.ts","webpack:///../src/Graph.ts","webpack:///./node_modules/events/events.js","webpack:///./node_modules/tv4/tv4.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/isarray/index.js","webpack:///../src/MemoryJournalStore.ts","webpack:///../src/Platform.ts","webpack:///./node_modules/fbp/lib/fbp.js","webpack:///./node_modules/fbp/lib/serialize.js","webpack:///../src/index.ts","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/node-libs-browser/node_modules/buffer/index.js","webpack:///./node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/clone/clone.js","webpack:///./node_modules/path-browserify/index.js","webpack:///./node_modules/fbp/lib/index.js","webpack:///./node_modules/uuid/dist/esm-browser/rng.js"],"names":["entry","a","from","setMeta","this","r","port","e","callback","graph","ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","module","exports","once","emitter","name","Promise","resolve","reject","eventListener","undefined","errorListener","removeListener","slice","arguments","err","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","create","newListener","emit","unshift","push","length","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","defineProperty","enumerable","get","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","handler","len","listeners","addListener","on","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","hasOwnProperty","hasDontEnumBug","dontEnums","dontEnumsLength","toString","propertyIsEnumerable","obj","result","prop","F","o","isArray","vArg","indexOf","searchElement","t","Infinity","Math","floor","abs","k","max","isFrozen","random","uriTemplateGlobalModifiers","uriTemplateSuffices","notReallyPercentEncode","string","encodeURI","replace","doubleEncoded","substring","uriTemplateSubstitution","spec","modifier","charAt","separator","prefix","shouldEscape","showVariables","trimEmptyString","varNames","varList","split","varSpecs","varSpecMap","varName","truncate","parts","parseInt","suffices","varSpec","subFunction","valueFunction","startIndex","j","encodeURIComponent","first","substitution","UriTemplate","template","textParts","prefixes","substitutions","part","remainder","funcs","fill","fillFromObject","ValidatorContext","parent","collectMultiple","errorReporter","checkRecursive","trackUnknownProperties","missing","missingMap","formatValidators","schemas","errors","handleError","collectError","returnError","scanned","scannedFrozen","scannedFrozenSchemas","scannedFrozenValidationErrors","validatedSchemasKey","validationErrorsKey","knownPropertyPaths","unknownPropertyPaths","defaultErrorReporter","definedKeywords","recursiveCompare","A","B","defineKeyword","keyword","keywordFunction","createError","code","messageParams","dataPath","schemaPath","subErrors","data","schema","ValidationError","prefixErrors","prefixWith","banUnknownProperties","unknownPath","ErrorCodes","UNKNOWN_PROPERTY","path","addFormat","format","validator","resolveRefs","urlHistory","CIRCULAR_REFERENCE","urls","join","getSchema","url","baseUrl","fragment","pointerPath","decodeURIComponent","component","searchSchemas","id","testUrl","isTrustedUrl","uri","getDocumentUri","addSchema","normSchema","getSchemaMap","map","getSchemaUris","filterRegExp","test","getMissingUris","dropSchemas","reset","validateAll","dataPathParts","schemaPathParts","dataPointerPath","topLevel","frozenIndex","startErrorCount","scannedFrozenSchemaIndex","scannedSchemasIndex","schemaIndex","frozenSchemaIndex","configurable","errorCount","validateBasic","validateNumeric","validateString","validateArray","validateObject","validateCombinations","validateHypermedia","validateFormat","validateDefinedKeywords","dataPart","schemaPart","errorMessage","FORMAT_CUSTOM","validationFunctions","func","KEYWORD_CUSTOM","validateType","validateEnum","dataType","allowedTypes","INVALID_TYPE","expected","ENUM_MISMATCH","JSON","stringify","validateMultipleOf","validateMinMax","validateNaN","CLOSE_ENOUGH_LOW","pow","CLOSE_ENOUGH_HIGH","parseURI","match","href","protocol","authority","host","hostname","pathname","search","hash","resolveUrl","base","input","lastIndexOf","output","p","baseUri","language","errorMessages","languages","messageTemplate","ErrorMessagesDefault","params","whole","subValue","multipleOf","divisibleBy","NUMBER_MULTIPLE_OF","minimum","NUMBER_MINIMUM","exclusiveMinimum","NUMBER_MINIMUM_EXCLUSIVE","maximum","NUMBER_MAXIMUM","exclusiveMaximum","NUMBER_MAXIMUM_EXCLUSIVE","NUMBER_NOT_A_NUMBER","validateStringLength","validateStringPattern","minLength","STRING_LENGTH_SHORT","maxLength","STRING_LENGTH_LONG","pattern","RegExp","regexp","body","flags","literal","STRING_PATTERN","validateArrayLength","validateArrayUniqueItems","validateArrayItems","minItems","ARRAY_LENGTH_SHORT","maxItems","ARRAY_LENGTH_LONG","uniqueItems","ARRAY_UNIQUE","match1","match2","items","additionalItems","ARRAY_ADDITIONAL_ITEMS","validateObjectMinMaxProperties","validateObjectRequiredProperties","validateObjectProperties","validateObjectDependencies","minProperties","OBJECT_PROPERTIES_MINIMUM","propertyCount","maxProperties","OBJECT_PROPERTIES_MAXIMUM","required","OBJECT_REQUIRED","keyPointerPath","foundMatch","properties","patternProperties","patternKey","additionalProperties","OBJECT_ADDITIONAL_PROPERTIES","dependencies","depKey","dep","OBJECT_DEPENDENCY_KEY","requiredKey","validateAllOf","validateAnyOf","validateOneOf","validateNot","allOf","subSchema","anyOf","oldUnknownPropertyPaths","oldKnownPropertyPaths","errorAtEnd","knownKey","unknownKey","ANY_OF_MISSING","oneOf","validIndex","ONE_OF_MULTIPLE","index1","index2","ONE_OF_MISSING","not","oldErrorCount","notErrors","NOT_PASSED","links","ldo","rel","allPresent","ErrorCodeLookup","stack","stacktrace","constructor","dataPrefix","schemaPrefix","tv4","createApi","currentLanguage","customErrorReporter","globalContext","api","setErrorReporter","reporter","addLanguage","messageMap","rootCode","freshApi","validate","def","valid","validateResult","validateMultiple","defineError","codeName","codeNumber","defaultMessage","langCode","errorCodes","options","buf","offset","rnds","rng","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","array","noop","nextTick","title","browser","env","argv","version","versions","binding","cwd","chdir","dir","umask","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","Arr","_byteLength","curByte","revLookup","charCodeAt","fromByteArray","uint8","extraBytes","len2","encodeChunk","lookup","Uint8Array","start","end","num","read","buffer","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","d","s","NaN","write","c","rt","log","LN2","peg$SyntaxError","found","location","captureStackTrace","child","ctor","peg$subclass","SyntaxError","parse","peg$result","nodes","parser","peg$FAILED","peg$startRuleFunctions","peg$parsestart","peg$startRuleFunction","peg$c0","getResult","peg$c1","peg$c2","description","peg$c3","peg$c4","peg$c5","peg$c6","peg$c7","node","pub","registerInports","peg$c8","peg$c9","peg$c10","registerOutports","peg$c11","peg$c12","peg$c13","defaultInPort","peg$c14","peg$c15","peg$c16","defaultOutPort","peg$c17","annotation","registerAnnotation","peg$c18","edges","registerEdges","peg$c19","peg$c20","peg$c21","peg$c22","peg$c23","peg$c24","peg$c25","peg$c26","peg$c27","x","y","peg$c28","proc","makeInPort","makeOutPort","peg$c29","peg$c30","peg$c31","peg$c32","peg$c33","iip","peg$c34","peg$c35","peg$c36","peg$c37","peg$c38","peg$c39","peg$c40","makeName","peg$c41","comp","addNode","peg$c42","addAnonymousNode","peg$c43","peg$c44","peg$c45","peg$c46","peg$c47","peg$c48","peg$c49","meta","peg$c50","peg$c51","peg$c52","peg$c53","peg$c54","peg$c55","peg$c56","peg$c57","peg$c58","peg$c59","peg$c60","portname","portindex","caseSensitive","toLowerCase","peg$c61","peg$c62","peg$c63","peg$c64","peg$c65","peg$c66","peg$c67","peg$c68","peg$c69","peg$c70","peg$c71","peg$c72","peg$c73","peg$c74","peg$c75","peg$c76","peg$c77","peg$c78","peg$c79","peg$c80","peg$c81","peg$c82","peg$c83","peg$c84","peg$c85","peg$c86","peg$c87","peg$c88","peg$c89","peg$c90","peg$c91","peg$c92","peg$c93","peg$c94","peg$c95","peg$c96","peg$c97","peg$c98","peg$c99","peg$c100","head","peg$c101","tail","peg$c102","members","peg$c103","peg$c104","v","peg$c105","peg$c106","values","peg$c107","peg$c108","parseFloat","text","peg$c109","peg$c110","peg$c111","peg$c112","peg$c113","peg$c114","peg$c115","peg$c116","peg$c117","peg$c118","peg$c119","peg$c120","chars","peg$c121","peg$c122","peg$c123","peg$c124","peg$c125","peg$c126","peg$c127","peg$c128","peg$c129","peg$c130","peg$c131","peg$c132","peg$c133","peg$c134","peg$c135","peg$c136","peg$c137","peg$c138","peg$c139","peg$c140","peg$c141","peg$c142","peg$c143","peg$c144","digits","fromCharCode","peg$c145","sequence","peg$c146","peg$c147","peg$c148","peg$c149","peg$currPos","peg$savedPos","peg$posDetailsCache","line","column","seenCR","peg$maxFailPos","peg$maxFailExpected","peg$silentFails","startRule","peg$computeLocation","peg$computePosDetails","pos","ch","details","startPos","endPos","startPosDetails","endPosDetails","peg$fail","peg$buildException","sort","b","splice","cleanupExpected","expectedDescs","hex","toUpperCase","stringEscape","buildMessage","s0","s1","s2","peg$parseline","s3","s4","s5","s6","s7","s9","peg$parse_","substr","peg$parsenode","peg$parseportName","peg$parseLineTerminator","peg$parseannotation","peg$parsenewline","peg$parsecomment","peg$parseconnection","peg$parseanychar","peg$parsesource","peg$parsedestination","peg$parsebridge","peg$parseoutport","peg$parseiip","peg$parseinport","peg$parseport__","peg$parse__port","peg$parsenodeWithComponent","peg$parseiipchar","peg$parseJSON_text","peg$parsenodeNameAndComponent","peg$parsenodeName","peg$parsenodeComponent","peg$parsecomponent","peg$parsecompMeta","peg$parse__","peg$parseport","peg$parseportIndex","peg$parsews","peg$parsevalue","peg$parsebegin_array","peg$parsebegin_object","peg$parseend_array","peg$parseend_object","peg$parsename_separator","peg$parsevalue_separator","peg$parsefalse","peg$parsenull","peg$parsetrue","peg$parseobject","peg$parsearray","peg$parsenumber","peg$parsestring","peg$parsemember","peg$parseminus","peg$parseint","peg$parsefrac","peg$parseexp","peg$parsedecimal_point","peg$parsedigit1_9","peg$parsee","peg$parseplus","peg$parseDIGIT","peg$parsezero","peg$parsequotation_mark","peg$parsechar","s8","peg$parseunescaped","peg$parseescape","peg$parseHEXDIG","inports","outports","groups","validateContents","processes","forEach","portDef","connections","edge","tgt","src","nodeName","metadata","item","anonymousIndexes","anonymousNodeNames","componentName","processEdges","validateSchema","validation","flatten","isShallow","makePort","defaultPort","environment","flats","grouped","l","conn","getInOutName","getName","inPort","namedComponents","outPort","ref","ref1","ref2","srcName","srcPort","srcProcess","tgtName","tgtPort","tgtProcess","label","propval","Graph_1","g","window","base64","ieee754","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","__proto__","encodingOrOffset","allocUnsafe","ArrayBuffer","byteOffset","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","fromString","isBuffer","checked","val","fromObject","assertSize","size","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","arrayIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","global","foo","subarray","typedArraySupport","poolSize","_augment","Symbol","species","allocUnsafeSlow","_isBuffer","compare","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","leadSurrogate","trim","stringtrim","base64clean","dst","byteToHex","uuid","_instanceof","nativeMap","nativeSet","nativePromise","Map","_","Set","clone","circular","depth","includeNonEnumerable","allParents","allChildren","useBuffer","_clone","proto","then","__isArray","__isRegExp","source","__getRegExpFlags","lastIndex","__isDate","Date","getTime","keyChild","valueChild","entryChild","add","attrs","getOwnPropertyDescriptor","symbols","symbol","descriptor","allPropertyNames","propertyName","__objToStr","re","ignoreCase","multiline","clonePrototype","normalizeArray","allowAboveRoot","up","last","filter","xs","f","resolvedPath","resolvedAbsolute","normalize","isAbsolute","trailingSlash","paths","relative","to","fromParts","toParts","samePartsLength","outputParts","sep","delimiter","dirname","hasRoot","matchedSlash","basename","extname","startDot","startPart","preDotState","serialize","getRandomValues","rnds8","crypto","msCrypto"],"mappings":"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","file":"vendors~backend~ui.78a0487489f24d0b9d2e.min.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MemoryJournalStore = exports.JournalStore = exports.Journal = void 0;\n//     FBP Graph Journal\n//     (c) 2016-2020 Flowhub UG\n//     (c) 2014 Jon Nordby\n//     (c) 2013 Flowhub UG\n//     (c) 2011-2012 Henri Bergius, Nemein\n//     FBP Graph may be freely distributed under the MIT license\nconst events_1 = require(\"events\");\nconst clone = require(\"clone\");\nconst JournalStore_1 = require(\"./JournalStore\");\nexports.JournalStore = JournalStore_1.default;\nconst MemoryJournalStore_1 = require(\"./MemoryJournalStore\");\nexports.MemoryJournalStore = MemoryJournalStore_1.default;\nfunction entryToPrettyString(entry) {\n    const a = entry.args;\n    switch (entry.cmd) {\n        case 'addNode': return `${a.id}(${a.component})`;\n        case 'removeNode': return `DEL ${a.id}(${a.component})`;\n        case 'renameNode': return `RENAME ${a.oldId} ${a.newId}`;\n        case 'changeNode': return `META ${a.id}`;\n        case 'addEdge': return `${a.from.node} ${a.from.port} -> ${a.to.port} ${a.to.node}`;\n        case 'removeEdge': return `${a.from.node} ${a.from.port} -X> ${a.to.port} ${a.to.node}`;\n        case 'changeEdge': return `META ${a.from.node} ${a.from.port} -> ${a.to.port} ${a.to.node}`;\n        case 'addInitial': return `'${a.from.data}' -> ${a.to.port} ${a.to.node}`;\n        case 'removeInitial': return `'${a.from.data}' -X> ${a.to.port} ${a.to.node}`;\n        case 'startTransaction': return `>>> ${entry.rev}: ${a.id}`;\n        case 'endTransaction': return `<<< ${entry.rev}: ${a.id}`;\n        case 'changeProperties': return 'PROPERTIES';\n        case 'addGroup': return `GROUP ${a.name}`;\n        case 'renameGroup': return `RENAME GROUP ${a.oldName} ${a.newName}`;\n        case 'removeGroup': return `DEL GROUP ${a.name}`;\n        case 'changeGroup': return `META GROUP ${a.name}`;\n        case 'addInport': return `INPORT ${a.name}`;\n        case 'removeInport': return `DEL INPORT ${a.name}`;\n        case 'renameInport': return `RENAME INPORT ${a.oldId} ${a.newId}`;\n        case 'changeInport': return `META INPORT ${a.name}`;\n        case 'addOutport': return `OUTPORT ${a.name}`;\n        case 'removeOutport': return `DEL OUTPORT ${a.name}`;\n        case 'renameOutport': return `RENAME OUTPORT ${a.oldId} ${a.newId}`;\n        case 'changeOutport': return `META OUTPORT ${a.name}`;\n        default: throw new Error(`Unknown journal entry: ${entry.cmd}`);\n    }\n}\n// To set, not just update (append) metadata\nfunction calculateMeta(oldMeta, newMeta) {\n    const setMeta = {};\n    Object.keys(oldMeta).forEach((k) => {\n        setMeta[k] = null;\n    });\n    Object.keys(newMeta).forEach((k) => {\n        const v = newMeta[k];\n        setMeta[k] = v;\n    });\n    return setMeta;\n}\n// ## Journalling graph changes\n//\n// The Journal can follow graph changes, store them\n// and allows to recall previous revisions of the graph.\n//\n// Revisions stored in the journal follow the transactions of the graph.\n// It is not possible to operate on smaller changes than individual transactions.\n// Use startTransaction and endTransaction on Graph to structure the revisions logical changesets.\nclass Journal extends events_1.EventEmitter {\n    constructor(graph, metadata, store) {\n        super();\n        this.graph = graph;\n        // Entries added during this revision\n        this.entries = [];\n        // Whether we should respond to graph change notifications or not\n        this.subscribed = true;\n        this.store = store || new MemoryJournalStore_1.default(this.graph);\n        if (this.store.countTransactions() === 0) {\n            // Sync journal with current graph to start transaction history\n            this.currentRevision = -1;\n            this.startTransaction('initial', metadata || {});\n            this.graph.nodes.forEach((node) => {\n                this.appendCommand('addNode', node);\n            });\n            this.graph.edges.forEach((edge) => {\n                this.appendCommand('addEdge', edge);\n            });\n            this.graph.initializers.forEach((iip) => {\n                this.appendCommand('addInitial', iip);\n            });\n            if (Object.keys(this.graph.properties).length > 0) {\n                this.appendCommand('changeProperties', this.graph.properties);\n            }\n            Object.keys(this.graph.inports).forEach((name) => {\n                const port = this.graph.inports[name];\n                this.appendCommand('addInport', {\n                    name,\n                    port,\n                });\n            });\n            Object.keys(this.graph.outports).forEach((name) => {\n                const port = this.graph.outports[name];\n                this.appendCommand('addOutport', {\n                    name,\n                    port,\n                });\n            });\n            this.graph.groups.forEach((group) => {\n                this.appendCommand('addGroup', group);\n            });\n            this.endTransaction('initial', metadata || {});\n        }\n        else {\n            // Persistent store, start with its latest rev\n            this.currentRevision = this.store.lastRevision;\n        }\n        // Subscribe to graph changes\n        this.graph.on('addNode', (node) => {\n            this.appendCommand('addNode', node);\n        });\n        this.graph.on('removeNode', (node) => {\n            this.appendCommand('removeNode', node);\n        });\n        this.graph.on('renameNode', (oldId, newId) => {\n            const args = {\n                oldId,\n                newId,\n            };\n            this.appendCommand('renameNode', args);\n        });\n        this.graph.on('changeNode', (node, oldMeta) => {\n            this.appendCommand('changeNode', {\n                id: node.id,\n                new: node.metadata,\n                old: oldMeta,\n            });\n        });\n        this.graph.on('addEdge', (edge) => {\n            this.appendCommand('addEdge', edge);\n        });\n        this.graph.on('removeEdge', (edge) => {\n            this.appendCommand('removeEdge', edge);\n        });\n        this.graph.on('changeEdge', (edge, oldMeta) => {\n            this.appendCommand('changeEdge', {\n                from: edge.from,\n                to: edge.to,\n                new: edge.metadata,\n                old: oldMeta,\n            });\n        });\n        this.graph.on('addInitial', (iip) => {\n            this.appendCommand('addInitial', iip);\n        });\n        this.graph.on('removeInitial', (iip) => {\n            this.appendCommand('removeInitial', iip);\n        });\n        this.graph.on('changeProperties', (newProps, oldProps) => this.appendCommand('changeProperties', { new: newProps, old: oldProps }));\n        this.graph.on('addGroup', (group) => this.appendCommand('addGroup', group));\n        this.graph.on('renameGroup', (oldName, newName) => this.appendCommand('renameGroup', {\n            oldName,\n            newName,\n        }));\n        this.graph.on('removeGroup', (group) => this.appendCommand('removeGroup', group));\n        this.graph.on('changeGroup', (group, oldMeta) => this.appendCommand('changeGroup', { name: group.name, new: group.metadata, old: oldMeta }));\n        this.graph.on('addExport', (exported) => this.appendCommand('addExport', exported));\n        this.graph.on('removeExport', (exported) => this.appendCommand('removeExport', exported));\n        this.graph.on('addInport', (name, port) => this.appendCommand('addInport', { name, port }));\n        this.graph.on('removeInport', (name, port) => this.appendCommand('removeInport', { name, port }));\n        this.graph.on('renameInport', (oldId, newId) => this.appendCommand('renameInport', { oldId, newId }));\n        this.graph.on('changeInport', (name, port, oldMeta) => this.appendCommand('changeInport', { name, new: port.metadata, old: oldMeta }));\n        this.graph.on('addOutport', (name, port) => this.appendCommand('addOutport', { name, port }));\n        this.graph.on('removeOutport', (name, port) => this.appendCommand('removeOutport', { name, port }));\n        this.graph.on('renameOutport', (oldId, newId) => this.appendCommand('renameOutport', { oldId, newId }));\n        this.graph.on('changeOutport', (name, port, oldMeta) => this.appendCommand('changeOutport', { name, new: port.metadata, old: oldMeta }));\n        this.graph.on('startTransaction', (id, meta) => {\n            this.startTransaction(id, meta);\n        });\n        this.graph.on('endTransaction', (id, meta) => {\n            this.endTransaction(id, meta);\n        });\n    }\n    startTransaction(id, meta) {\n        if (!this.subscribed) {\n            return;\n        }\n        if (this.entries.length > 0) {\n            throw Error('Inconsistent @entries');\n        }\n        this.currentRevision += 1;\n        this.appendCommand('startTransaction', {\n            id,\n            metadata: meta,\n        }, this.currentRevision);\n    }\n    endTransaction(id, meta) {\n        if (!this.subscribed) {\n            return;\n        }\n        this.appendCommand('endTransaction', {\n            id, metadata: meta,\n        }, this.currentRevision);\n        // TODO: this would be the place to refine @entries into\n        // a minimal set of changes, like eliminating changes early in transaction\n        // which were later reverted/overwritten\n        this.store.putTransaction(this.currentRevision, this.entries);\n        this.entries = [];\n    }\n    appendCommand(cmd, args, rev = null) {\n        if (!this.subscribed) {\n            return;\n        }\n        const entry = {\n            cmd,\n            args: clone(args),\n            rev: rev,\n        };\n        this.entries.push(entry);\n    }\n    executeEntry(entry) {\n        const a = entry.args;\n        switch (entry.cmd) {\n            case 'addNode': {\n                this.graph.addNode(a.id, a.component);\n                break;\n            }\n            case 'removeNode': {\n                this.graph.removeNode(a.id);\n                break;\n            }\n            case 'renameNode': {\n                this.graph.renameNode(a.oldId, a.newId);\n                break;\n            }\n            case 'changeNode': {\n                this.graph.setNodeMetadata(a.id, calculateMeta(a.old, a.new));\n                break;\n            }\n            case 'addEdge': {\n                this.graph.addEdge(a.from.node, a.from.port, a.to.node, a.to.port);\n                break;\n            }\n            case 'removeEdge': {\n                this.graph.removeEdge(a.from.node, a.from.port, a.to.node, a.to.port);\n                break;\n            }\n            case 'changeEdge': {\n                this.graph.setEdgeMetadata(a.from.node, a.from.port, a.to.node, a.to.port, calculateMeta(a.old, a.new));\n                break;\n            }\n            case 'addInitial': {\n                if (typeof a.to.index === 'number') {\n                    this.graph.addInitialIndex(a.from.data, a.to.node, a.to.port, a.to.index, a.metadata);\n                }\n                else {\n                    this.graph.addInitial(a.from.data, a.to.node, a.to.port, a.metadata);\n                }\n                break;\n            }\n            case 'removeInitial': {\n                this.graph.removeInitial(a.to.node, a.to.port);\n                break;\n            }\n            case 'startTransaction': {\n                break;\n            }\n            case 'endTransaction': {\n                break;\n            }\n            case 'changeProperties': {\n                this.graph.setProperties(a.new);\n                break;\n            }\n            case 'addGroup': {\n                this.graph.addGroup(a.name, a.nodes, a.metadata);\n                break;\n            }\n            case 'renameGroup': {\n                this.graph.renameGroup(a.oldName, a.newName);\n                break;\n            }\n            case 'removeGroup': {\n                this.graph.removeGroup(a.name);\n                break;\n            }\n            case 'changeGroup': {\n                this.graph.setGroupMetadata(a.name, calculateMeta(a.old, a.new));\n                break;\n            }\n            case 'addInport': {\n                this.graph.addInport(a.name, a.port.process, a.port.port, a.port.metadata);\n                break;\n            }\n            case 'removeInport': {\n                this.graph.removeInport(a.name);\n                break;\n            }\n            case 'renameInport': {\n                this.graph.renameInport(a.oldId, a.newId);\n                break;\n            }\n            case 'changeInport': {\n                this.graph.setInportMetadata(a.name, calculateMeta(a.old, a.new));\n                break;\n            }\n            case 'addOutport': {\n                this.graph.addOutport(a.name, a.port.process, a.port.port, a.port.metadata(a.name));\n                break;\n            }\n            case 'removeOutport': {\n                this.graph.removeOutport(a.name);\n                break;\n            }\n            case 'renameOutport': {\n                this.graph.renameOutport(a.oldId, a.newId);\n                break;\n            }\n            case 'changeOutport': {\n                this.graph.setOutportMetadata(a.name, calculateMeta(a.old, a.new));\n                break;\n            }\n            default: throw new Error(`Unknown journal entry: ${entry.cmd}`);\n        }\n    }\n    executeEntryInversed(entry) {\n        const a = entry.args;\n        switch (entry.cmd) {\n            case 'addNode': {\n                this.graph.removeNode(a.id);\n                break;\n            }\n            case 'removeNode': {\n                this.graph.addNode(a.id, a.component);\n                break;\n            }\n            case 'renameNode': {\n                this.graph.renameNode(a.newId, a.oldId);\n                break;\n            }\n            case 'changeNode': {\n                this.graph.setNodeMetadata(a.id, calculateMeta(a.new, a.old));\n                break;\n            }\n            case 'addEdge': {\n                this.graph.removeEdge(a.from.node, a.from.port, a.to.node, a.to.port);\n                break;\n            }\n            case 'removeEdge': {\n                this.graph.addEdge(a.from.node, a.from.port, a.to.node, a.to.port);\n                break;\n            }\n            case 'changeEdge': {\n                this.graph.setEdgeMetadata(a.from.node, a.from.port, a.to.node, a.to.port, calculateMeta(a.new, a.old));\n                break;\n            }\n            case 'addInitial': {\n                this.graph.removeInitial(a.to.node, a.to.port);\n                break;\n            }\n            case 'removeInitial': {\n                if (typeof a.to.index === 'number') {\n                    this.graph.addInitialIndex(a.from.data, a.to.node, a.to.port, a.to.index, a.metadata);\n                }\n                else {\n                    this.graph.addInitial(a.from.data, a.to.node, a.to.port, a.metadata);\n                }\n                break;\n            }\n            case 'startTransaction': {\n                break;\n            }\n            case 'endTransaction': {\n                break;\n            }\n            case 'changeProperties': {\n                this.graph.setProperties(a.old);\n                break;\n            }\n            case 'addGroup': {\n                this.graph.removeGroup(a.name);\n                break;\n            }\n            case 'renameGroup': {\n                this.graph.renameGroup(a.newName, a.oldName);\n                break;\n            }\n            case 'removeGroup': {\n                this.graph.addGroup(a.name, a.nodes, a.metadata);\n                break;\n            }\n            case 'changeGroup': {\n                this.graph.setGroupMetadata(a.name, calculateMeta(a.new, a.old));\n                break;\n            }\n            case 'addInport': {\n                this.graph.removeInport(a.name);\n                break;\n            }\n            case 'removeInport': {\n                this.graph.addInport(a.name, a.port.process, a.port.port, a.port.metadata);\n                break;\n            }\n            case 'renameInport': {\n                this.graph.renameInport(a.newId, a.oldId);\n                break;\n            }\n            case 'changeInport': {\n                this.graph.setInportMetadata(a.name, calculateMeta(a.new, a.old));\n                break;\n            }\n            case 'addOutport': {\n                this.graph.removeOutport(a.name);\n                break;\n            }\n            case 'removeOutport': {\n                this.graph.addOutport(a.name, a.port.process, a.port.port, a.port.metadata);\n                break;\n            }\n            case 'renameOutport': {\n                this.graph.renameOutport(a.newId, a.oldId);\n                break;\n            }\n            case 'changeOutport': {\n                this.graph.setOutportMetadata(a.name, calculateMeta(a.new, a.old));\n                break;\n            }\n            default: throw new Error(`Unknown journal entry: ${entry.cmd}`);\n        }\n    }\n    moveToRevision(revId) {\n        if (revId === this.currentRevision) {\n            return;\n        }\n        this.subscribed = false;\n        if (revId > this.currentRevision) {\n            // Forward replay journal to revId\n            for (let start = this.currentRevision + 1, r = start, end = revId, asc = start <= end; asc ? r <= end : r >= end; asc ? r += 1 : r -= 1) {\n                this.store.fetchTransaction(r).forEach((entry) => {\n                    this.executeEntry(entry);\n                });\n            }\n        }\n        else {\n            // Move backwards, and apply inverse changes\n            for (let r = this.currentRevision, end = revId + 1; r >= end; r -= 1) {\n                // Apply entries in reverse order\n                const entries = this.store.fetchTransaction(r).slice(0);\n                entries.reverse();\n                entries.forEach((entry) => {\n                    this.executeEntryInversed(entry);\n                });\n            }\n        }\n        this.currentRevision = revId;\n        this.subscribed = true;\n    }\n    // ## Undoing & redoing\n    // Undo the last graph change\n    undo() {\n        if (!this.canUndo()) {\n            return;\n        }\n        this.moveToRevision(this.currentRevision - 1);\n    }\n    // If there is something to undo\n    canUndo() {\n        return this.currentRevision > 0;\n    }\n    // Redo the last undo\n    redo() {\n        if (!this.canRedo()) {\n            return;\n        }\n        this.moveToRevision(this.currentRevision + 1);\n    }\n    // If there is something to redo\n    canRedo() {\n        return this.currentRevision < this.store.lastRevision;\n    }\n    // # Serializing\n    // Render a pretty printed string of the journal. Changes are abbreviated\n    toPrettyString(startRev = 0, endRevParam) {\n        const endRev = endRevParam || this.store.lastRevision;\n        const lines = [];\n        for (let r = startRev, end = endRev, asc = startRev <= end; asc ? r < end : r > end; asc ? r += 1 : r -= 1) {\n            const e = this.store.fetchTransaction(r);\n            e.forEach((entry) => {\n                lines.push(entryToPrettyString(entry));\n            });\n        }\n        return lines.join('\\n');\n    }\n    // Serialize journal to JSON\n    toJSON(startRev = 0, endRevParam = null) {\n        const endRev = endRevParam || this.store.lastRevision;\n        const entries = [];\n        for (let r = startRev, end = endRev; r < end; r += 1) {\n            const e = this.store.fetchTransaction(r);\n            e.forEach((entry) => {\n                entries.push(entryToPrettyString(entry));\n            });\n        }\n        return entries;\n    }\n    save(file, callback) {\n        const promise = new Promise((resolve, reject) => {\n            const json = JSON.stringify(this.toJSON(), null, 4);\n            const { writeFile } = require('fs');\n            writeFile(`${file}.json`, json, 'utf-8', (err) => {\n                if (err) {\n                    reject(err);\n                    return;\n                }\n                resolve();\n            });\n        });\n        if (callback) {\n            promise.then(() => {\n                callback(null);\n            }, callback);\n            return;\n        }\n        return promise;\n    }\n}\nexports.Journal = Journal;\n//# sourceMappingURL=Journal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst events_1 = require(\"events\");\n/**\n * General interface for journal storage\n */\nclass JournalStore extends events_1.EventEmitter {\n    constructor(graph) {\n        super();\n        this.graph = graph;\n        this.lastRevision = 0;\n    }\n    countTransactions() {\n        return 0;\n    }\n    putTransaction(revId, entries) {\n        if (revId > this.lastRevision) {\n            this.lastRevision = revId;\n        }\n        this.emit('transaction', revId, entries);\n    }\n    fetchTransaction(revId) {\n        return [];\n    }\n}\nexports.default = JournalStore;\n//# sourceMappingURL=JournalStore.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mergeResolveTheirs = exports.equivalent = exports.loadFile = exports.loadFBP = exports.loadJSON = exports.createGraph = exports.Graph = void 0;\n//     FBP Graph\n//     (c) 2013-2020 Flowhub UG\n//     (c) 2011-2012 Henri Bergius, Nemein\n//     FBP Graph may be freely distributed under the MIT license\n//\n// FBP graphs are Event Emitters, providing signals when the graph\n// definition changes.\n/* eslint-env browser, node */\nconst events_1 = require(\"events\");\nconst clone = require(\"clone\");\nconst fs_1 = require(\"fs\");\nconst Platform_1 = require(\"./Platform\");\n// This class represents an abstract FBP graph containing nodes\n// connected to each other with edges.\n//\n// These graphs can be used for visualization and sketching, but\n// also are the way to start a NoFlo or other FBP network.\nclass Graph extends events_1.EventEmitter {\n    constructor(name = '', options = {}) {\n        super();\n        this.setMaxListeners(0);\n        this.name = name;\n        this.properties = {};\n        this.nodes = [];\n        this.edges = [];\n        this.initializers = [];\n        this.inports = {};\n        this.outports = {};\n        this.groups = [];\n        this.transaction = {\n            id: null,\n            depth: 0,\n        };\n        this.caseSensitive = options.caseSensitive || false;\n    }\n    getPortName(port = '') {\n        if (this.caseSensitive) {\n            return port;\n        }\n        return port.toLowerCase();\n    }\n    // ## Group graph changes into transactions\n    //\n    // If no transaction is explicitly opened, each call to\n    // the graph API will implicitly create a transaction for that change\n    startTransaction(id, metadata = {}) {\n        if (this.transaction.id) {\n            throw Error('Nested transactions not supported');\n        }\n        this.transaction.id = id;\n        this.transaction.depth = 1;\n        this.emit('startTransaction', id, metadata);\n        return this;\n    }\n    endTransaction(id, metadata = {}) {\n        if (!this.transaction.id) {\n            throw Error('Attempted to end non-existing transaction');\n        }\n        this.transaction.id = null;\n        this.transaction.depth = 0;\n        this.emit('endTransaction', id, metadata);\n        return this;\n    }\n    checkTransactionStart() {\n        if (!this.transaction.id) {\n            this.startTransaction('implicit');\n        }\n        else if (this.transaction.id === 'implicit') {\n            this.transaction.depth += 1;\n        }\n        return this;\n    }\n    checkTransactionEnd() {\n        if (this.transaction.id === 'implicit') {\n            this.transaction.depth -= 1;\n        }\n        if (this.transaction.depth === 0) {\n            this.endTransaction('implicit');\n        }\n        return this;\n    }\n    // ## Modifying Graph properties\n    //\n    // This method allows changing properties of the graph.\n    setProperties(properties) {\n        this.checkTransactionStart();\n        const before = clone(this.properties);\n        Object.keys(properties).forEach((item) => {\n            const val = properties[item];\n            this.properties[item] = val;\n        });\n        this.emit('changeProperties', this.properties, before);\n        this.checkTransactionEnd();\n        return this;\n    }\n    addInport(publicPort, nodeKey, portKey, metadata = {}) {\n        // Check that node exists\n        if (!this.getNode(nodeKey)) {\n            return this;\n        }\n        const portName = this.getPortName(publicPort);\n        this.checkTransactionStart();\n        this.inports[portName] = {\n            process: nodeKey,\n            port: this.getPortName(portKey),\n            metadata,\n        };\n        this.emit('addInport', portName, this.inports[portName]);\n        this.checkTransactionEnd();\n        return this;\n    }\n    removeInport(publicPort) {\n        const portName = this.getPortName(publicPort);\n        if (!this.inports[portName]) {\n            return this;\n        }\n        this.checkTransactionStart();\n        const port = this.inports[portName];\n        this.setInportMetadata(portName, {});\n        delete this.inports[portName];\n        this.emit('removeInport', portName, port);\n        this.checkTransactionEnd();\n        return this;\n    }\n    renameInport(oldPort, newPort) {\n        const oldPortName = this.getPortName(oldPort);\n        const newPortName = this.getPortName(newPort);\n        if (!this.inports[oldPortName]) {\n            return this;\n        }\n        if (newPortName === oldPortName) {\n            return this;\n        }\n        this.checkTransactionStart();\n        this.inports[newPortName] = this.inports[oldPortName];\n        delete this.inports[oldPortName];\n        this.emit('renameInport', oldPortName, newPortName);\n        this.checkTransactionEnd();\n        return this;\n    }\n    setInportMetadata(publicPort, metadata) {\n        const portName = this.getPortName(publicPort);\n        if (!this.inports[portName]) {\n            return this;\n        }\n        this.checkTransactionStart();\n        if (!this.inports[portName].metadata) {\n            this.inports[portName].metadata = {};\n        }\n        const before = clone(this.inports[portName].metadata);\n        Object.keys(metadata).forEach((item) => {\n            const val = metadata[item];\n            const existingMeta = this.inports[portName].metadata;\n            if (!existingMeta) {\n                return;\n            }\n            if (val != null) {\n                existingMeta[item] = val;\n            }\n            else {\n                delete existingMeta[item];\n            }\n        });\n        this.emit('changeInport', portName, this.inports[portName], before, metadata);\n        this.checkTransactionEnd();\n        return this;\n    }\n    addOutport(publicPort, nodeKey, portKey, metadata = {}) {\n        // Check that node exists\n        if (!this.getNode(nodeKey)) {\n            return this;\n        }\n        const portName = this.getPortName(publicPort);\n        this.checkTransactionStart();\n        this.outports[portName] = {\n            process: nodeKey,\n            port: this.getPortName(portKey),\n            metadata,\n        };\n        this.emit('addOutport', portName, this.outports[portName]);\n        this.checkTransactionEnd();\n        return this;\n    }\n    removeOutport(publicPort) {\n        const portName = this.getPortName(publicPort);\n        if (!this.outports[portName]) {\n            return this;\n        }\n        this.checkTransactionStart();\n        const port = this.outports[portName];\n        this.setOutportMetadata(portName, {});\n        delete this.outports[portName];\n        this.emit('removeOutport', portName, port);\n        this.checkTransactionEnd();\n        return this;\n    }\n    renameOutport(oldPort, newPort) {\n        const oldPortName = this.getPortName(oldPort);\n        const newPortName = this.getPortName(newPort);\n        if (!this.outports[oldPortName]) {\n            return this;\n        }\n        this.checkTransactionStart();\n        this.outports[newPortName] = this.outports[oldPortName];\n        delete this.outports[oldPortName];\n        this.emit('renameOutport', oldPortName, newPortName);\n        this.checkTransactionEnd();\n        return this;\n    }\n    setOutportMetadata(publicPort, metadata) {\n        const portName = this.getPortName(publicPort);\n        if (!this.outports[portName]) {\n            return this;\n        }\n        this.checkTransactionStart();\n        const before = clone(this.outports[portName].metadata);\n        if (!this.outports[portName].metadata) {\n            this.outports[portName].metadata = {};\n        }\n        Object.keys(metadata).forEach((item) => {\n            const val = metadata[item];\n            const existingMeta = this.outports[portName].metadata;\n            if (!existingMeta) {\n                return;\n            }\n            if (val != null) {\n                existingMeta[item] = val;\n            }\n            else {\n                delete existingMeta[item];\n            }\n        });\n        this.emit('changeOutport', portName, this.outports[portName], before, metadata);\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Grouping nodes in a graph\n    //\n    addGroup(group, nodes, metadata) {\n        this.checkTransactionStart();\n        const g = {\n            name: group,\n            nodes,\n            metadata,\n        };\n        this.groups.push(g);\n        this.emit('addGroup', g);\n        this.checkTransactionEnd();\n        return this;\n    }\n    renameGroup(oldName, newName) {\n        this.checkTransactionStart();\n        this.groups.forEach((group) => {\n            if (!group) {\n                return;\n            }\n            if (group.name !== oldName) {\n                return;\n            }\n            const g = group;\n            g.name = newName;\n            this.emit('renameGroup', oldName, newName);\n        });\n        this.checkTransactionEnd();\n        return this;\n    }\n    removeGroup(groupName) {\n        this.checkTransactionStart();\n        this.groups = this.groups.filter((group) => {\n            if (!group) {\n                return false;\n            }\n            if (group.name !== groupName) {\n                return true;\n            }\n            this.setGroupMetadata(group.name, {});\n            this.emit('removeGroup', group);\n            return false;\n        });\n        this.checkTransactionEnd();\n        return this;\n    }\n    setGroupMetadata(groupName, metadata) {\n        this.checkTransactionStart();\n        this.groups.forEach((group) => {\n            if (!group) {\n                return;\n            }\n            if (group.name !== groupName) {\n                return;\n            }\n            const before = clone(group.metadata);\n            Object.keys(metadata).forEach((item) => {\n                const val = metadata[item];\n                const g = group;\n                if (!g.metadata) {\n                    return;\n                }\n                if (val != null) {\n                    g.metadata[item] = val;\n                }\n                else {\n                    delete g.metadata[item];\n                }\n            });\n            this.emit('changeGroup', group, before, metadata);\n        });\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Adding a node to the graph\n    //\n    // Nodes are identified by an ID unique to the graph. Additionally,\n    // a node may contain information on what FBP component it is and\n    // possible display coordinates.\n    //\n    // For example:\n    //\n    //     myGraph.addNode 'Read, 'ReadFile',\n    //       x: 91\n    //       y: 154\n    //\n    // Addition of a node will emit the `addNode` event.\n    addNode(id, component, metadata = {}) {\n        this.checkTransactionStart();\n        const node = {\n            id,\n            component,\n            metadata,\n        };\n        this.nodes.push(node);\n        this.emit('addNode', node);\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Removing a node from the graph\n    //\n    // Existing nodes can be removed from a graph by their ID. This\n    // will remove the node and also remove all edges connected to it.\n    //\n    //     myGraph.removeNode 'Read'\n    //\n    // Once the node has been removed, the `removeNode` event will be\n    // emitted.\n    removeNode(id) {\n        const node = this.getNode(id);\n        if (!node) {\n            return this;\n        }\n        this.checkTransactionStart();\n        this.edges.forEach((edge) => {\n            if ((edge.from.node === node.id) || (edge.to.node === node.id)) {\n                this.removeEdge(edge.from.node, edge.from.port, edge.to.node, edge.to.port);\n            }\n        });\n        this.initializers.forEach((initializer) => {\n            if (initializer.to.node === node.id) {\n                this.removeInitial(initializer.to.node, initializer.to.port);\n            }\n        });\n        Object.keys(this.inports).forEach((pub) => {\n            const priv = this.inports[pub];\n            if (priv.process === id) {\n                this.removeInport(pub);\n            }\n        });\n        Object.keys(this.outports).forEach((pub) => {\n            const priv = this.outports[pub];\n            if (priv.process === id) {\n                this.removeOutport(pub);\n            }\n        });\n        this.groups.forEach((group) => {\n            if (!group) {\n                return;\n            }\n            const index = group.nodes.indexOf(id);\n            if (index === -1) {\n                return;\n            }\n            group.nodes.splice(index, 1);\n            if (group.nodes.length === 0) {\n                // Don't leave empty groups behind\n                this.removeGroup(group.name);\n            }\n        });\n        this.setNodeMetadata(id, {});\n        this.nodes = this.nodes.filter((n) => n !== node);\n        this.emit('removeNode', node);\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Getting a node\n    //\n    // Nodes objects can be retrieved from the graph by their ID:\n    //\n    //     myNode = myGraph.getNode 'Read'\n    getNode(id) {\n        const node = this.nodes.find((node) => node && node.id === id);\n        if (!node) {\n            return null;\n        }\n        return node;\n    }\n    // ## Renaming a node\n    //\n    // Nodes IDs can be changed by calling this method.\n    renameNode(oldId, newId) {\n        this.checkTransactionStart();\n        const node = this.getNode(oldId);\n        if (!node) {\n            return this;\n        }\n        node.id = newId;\n        this.edges.forEach((e) => {\n            const edge = e;\n            if (!edge) {\n                return;\n            }\n            if (edge.from.node === oldId) {\n                edge.from.node = newId;\n            }\n            if (edge.to.node === oldId) {\n                edge.to.node = newId;\n            }\n        });\n        this.initializers.forEach((i) => {\n            const iip = i;\n            if (!iip) {\n                return;\n            }\n            if (iip.to.node === oldId) {\n                iip.to.node = newId;\n            }\n        });\n        Object.keys(this.inports).forEach((pub) => {\n            const priv = this.inports[pub];\n            if (priv.process === oldId) {\n                priv.process = newId;\n            }\n        });\n        Object.keys(this.outports).forEach((pub) => {\n            const priv = this.outports[pub];\n            if (priv.process === oldId) {\n                priv.process = newId;\n            }\n        });\n        this.groups.forEach((group) => {\n            if (!group) {\n                return;\n            }\n            const index = group.nodes.indexOf(oldId);\n            if (index === -1) {\n                return;\n            }\n            const g = group;\n            g.nodes[index] = newId;\n        });\n        this.emit('renameNode', oldId, newId);\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Changing a node's metadata\n    //\n    // Node metadata can be set or changed by calling this method.\n    setNodeMetadata(id, metadata) {\n        const node = this.getNode(id);\n        if (!node) {\n            return this;\n        }\n        this.checkTransactionStart();\n        if (!node.metadata) {\n            node.metadata = {};\n        }\n        const before = clone(node.metadata);\n        Object.keys(metadata).forEach((item) => {\n            if (!node.metadata) {\n                return;\n            }\n            const val = metadata[item];\n            if (val != null) {\n                node.metadata[item] = val;\n            }\n            else {\n                delete node.metadata[item];\n            }\n        });\n        this.emit('changeNode', node, before, metadata);\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Connecting nodes\n    //\n    // Nodes can be connected by adding edges between a node's outport\n    // and another node's inport:\n    //\n    //     myGraph.addEdge 'Read', 'out', 'Display', 'in'\n    //     myGraph.addEdgeIndex 'Read', 'out', null, 'Display', 'in', 2\n    //\n    // Adding an edge will emit the `addEdge` event.\n    addEdge(outNode, outPort, inNode, inPort, metadata = {}) {\n        const outPortName = this.getPortName(outPort);\n        const inPortName = this.getPortName(inPort);\n        if (this.edges.some((edge) => {\n            // don't add a duplicate edge\n            if ((edge.from.node === outNode)\n                && (edge.from.port === outPortName)\n                && (edge.to.node === inNode)\n                && (edge.to.port === inPortName)) {\n                return true;\n            }\n            return false;\n        })) {\n            return this;\n        }\n        if (!this.getNode(outNode)) {\n            return this;\n        }\n        if (!this.getNode(inNode)) {\n            return this;\n        }\n        this.checkTransactionStart();\n        const edge = {\n            from: {\n                node: outNode,\n                port: outPortName,\n            },\n            to: {\n                node: inNode,\n                port: inPortName,\n            },\n            metadata,\n        };\n        this.edges.push(edge);\n        this.emit('addEdge', edge);\n        this.checkTransactionEnd();\n        return this;\n    }\n    // Adding an edge will emit the `addEdge` event.\n    addEdgeIndex(outNode, outPort, outIndex, inNode, inPort, inIndex, metadata = {}) {\n        const outPortName = this.getPortName(outPort);\n        const inPortName = this.getPortName(inPort);\n        const inIndexVal = (inIndex === null) ? undefined : inIndex;\n        const outIndexVal = (outIndex === null) ? undefined : outIndex;\n        if (this.edges.some((edge) => {\n            // don't add a duplicate edge\n            if ((edge.from.node === outNode)\n                && (edge.from.port === outPortName)\n                && (edge.from.index === outIndexVal)\n                && (edge.to.node === inNode)\n                && (edge.to.port === inPortName)\n                && (edge.to.index === inIndexVal)) {\n                return true;\n            }\n            return false;\n        })) {\n            return this;\n        }\n        if (!this.getNode(outNode)) {\n            return this;\n        }\n        if (!this.getNode(inNode)) {\n            return this;\n        }\n        this.checkTransactionStart();\n        const edge = {\n            from: {\n                node: outNode,\n                port: outPortName,\n                index: outIndexVal,\n            },\n            to: {\n                node: inNode,\n                port: inPortName,\n                index: inIndexVal,\n            },\n            metadata,\n        };\n        this.edges.push(edge);\n        this.emit('addEdge', edge);\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Disconnected nodes\n    //\n    // Connections between nodes can be removed by providing the\n    // nodes and ports to disconnect.\n    //\n    //     myGraph.removeEdge 'Display', 'out', 'Foo', 'in'\n    //\n    // Removing a connection will emit the `removeEdge` event.\n    removeEdge(node, port, node2, port2) {\n        if (!this.getEdge(node, port, node2, port2)) {\n            return this;\n        }\n        this.checkTransactionStart();\n        const outPort = this.getPortName(port);\n        const inPort = this.getPortName(port2);\n        this.edges = this.edges.filter((edge) => {\n            if (node2 && inPort) {\n                if ((edge.from.node === node)\n                    && (edge.from.port === outPort)\n                    && (edge.to.node === node2)\n                    && (edge.to.port === inPort)) {\n                    this.setEdgeMetadata(edge.from.node, edge.from.port, edge.to.node, edge.to.port, {});\n                    this.emit('removeEdge', edge);\n                    return false;\n                }\n            }\n            else if (((edge.from.node === node) && (edge.from.port === outPort))\n                || ((edge.to.node === node) && (edge.to.port === outPort))) {\n                this.setEdgeMetadata(edge.from.node, edge.from.port, edge.to.node, edge.to.port, {});\n                this.emit('removeEdge', edge);\n                return false;\n            }\n            return true;\n        });\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Getting an edge\n    //\n    // Edge objects can be retrieved from the graph by the node and port IDs:\n    //\n    //     myEdge = myGraph.getEdge 'Read', 'out', 'Write', 'in'\n    getEdge(node, port, node2, port2) {\n        const outPort = this.getPortName(port);\n        const inPort = this.getPortName(port2);\n        const edge = this.edges.find((edge) => {\n            if (!edge) {\n                return false;\n            }\n            if (edge.from.node === node\n                && edge.from.port === outPort\n                && edge.to.node === node2\n                && edge.to.port === inPort) {\n                return true;\n            }\n            return false;\n        });\n        if (!edge) {\n            return null;\n        }\n        return edge;\n    }\n    // ## Changing an edge's metadata\n    //\n    // Edge metadata can be set or changed by calling this method.\n    setEdgeMetadata(node, port, node2, port2, metadata) {\n        const edge = this.getEdge(node, port, node2, port2);\n        if (!edge) {\n            return this;\n        }\n        this.checkTransactionStart();\n        if (!edge.metadata) {\n            edge.metadata = {};\n        }\n        const before = clone(edge.metadata);\n        Object.keys(metadata).forEach((item) => {\n            const val = metadata[item];\n            if (!edge.metadata) {\n                edge.metadata = {};\n            }\n            if (val !== null) {\n                edge.metadata[item] = val;\n            }\n            else {\n                delete edge.metadata[item];\n            }\n        });\n        this.emit('changeEdge', edge, before, metadata);\n        this.checkTransactionEnd();\n        return this;\n    }\n    // ## Adding Initial Information Packets\n    //\n    // Initial Information Packets (IIPs) can be used for sending data\n    // to specified node inports without a sending node instance.\n    //\n    // IIPs are especially useful for sending configuration information\n    // to components at FBP network start-up time. This could include\n    // filenames to read, or network ports to listen to.\n    //\n    //     myGraph.addInitial 'somefile.txt', 'Read', 'source'\n    //     myGraph.addInitialIndex 'somefile.txt', 'Read', 'source', 2\n    //\n    // If inports are defined on the graph, IIPs can be applied calling\n    // the `addGraphInitial` or `addGraphInitialIndex` methods.\n    //\n    //     myGraph.addGraphInitial 'somefile.txt', 'file'\n    //     myGraph.addGraphInitialIndex 'somefile.txt', 'file', 2\n    //\n    // Adding an IIP will emit a `addInitial` event.\n    addInitial(data, node, port, metadata = {}) {\n        if (!this.getNode(node)) {\n            return this;\n        }\n        const portName = this.getPortName(port);\n        this.checkTransactionStart();\n        const initializer = {\n            from: {\n                data,\n            },\n            to: {\n                node,\n                port: portName,\n            },\n            metadata,\n        };\n        this.initializers.push(initializer);\n        this.emit('addInitial', initializer);\n        this.checkTransactionEnd();\n        return this;\n    }\n    addInitialIndex(data, node, port, index, metadata = {}) {\n        if (!this.getNode(node)) {\n            return this;\n        }\n        const indexVal = (index === null) ? undefined : index;\n        const portName = this.getPortName(port);\n        this.checkTransactionStart();\n        const initializer = {\n            from: {\n                data,\n            },\n            to: {\n                node,\n                port: portName,\n                index: indexVal,\n            },\n            metadata,\n        };\n        this.initializers.push(initializer);\n        this.emit('addInitial', initializer);\n        this.checkTransactionEnd();\n        return this;\n    }\n    addGraphInitial(data, node, metadata = {}) {\n        const inport = this.inports[node];\n        if (!inport) {\n            return this;\n        }\n        return this.addInitial(data, inport.process, inport.port, metadata);\n    }\n    addGraphInitialIndex(data, node, index, metadata = {}) {\n        const inport = this.inports[node];\n        if (!inport) {\n            return this;\n        }\n        return this.addInitialIndex(data, inport.process, inport.port, index, metadata);\n    }\n    // ## Removing Initial Information Packets\n    //\n    // IIPs can be removed by calling the `removeInitial` method.\n    //\n    //     myGraph.removeInitial 'Read', 'source'\n    //\n    // If the IIP was applied via the `addGraphInitial` or\n    // `addGraphInitialIndex` functions, it can be removed using\n    // the `removeGraphInitial` method.\n    //\n    //     myGraph.removeGraphInitial 'file'\n    //\n    // Remove an IIP will emit a `removeInitial` event.\n    removeInitial(node, port) {\n        const portName = this.getPortName(port);\n        this.checkTransactionStart();\n        this.initializers = this.initializers.filter((iip) => {\n            if (iip.to.node === node && iip.to.port === portName) {\n                this.emit('removeInitial', iip);\n                return false;\n            }\n            return true;\n        });\n        this.checkTransactionEnd();\n        return this;\n    }\n    removeGraphInitial(node) {\n        const inport = this.inports[node];\n        if (!inport) {\n            return this;\n        }\n        this.removeInitial(inport.process, inport.port);\n        return this;\n    }\n    toDOT() {\n        const cleanId = (id) => id.replace(/\"/g, '\\\\\"');\n        const cleanPort = (port) => port.replace(/\\./g, '');\n        const wrapQuotes = (id) => `\"${cleanId(id)}\"`;\n        let dot = 'digraph {\\n';\n        this.nodes.forEach((node) => {\n            dot += `    ${wrapQuotes(node.id)} [label=${wrapQuotes(node.id)} shape=box]\\n`;\n        });\n        this.initializers.forEach((initializer, id) => {\n            let data;\n            if (typeof initializer.from.data === 'function') {\n                data = 'Function';\n            }\n            else {\n                data = JSON.stringify(initializer.from.data);\n            }\n            dot += `    data${id} [label=${wrapQuotes(data)} shape=plaintext]\\n`;\n            dot += `    data${id} -> ${wrapQuotes(initializer.to.node)}[headlabel=${cleanPort(initializer.to.port)} labelfontcolor=blue labelfontsize=8.0]\\n`;\n        });\n        this.edges.forEach((edge) => {\n            dot += `    ${wrapQuotes(edge.from.node)} -> ${wrapQuotes(edge.to.node)}[taillabel=${cleanPort(edge.from.port)} headlabel=${cleanPort(edge.to.port)} labelfontcolor=blue labelfontsize=8.0]\\n`;\n        });\n        dot += '}';\n        return dot;\n    }\n    toYUML() {\n        const yuml = [];\n        this.initializers.forEach((initializer) => {\n            yuml.push(`(start)[${initializer.to.port}]->(${initializer.to.node})`);\n        });\n        this.edges.forEach((edge) => {\n            yuml.push(`(${edge.from.node})[${edge.from.port}]->(${edge.to.node})`);\n        });\n        return yuml.join(',');\n    }\n    toJSON() {\n        const json = {\n            caseSensitive: this.caseSensitive,\n            properties: {\n                name: this.name,\n                ...this.properties,\n            },\n            inports: {\n                ...this.inports,\n            },\n            outports: {\n                ...this.outports,\n            },\n            groups: this.groups.map((group) => {\n                const groupData = {\n                    name: group.name,\n                    nodes: group.nodes,\n                };\n                if (group.metadata && Object.keys(group.metadata).length) {\n                    groupData.metadata = {\n                        ...group.metadata,\n                    };\n                }\n                return groupData;\n            }),\n            processes: {},\n            connections: [],\n        };\n        if (json && json.properties) {\n            delete json.properties.baseDir;\n            delete json.properties.componentLoader;\n        }\n        this.nodes.forEach((node) => {\n            if (!json.processes) {\n                json.processes = {};\n            }\n            json.processes[node.id] = {\n                component: node.component,\n            };\n            if (node.metadata) {\n                json.processes[node.id].metadata = {\n                    ...node.metadata,\n                };\n            }\n        });\n        this.edges.forEach((edge) => {\n            const connection = {\n                src: {\n                    process: edge.from.node,\n                    port: edge.from.port,\n                    index: edge.from.index,\n                },\n                tgt: {\n                    process: edge.to.node,\n                    port: edge.to.port,\n                    index: edge.to.index,\n                },\n            };\n            if (edge.metadata && Object.keys(edge.metadata).length) {\n                connection.metadata = {\n                    ...edge.metadata,\n                };\n            }\n            if (!json.connections) {\n                json.connections = [];\n            }\n            json.connections.push(connection);\n        });\n        this.initializers.forEach((initializer) => {\n            const iip = {\n                data: initializer.from.data,\n                tgt: {\n                    process: initializer.to.node,\n                    port: initializer.to.port,\n                    index: initializer.to.index,\n                },\n            };\n            if (initializer.metadata && Object.keys(initializer.metadata).length) {\n                iip.metadata = {\n                    ...initializer.metadata,\n                };\n            }\n            if (!json.connections) {\n                json.connections = [];\n            }\n            json.connections.push(iip);\n        });\n        return json;\n    }\n    save(file, callback) {\n        let promise;\n        if (Platform_1.isBrowser()) {\n            promise = Promise.reject(new Error('Saving graphs not supported on browser'));\n        }\n        else {\n            promise = new Promise((resolve, reject) => {\n                const json = JSON.stringify(this.toJSON(), null, 4);\n                let filename = file;\n                if (!filename.match(/\\.json$/)) {\n                    filename = `${file}.json`;\n                }\n                fs_1.writeFile(filename, json, 'utf-8', (err) => {\n                    if (err) {\n                        reject(err);\n                        return;\n                    }\n                    resolve(filename);\n                });\n            });\n        }\n        if (callback) {\n            promise.then((filename) => {\n                callback(null, filename);\n            }, callback);\n            return;\n        }\n        return promise;\n    }\n}\nexports.Graph = Graph;\nfunction createGraph(name, options) {\n    return new Graph(name, options);\n}\nexports.createGraph = createGraph;\n;\nfunction loadJSON(passedDefinition, callback, metadata = {}) {\n    const promise = new Promise((resolve) => {\n        let definition;\n        if (typeof passedDefinition === 'string') {\n            definition = JSON.parse(passedDefinition);\n        }\n        else {\n            definition = clone(passedDefinition);\n        }\n        if (!definition.properties) {\n            definition.properties = {};\n        }\n        if (!definition.processes) {\n            definition.processes = {};\n        }\n        if (!definition.connections) {\n            definition.connections = [];\n        }\n        const graph = new Graph(definition.properties.name, {\n            caseSensitive: definition.caseSensitive || false,\n        });\n        graph.startTransaction('loadJSON', metadata);\n        const properties = {};\n        Object.keys(definition.properties).forEach((property) => {\n            if (property === 'name') {\n                return;\n            }\n            if (!definition.properties) {\n                return;\n            }\n            const value = definition.properties[property];\n            properties[property] = value;\n        });\n        graph.setProperties(properties);\n        Object.keys(definition.processes).forEach((id) => {\n            if (!definition.processes) {\n                return;\n            }\n            const def = definition.processes[id];\n            if (!def.metadata) {\n                def.metadata = {};\n            }\n            graph.addNode(id, def.component, def.metadata);\n        });\n        definition.connections.forEach((conn) => {\n            const meta = conn.metadata ? conn.metadata : {};\n            if (typeof conn.data !== 'undefined') {\n                if (typeof conn.tgt.index === 'number') {\n                    graph.addInitialIndex(conn.data, conn.tgt.process, graph.getPortName(conn.tgt.port), conn.tgt.index, meta);\n                }\n                else {\n                    graph.addInitial(conn.data, conn.tgt.process, graph.getPortName(conn.tgt.port), meta);\n                }\n                return;\n            }\n            if (typeof conn.src === 'undefined') {\n                return;\n            }\n            if ((typeof conn.src.index === 'number') || (typeof conn.tgt.index === 'number')) {\n                graph.addEdgeIndex(conn.src.process, graph.getPortName(conn.src.port), conn.src.index, conn.tgt.process, graph.getPortName(conn.tgt.port), conn.tgt.index, meta);\n                return;\n            }\n            graph.addEdge(conn.src.process, graph.getPortName(conn.src.port), conn.tgt.process, graph.getPortName(conn.tgt.port), meta);\n        });\n        if (definition.inports) {\n            Object.keys(definition.inports).forEach((pub) => {\n                if (!definition.inports || !definition.inports[pub]) {\n                    return;\n                }\n                const priv = definition.inports[pub];\n                graph.addInport(pub, priv.process, graph.getPortName(priv.port), priv.metadata || {});\n            });\n        }\n        if (definition.outports) {\n            Object.keys(definition.outports).forEach((pub) => {\n                if (!definition.outports || !definition.outports[pub]) {\n                    return;\n                }\n                const priv = definition.outports[pub];\n                graph.addOutport(pub, priv.process, graph.getPortName(priv.port), priv.metadata || {});\n            });\n        }\n        if (definition.groups) {\n            definition.groups.forEach((group) => {\n                graph.addGroup(group.name, group.nodes, group.metadata || {});\n            });\n        }\n        graph.endTransaction('loadJSON');\n        resolve(graph);\n    });\n    if (callback) {\n        promise.then((graph) => {\n            callback(null, graph);\n        }, callback);\n    }\n    return promise;\n}\nexports.loadJSON = loadJSON;\nfunction loadFBP(fbpData, callback, metadata = {}, caseSensitive = false) {\n    const promise = new Promise((resolve) => {\n        // eslint-disable-next-line global-require\n        resolve(require('fbp').parse(fbpData, { caseSensitive }));\n    })\n        .then((def) => loadJSON(def));\n    if (callback) {\n        promise.then((graph) => {\n            callback(null, graph);\n        }, callback);\n    }\n    return promise;\n}\nexports.loadFBP = loadFBP;\nfunction loadHTTP(url, callback) {\n    const promise = new Promise((resolve, reject) => {\n        const req = new XMLHttpRequest();\n        req.onreadystatechange = () => {\n            if (req.readyState !== 4) {\n                return;\n            }\n            if (req.status !== 200) {\n                reject(new Error(`Failed to load ${url}: HTTP ${req.status}`));\n                return;\n            }\n            resolve(req.responseText);\n        };\n        req.open('GET', url, true);\n        req.send();\n    });\n    if (callback) {\n        promise.then((content) => {\n            callback(null, content);\n        }, callback);\n    }\n    return promise;\n}\nfunction loadFile(file, callback, metadata = {}, caseSensitive = false) {\n    let ioPromise;\n    if (Platform_1.isBrowser()) {\n        // On browser we can try getting the file via AJAX\n        ioPromise = loadHTTP(file);\n    }\n    else {\n        ioPromise = new Promise((resolve, reject) => {\n            // Node.js graph file\n            fs_1.readFile(file, 'utf-8', (err, data) => {\n                if (err) {\n                    reject(err);\n                    return;\n                }\n                resolve(data);\n            });\n        });\n    }\n    const promise = ioPromise.then((content) => {\n        if (file.split('.').pop() === 'fbp') {\n            return loadFBP(content);\n        }\n        return loadJSON(content);\n    });\n    if (callback) {\n        promise.then((content) => {\n            callback(null, content);\n        }, callback);\n    }\n    return promise;\n}\nexports.loadFile = loadFile;\n// remove everything in the graph\nfunction resetGraph(graph) {\n    // Edges and similar first, to have control over the order\n    // If we'd do nodes first, it will implicitly delete edges\n    // Important to make journal transactions invertible\n    graph.groups.reverse();\n    graph.groups.forEach((group) => {\n        if (group != null) {\n            graph.removeGroup(group.name);\n        }\n    });\n    Object.keys(graph.outports).forEach((port) => {\n        graph.removeOutport(port);\n    });\n    Object.keys(graph.inports).forEach((port) => {\n        graph.removeInport(port);\n    });\n    graph.setProperties({});\n    graph.initializers.reverse();\n    graph.initializers.forEach((iip) => {\n        graph.removeInitial(iip.to.node, iip.to.port);\n    });\n    graph.edges.reverse();\n    graph.edges.forEach((edge) => {\n        graph.removeEdge(edge.from.node, edge.from.port, edge.to.node, edge.to.port);\n    });\n    graph.nodes.reverse();\n    graph.nodes.forEach((node) => {\n        graph.removeNode(node.id);\n    });\n}\n// Note: Caller should create transaction\n// First removes everything in @base, before building it up to mirror @to\nfunction mergeResolveTheirsNaive(base, to) {\n    resetGraph(base);\n    to.nodes.forEach((node) => {\n        base.addNode(node.id, node.component, node.metadata);\n    });\n    to.edges.forEach((edge) => {\n        base.addEdge(edge.from.node, edge.from.port, edge.to.node, edge.to.port, edge.metadata);\n    });\n    to.initializers.forEach((iip) => {\n        if (typeof iip.to.index === 'number') {\n            base.addInitialIndex(iip.from.data, iip.to.node, iip.to.port, iip.to.index, iip.metadata || {});\n            return;\n        }\n        base.addInitial(iip.from.data, iip.to.node, iip.to.port, iip.metadata || {});\n    });\n    base.setProperties(to.properties);\n    Object.keys(to.inports).forEach((pub) => {\n        const priv = to.inports[pub];\n        base.addInport(pub, priv.process, priv.port, priv.metadata || {});\n    });\n    Object.keys(to.outports).forEach((pub) => {\n        const priv = to.outports[pub];\n        base.addOutport(pub, priv.process, priv.port, priv.metadata || {});\n    });\n    to.groups.forEach((group) => {\n        base.addGroup(group.name, group.nodes, group.metadata || {});\n    });\n}\nexports.mergeResolveTheirs = mergeResolveTheirsNaive;\nfunction equivalent(a, b) {\n    // TODO: add option to only compare known fields\n    // TODO: add option to ignore metadata\n    return (JSON.stringify(a) === JSON.stringify(b));\n}\nexports.equivalent = equivalent;\n//# sourceMappingURL=Graph.js.map","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","/*\r\nAuthor: Geraint Luff and others\r\nYear: 2013\r\n\r\nThis code is released into the \"public domain\" by its author(s).  Anybody may use, alter and distribute the code without restriction.  The author makes no guarantees, and takes no liability of any kind for use of this code.\r\n\r\nIf you find a bug or make an improvement, it would be courteous to let the author know, but it is not compulsory.\r\n*/\r\n(function (global, factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n    // AMD. Register as an anonymous module.\r\n    define([], factory);\r\n  } else if (typeof module !== 'undefined' && module.exports){\r\n    // CommonJS. Define export.\r\n    module.exports = factory();\r\n  } else {\r\n    // Browser globals\r\n    global.tv4 = factory();\r\n  }\r\n}(this, function () {\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FObject%2Fkeys\r\nif (!Object.keys) {\r\n\tObject.keys = (function () {\r\n\t\tvar hasOwnProperty = Object.prototype.hasOwnProperty,\r\n\t\t\thasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),\r\n\t\t\tdontEnums = [\r\n\t\t\t\t'toString',\r\n\t\t\t\t'toLocaleString',\r\n\t\t\t\t'valueOf',\r\n\t\t\t\t'hasOwnProperty',\r\n\t\t\t\t'isPrototypeOf',\r\n\t\t\t\t'propertyIsEnumerable',\r\n\t\t\t\t'constructor'\r\n\t\t\t],\r\n\t\t\tdontEnumsLength = dontEnums.length;\r\n\r\n\t\treturn function (obj) {\r\n\t\t\tif (typeof obj !== 'object' && typeof obj !== 'function' || obj === null) {\r\n\t\t\t\tthrow new TypeError('Object.keys called on non-object');\r\n\t\t\t}\r\n\r\n\t\t\tvar result = [];\r\n\r\n\t\t\tfor (var prop in obj) {\r\n\t\t\t\tif (hasOwnProperty.call(obj, prop)) {\r\n\t\t\t\t\tresult.push(prop);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (hasDontEnumBug) {\r\n\t\t\t\tfor (var i=0; i < dontEnumsLength; i++) {\r\n\t\t\t\t\tif (hasOwnProperty.call(obj, dontEnums[i])) {\r\n\t\t\t\t\t\tresult.push(dontEnums[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t};\r\n\t})();\r\n}\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\r\nif (!Object.create) {\r\n\tObject.create = (function(){\r\n\t\tfunction F(){}\r\n\r\n\t\treturn function(o){\r\n\t\t\tif (arguments.length !== 1) {\r\n\t\t\t\tthrow new Error('Object.create implementation only accepts one parameter.');\r\n\t\t\t}\r\n\t\t\tF.prototype = o;\r\n\t\t\treturn new F();\r\n\t\t};\r\n\t})();\r\n}\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FisArray\r\nif(!Array.isArray) {\r\n\tArray.isArray = function (vArg) {\r\n\t\treturn Object.prototype.toString.call(vArg) === \"[object Array]\";\r\n\t};\r\n}\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FindexOf\r\nif (!Array.prototype.indexOf) {\r\n\tArray.prototype.indexOf = function (searchElement /*, fromIndex */ ) {\r\n\t\tif (this === null) {\r\n\t\t\tthrow new TypeError();\r\n\t\t}\r\n\t\tvar t = Object(this);\r\n\t\tvar len = t.length >>> 0;\r\n\r\n\t\tif (len === 0) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\tvar n = 0;\r\n\t\tif (arguments.length > 1) {\r\n\t\t\tn = Number(arguments[1]);\r\n\t\t\tif (n !== n) { // shortcut for verifying if it's NaN\r\n\t\t\t\tn = 0;\r\n\t\t\t} else if (n !== 0 && n !== Infinity && n !== -Infinity) {\r\n\t\t\t\tn = (n > 0 || -1) * Math.floor(Math.abs(n));\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (n >= len) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\tvar k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);\r\n\t\tfor (; k < len; k++) {\r\n\t\t\tif (k in t && t[k] === searchElement) {\r\n\t\t\t\treturn k;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t};\r\n}\r\n\r\n// Grungey Object.isFrozen hack\r\nif (!Object.isFrozen) {\r\n\tObject.isFrozen = function (obj) {\r\n\t\tvar key = \"tv4_test_frozen_key\";\r\n\t\twhile (obj.hasOwnProperty(key)) {\r\n\t\t\tkey += Math.random();\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tobj[key] = true;\r\n\t\t\tdelete obj[key];\r\n\t\t\treturn false;\r\n\t\t} catch (e) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t};\r\n}\r\n// Based on: https://github.com/geraintluff/uri-templates, but with all the de-substitution stuff removed\r\n\r\nvar uriTemplateGlobalModifiers = {\r\n\t\"+\": true,\r\n\t\"#\": true,\r\n\t\".\": true,\r\n\t\"/\": true,\r\n\t\";\": true,\r\n\t\"?\": true,\r\n\t\"&\": true\r\n};\r\nvar uriTemplateSuffices = {\r\n\t\"*\": true\r\n};\r\n\r\nfunction notReallyPercentEncode(string) {\r\n\treturn encodeURI(string).replace(/%25[0-9][0-9]/g, function (doubleEncoded) {\r\n\t\treturn \"%\" + doubleEncoded.substring(3);\r\n\t});\r\n}\r\n\r\nfunction uriTemplateSubstitution(spec) {\r\n\tvar modifier = \"\";\r\n\tif (uriTemplateGlobalModifiers[spec.charAt(0)]) {\r\n\t\tmodifier = spec.charAt(0);\r\n\t\tspec = spec.substring(1);\r\n\t}\r\n\tvar separator = \"\";\r\n\tvar prefix = \"\";\r\n\tvar shouldEscape = true;\r\n\tvar showVariables = false;\r\n\tvar trimEmptyString = false;\r\n\tif (modifier === '+') {\r\n\t\tshouldEscape = false;\r\n\t} else if (modifier === \".\") {\r\n\t\tprefix = \".\";\r\n\t\tseparator = \".\";\r\n\t} else if (modifier === \"/\") {\r\n\t\tprefix = \"/\";\r\n\t\tseparator = \"/\";\r\n\t} else if (modifier === '#') {\r\n\t\tprefix = \"#\";\r\n\t\tshouldEscape = false;\r\n\t} else if (modifier === ';') {\r\n\t\tprefix = \";\";\r\n\t\tseparator = \";\";\r\n\t\tshowVariables = true;\r\n\t\ttrimEmptyString = true;\r\n\t} else if (modifier === '?') {\r\n\t\tprefix = \"?\";\r\n\t\tseparator = \"&\";\r\n\t\tshowVariables = true;\r\n\t} else if (modifier === '&') {\r\n\t\tprefix = \"&\";\r\n\t\tseparator = \"&\";\r\n\t\tshowVariables = true;\r\n\t}\r\n\r\n\tvar varNames = [];\r\n\tvar varList = spec.split(\",\");\r\n\tvar varSpecs = [];\r\n\tvar varSpecMap = {};\r\n\tfor (var i = 0; i < varList.length; i++) {\r\n\t\tvar varName = varList[i];\r\n\t\tvar truncate = null;\r\n\t\tif (varName.indexOf(\":\") !== -1) {\r\n\t\t\tvar parts = varName.split(\":\");\r\n\t\t\tvarName = parts[0];\r\n\t\t\ttruncate = parseInt(parts[1], 10);\r\n\t\t}\r\n\t\tvar suffices = {};\r\n\t\twhile (uriTemplateSuffices[varName.charAt(varName.length - 1)]) {\r\n\t\t\tsuffices[varName.charAt(varName.length - 1)] = true;\r\n\t\t\tvarName = varName.substring(0, varName.length - 1);\r\n\t\t}\r\n\t\tvar varSpec = {\r\n\t\t\ttruncate: truncate,\r\n\t\t\tname: varName,\r\n\t\t\tsuffices: suffices\r\n\t\t};\r\n\t\tvarSpecs.push(varSpec);\r\n\t\tvarSpecMap[varName] = varSpec;\r\n\t\tvarNames.push(varName);\r\n\t}\r\n\tvar subFunction = function (valueFunction) {\r\n\t\tvar result = \"\";\r\n\t\tvar startIndex = 0;\r\n\t\tfor (var i = 0; i < varSpecs.length; i++) {\r\n\t\t\tvar varSpec = varSpecs[i];\r\n\t\t\tvar value = valueFunction(varSpec.name);\r\n\t\t\tif (value === null || value === undefined || (Array.isArray(value) && value.length === 0) || (typeof value === 'object' && Object.keys(value).length === 0)) {\r\n\t\t\t\tstartIndex++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (i === startIndex) {\r\n\t\t\t\tresult += prefix;\r\n\t\t\t} else {\r\n\t\t\t\tresult += (separator || \",\");\r\n\t\t\t}\r\n\t\t\tif (Array.isArray(value)) {\r\n\t\t\t\tif (showVariables) {\r\n\t\t\t\t\tresult += varSpec.name + \"=\";\r\n\t\t\t\t}\r\n\t\t\t\tfor (var j = 0; j < value.length; j++) {\r\n\t\t\t\t\tif (j > 0) {\r\n\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\r\n\t\t\t\t\t\tif (varSpec.suffices['*'] && showVariables) {\r\n\t\t\t\t\t\t\tresult += varSpec.name + \"=\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[j]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[j]);\r\n\t\t\t\t}\r\n\t\t\t} else if (typeof value === \"object\") {\r\n\t\t\t\tif (showVariables && !varSpec.suffices['*']) {\r\n\t\t\t\t\tresult += varSpec.name + \"=\";\r\n\t\t\t\t}\r\n\t\t\t\tvar first = true;\r\n\t\t\t\tfor (var key in value) {\r\n\t\t\t\t\tif (!first) {\r\n\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfirst = false;\r\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(key).replace(/!/g, \"%21\") : notReallyPercentEncode(key);\r\n\t\t\t\t\tresult += varSpec.suffices['*'] ? '=' : \",\";\r\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[key]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[key]);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (showVariables) {\r\n\t\t\t\t\tresult += varSpec.name;\r\n\t\t\t\t\tif (!trimEmptyString || value !== \"\") {\r\n\t\t\t\t\t\tresult += \"=\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (varSpec.truncate != null) {\r\n\t\t\t\t\tvalue = value.substring(0, varSpec.truncate);\r\n\t\t\t\t}\r\n\t\t\t\tresult += shouldEscape ? encodeURIComponent(value).replace(/!/g, \"%21\"): notReallyPercentEncode(value);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tsubFunction.varNames = varNames;\r\n\treturn {\r\n\t\tprefix: prefix,\r\n\t\tsubstitution: subFunction\r\n\t};\r\n}\r\n\r\nfunction UriTemplate(template) {\r\n\tif (!(this instanceof UriTemplate)) {\r\n\t\treturn new UriTemplate(template);\r\n\t}\r\n\tvar parts = template.split(\"{\");\r\n\tvar textParts = [parts.shift()];\r\n\tvar prefixes = [];\r\n\tvar substitutions = [];\r\n\tvar varNames = [];\r\n\twhile (parts.length > 0) {\r\n\t\tvar part = parts.shift();\r\n\t\tvar spec = part.split(\"}\")[0];\r\n\t\tvar remainder = part.substring(spec.length + 1);\r\n\t\tvar funcs = uriTemplateSubstitution(spec);\r\n\t\tsubstitutions.push(funcs.substitution);\r\n\t\tprefixes.push(funcs.prefix);\r\n\t\ttextParts.push(remainder);\r\n\t\tvarNames = varNames.concat(funcs.substitution.varNames);\r\n\t}\r\n\tthis.fill = function (valueFunction) {\r\n\t\tvar result = textParts[0];\r\n\t\tfor (var i = 0; i < substitutions.length; i++) {\r\n\t\t\tvar substitution = substitutions[i];\r\n\t\t\tresult += substitution(valueFunction);\r\n\t\t\tresult += textParts[i + 1];\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\tthis.varNames = varNames;\r\n\tthis.template = template;\r\n}\r\nUriTemplate.prototype = {\r\n\ttoString: function () {\r\n\t\treturn this.template;\r\n\t},\r\n\tfillFromObject: function (obj) {\r\n\t\treturn this.fill(function (varName) {\r\n\t\t\treturn obj[varName];\r\n\t\t});\r\n\t}\r\n};\r\nvar ValidatorContext = function ValidatorContext(parent, collectMultiple, errorReporter, checkRecursive, trackUnknownProperties) {\r\n\tthis.missing = [];\r\n\tthis.missingMap = {};\r\n\tthis.formatValidators = parent ? Object.create(parent.formatValidators) : {};\r\n\tthis.schemas = parent ? Object.create(parent.schemas) : {};\r\n\tthis.collectMultiple = collectMultiple;\r\n\tthis.errors = [];\r\n\tthis.handleError = collectMultiple ? this.collectError : this.returnError;\r\n\tif (checkRecursive) {\r\n\t\tthis.checkRecursive = true;\r\n\t\tthis.scanned = [];\r\n\t\tthis.scannedFrozen = [];\r\n\t\tthis.scannedFrozenSchemas = [];\r\n\t\tthis.scannedFrozenValidationErrors = [];\r\n\t\tthis.validatedSchemasKey = 'tv4_validation_id';\r\n\t\tthis.validationErrorsKey = 'tv4_validation_errors_id';\r\n\t}\r\n\tif (trackUnknownProperties) {\r\n\t\tthis.trackUnknownProperties = true;\r\n\t\tthis.knownPropertyPaths = {};\r\n\t\tthis.unknownPropertyPaths = {};\r\n\t}\r\n\tthis.errorReporter = errorReporter || defaultErrorReporter('en');\r\n\tif (typeof this.errorReporter === 'string') {\r\n\t\tthrow new Error('debug');\r\n\t}\r\n\tthis.definedKeywords = {};\r\n\tif (parent) {\r\n\t\tfor (var key in parent.definedKeywords) {\r\n\t\t\tthis.definedKeywords[key] = parent.definedKeywords[key].slice(0);\r\n\t\t}\r\n\t}\r\n};\r\nValidatorContext.prototype.defineKeyword = function (keyword, keywordFunction) {\r\n\tthis.definedKeywords[keyword] = this.definedKeywords[keyword] || [];\r\n\tthis.definedKeywords[keyword].push(keywordFunction);\r\n};\r\nValidatorContext.prototype.createError = function (code, messageParams, dataPath, schemaPath, subErrors, data, schema) {\r\n\tvar error = new ValidationError(code, messageParams, dataPath, schemaPath, subErrors);\r\n\terror.message = this.errorReporter(error, data, schema);\r\n\treturn error;\r\n};\r\nValidatorContext.prototype.returnError = function (error) {\r\n\treturn error;\r\n};\r\nValidatorContext.prototype.collectError = function (error) {\r\n\tif (error) {\r\n\t\tthis.errors.push(error);\r\n\t}\r\n\treturn null;\r\n};\r\nValidatorContext.prototype.prefixErrors = function (startIndex, dataPath, schemaPath) {\r\n\tfor (var i = startIndex; i < this.errors.length; i++) {\r\n\t\tthis.errors[i] = this.errors[i].prefixWith(dataPath, schemaPath);\r\n\t}\r\n\treturn this;\r\n};\r\nValidatorContext.prototype.banUnknownProperties = function (data, schema) {\r\n\tfor (var unknownPath in this.unknownPropertyPaths) {\r\n\t\tvar error = this.createError(ErrorCodes.UNKNOWN_PROPERTY, {path: unknownPath}, unknownPath, \"\", null, data, schema);\r\n\t\tvar result = this.handleError(error);\r\n\t\tif (result) {\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.addFormat = function (format, validator) {\r\n\tif (typeof format === 'object') {\r\n\t\tfor (var key in format) {\r\n\t\t\tthis.addFormat(key, format[key]);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\tthis.formatValidators[format] = validator;\r\n};\r\nValidatorContext.prototype.resolveRefs = function (schema, urlHistory) {\r\n\tif (schema['$ref'] !== undefined) {\r\n\t\turlHistory = urlHistory || {};\r\n\t\tif (urlHistory[schema['$ref']]) {\r\n\t\t\treturn this.createError(ErrorCodes.CIRCULAR_REFERENCE, {urls: Object.keys(urlHistory).join(', ')}, '', '', null, undefined, schema);\r\n\t\t}\r\n\t\turlHistory[schema['$ref']] = true;\r\n\t\tschema = this.getSchema(schema['$ref'], urlHistory);\r\n\t}\r\n\treturn schema;\r\n};\r\nValidatorContext.prototype.getSchema = function (url, urlHistory) {\r\n\tvar schema;\r\n\tif (this.schemas[url] !== undefined) {\r\n\t\tschema = this.schemas[url];\r\n\t\treturn this.resolveRefs(schema, urlHistory);\r\n\t}\r\n\tvar baseUrl = url;\r\n\tvar fragment = \"\";\r\n\tif (url.indexOf('#') !== -1) {\r\n\t\tfragment = url.substring(url.indexOf(\"#\") + 1);\r\n\t\tbaseUrl = url.substring(0, url.indexOf(\"#\"));\r\n\t}\r\n\tif (typeof this.schemas[baseUrl] === 'object') {\r\n\t\tschema = this.schemas[baseUrl];\r\n\t\tvar pointerPath = decodeURIComponent(fragment);\r\n\t\tif (pointerPath === \"\") {\r\n\t\t\treturn this.resolveRefs(schema, urlHistory);\r\n\t\t} else if (pointerPath.charAt(0) !== \"/\") {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t\tvar parts = pointerPath.split(\"/\").slice(1);\r\n\t\tfor (var i = 0; i < parts.length; i++) {\r\n\t\t\tvar component = parts[i].replace(/~1/g, \"/\").replace(/~0/g, \"~\");\r\n\t\t\tif (schema[component] === undefined) {\r\n\t\t\t\tschema = undefined;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tschema = schema[component];\r\n\t\t}\r\n\t\tif (schema !== undefined) {\r\n\t\t\treturn this.resolveRefs(schema, urlHistory);\r\n\t\t}\r\n\t}\r\n\tif (this.missing[baseUrl] === undefined) {\r\n\t\tthis.missing.push(baseUrl);\r\n\t\tthis.missing[baseUrl] = baseUrl;\r\n\t\tthis.missingMap[baseUrl] = baseUrl;\r\n\t}\r\n};\r\nValidatorContext.prototype.searchSchemas = function (schema, url) {\r\n\tif (Array.isArray(schema)) {\r\n\t\tfor (var i = 0; i < schema.length; i++) {\r\n\t\t\tthis.searchSchemas(schema[i], url);\r\n\t\t}\r\n\t} else if (schema && typeof schema === \"object\") {\r\n\t\tif (typeof schema.id === \"string\") {\r\n\t\t\tif (isTrustedUrl(url, schema.id)) {\r\n\t\t\t\tif (this.schemas[schema.id] === undefined) {\r\n\t\t\t\t\tthis.schemas[schema.id] = schema;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (var key in schema) {\r\n\t\t\tif (key !== \"enum\") {\r\n\t\t\t\tif (typeof schema[key] === \"object\") {\r\n\t\t\t\t\tthis.searchSchemas(schema[key], url);\r\n\t\t\t\t} else if (key === \"$ref\") {\r\n\t\t\t\t\tvar uri = getDocumentUri(schema[key]);\r\n\t\t\t\t\tif (uri && this.schemas[uri] === undefined && this.missingMap[uri] === undefined) {\r\n\t\t\t\t\t\tthis.missingMap[uri] = uri;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\nValidatorContext.prototype.addSchema = function (url, schema) {\r\n\t//overload\r\n\tif (typeof url !== 'string' || typeof schema === 'undefined') {\r\n\t\tif (typeof url === 'object' && typeof url.id === 'string') {\r\n\t\t\tschema = url;\r\n\t\t\turl = schema.id;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\tif (url === getDocumentUri(url) + \"#\") {\r\n\t\t// Remove empty fragment\r\n\t\turl = getDocumentUri(url);\r\n\t}\r\n\tthis.schemas[url] = schema;\r\n\tdelete this.missingMap[url];\r\n\tnormSchema(schema, url);\r\n\tthis.searchSchemas(schema, url);\r\n};\r\n\r\nValidatorContext.prototype.getSchemaMap = function () {\r\n\tvar map = {};\r\n\tfor (var key in this.schemas) {\r\n\t\tmap[key] = this.schemas[key];\r\n\t}\r\n\treturn map;\r\n};\r\n\r\nValidatorContext.prototype.getSchemaUris = function (filterRegExp) {\r\n\tvar list = [];\r\n\tfor (var key in this.schemas) {\r\n\t\tif (!filterRegExp || filterRegExp.test(key)) {\r\n\t\t\tlist.push(key);\r\n\t\t}\r\n\t}\r\n\treturn list;\r\n};\r\n\r\nValidatorContext.prototype.getMissingUris = function (filterRegExp) {\r\n\tvar list = [];\r\n\tfor (var key in this.missingMap) {\r\n\t\tif (!filterRegExp || filterRegExp.test(key)) {\r\n\t\t\tlist.push(key);\r\n\t\t}\r\n\t}\r\n\treturn list;\r\n};\r\n\r\nValidatorContext.prototype.dropSchemas = function () {\r\n\tthis.schemas = {};\r\n\tthis.reset();\r\n};\r\nValidatorContext.prototype.reset = function () {\r\n\tthis.missing = [];\r\n\tthis.missingMap = {};\r\n\tthis.errors = [];\r\n};\r\n\r\nValidatorContext.prototype.validateAll = function (data, schema, dataPathParts, schemaPathParts, dataPointerPath) {\r\n\tvar topLevel;\r\n\tschema = this.resolveRefs(schema);\r\n\tif (!schema) {\r\n\t\treturn null;\r\n\t} else if (schema instanceof ValidationError) {\r\n\t\tthis.errors.push(schema);\r\n\t\treturn schema;\r\n\t}\r\n\r\n\tvar startErrorCount = this.errors.length;\r\n\tvar frozenIndex, scannedFrozenSchemaIndex = null, scannedSchemasIndex = null;\r\n\tif (this.checkRecursive && data && typeof data === 'object') {\r\n\t\ttopLevel = !this.scanned.length;\r\n\t\tif (data[this.validatedSchemasKey]) {\r\n\t\t\tvar schemaIndex = data[this.validatedSchemasKey].indexOf(schema);\r\n\t\t\tif (schemaIndex !== -1) {\r\n\t\t\t\tthis.errors = this.errors.concat(data[this.validationErrorsKey][schemaIndex]);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (Object.isFrozen(data)) {\r\n\t\t\tfrozenIndex = this.scannedFrozen.indexOf(data);\r\n\t\t\tif (frozenIndex !== -1) {\r\n\t\t\t\tvar frozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].indexOf(schema);\r\n\t\t\t\tif (frozenSchemaIndex !== -1) {\r\n\t\t\t\t\tthis.errors = this.errors.concat(this.scannedFrozenValidationErrors[frozenIndex][frozenSchemaIndex]);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.scanned.push(data);\r\n\t\tif (Object.isFrozen(data)) {\r\n\t\t\tif (frozenIndex === -1) {\r\n\t\t\t\tfrozenIndex = this.scannedFrozen.length;\r\n\t\t\t\tthis.scannedFrozen.push(data);\r\n\t\t\t\tthis.scannedFrozenSchemas.push([]);\r\n\t\t\t}\r\n\t\t\tscannedFrozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].length;\r\n\t\t\tthis.scannedFrozenSchemas[frozenIndex][scannedFrozenSchemaIndex] = schema;\r\n\t\t\tthis.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = [];\r\n\t\t} else {\r\n\t\t\tif (!data[this.validatedSchemasKey]) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tObject.defineProperty(data, this.validatedSchemasKey, {\r\n\t\t\t\t\t\tvalue: [],\r\n\t\t\t\t\t\tconfigurable: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tObject.defineProperty(data, this.validationErrorsKey, {\r\n\t\t\t\t\t\tvalue: [],\r\n\t\t\t\t\t\tconfigurable: true\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t//IE 7/8 workaround\r\n\t\t\t\t\tdata[this.validatedSchemasKey] = [];\r\n\t\t\t\t\tdata[this.validationErrorsKey] = [];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tscannedSchemasIndex = data[this.validatedSchemasKey].length;\r\n\t\t\tdata[this.validatedSchemasKey][scannedSchemasIndex] = schema;\r\n\t\t\tdata[this.validationErrorsKey][scannedSchemasIndex] = [];\r\n\t\t}\r\n\t}\r\n\r\n\tvar errorCount = this.errors.length;\r\n\tvar error = this.validateBasic(data, schema, dataPointerPath)\r\n\t\t|| this.validateNumeric(data, schema, dataPointerPath)\r\n\t\t|| this.validateString(data, schema, dataPointerPath)\r\n\t\t|| this.validateArray(data, schema, dataPointerPath)\r\n\t\t|| this.validateObject(data, schema, dataPointerPath)\r\n\t\t|| this.validateCombinations(data, schema, dataPointerPath)\r\n\t\t|| this.validateHypermedia(data, schema, dataPointerPath)\r\n\t\t|| this.validateFormat(data, schema, dataPointerPath)\r\n\t\t|| this.validateDefinedKeywords(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n\r\n\tif (topLevel) {\r\n\t\twhile (this.scanned.length) {\r\n\t\t\tvar item = this.scanned.pop();\r\n\t\t\tdelete item[this.validatedSchemasKey];\r\n\t\t}\r\n\t\tthis.scannedFrozen = [];\r\n\t\tthis.scannedFrozenSchemas = [];\r\n\t}\r\n\r\n\tif (error || errorCount !== this.errors.length) {\r\n\t\twhile ((dataPathParts && dataPathParts.length) || (schemaPathParts && schemaPathParts.length)) {\r\n\t\t\tvar dataPart = (dataPathParts && dataPathParts.length) ? \"\" + dataPathParts.pop() : null;\r\n\t\t\tvar schemaPart = (schemaPathParts && schemaPathParts.length) ? \"\" + schemaPathParts.pop() : null;\r\n\t\t\tif (error) {\r\n\t\t\t\terror = error.prefixWith(dataPart, schemaPart);\r\n\t\t\t}\r\n\t\t\tthis.prefixErrors(errorCount, dataPart, schemaPart);\r\n\t\t}\r\n\t}\r\n\r\n\tif (scannedFrozenSchemaIndex !== null) {\r\n\t\tthis.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = this.errors.slice(startErrorCount);\r\n\t} else if (scannedSchemasIndex !== null) {\r\n\t\tdata[this.validationErrorsKey][scannedSchemasIndex] = this.errors.slice(startErrorCount);\r\n\t}\r\n\r\n\treturn this.handleError(error);\r\n};\r\nValidatorContext.prototype.validateFormat = function (data, schema) {\r\n\tif (typeof schema.format !== 'string' || !this.formatValidators[schema.format]) {\r\n\t\treturn null;\r\n\t}\r\n\tvar errorMessage = this.formatValidators[schema.format].call(null, data, schema);\r\n\tif (typeof errorMessage === 'string' || typeof errorMessage === 'number') {\r\n\t\treturn this.createError(ErrorCodes.FORMAT_CUSTOM, {message: errorMessage}, '', '/format', null, data, schema);\r\n\t} else if (errorMessage && typeof errorMessage === 'object') {\r\n\t\treturn this.createError(ErrorCodes.FORMAT_CUSTOM, {message: errorMessage.message || \"?\"}, errorMessage.dataPath || '', errorMessage.schemaPath || \"/format\", null, data, schema);\r\n\t}\r\n\treturn null;\r\n};\r\nValidatorContext.prototype.validateDefinedKeywords = function (data, schema, dataPointerPath) {\r\n\tfor (var key in this.definedKeywords) {\r\n\t\tif (typeof schema[key] === 'undefined') {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tvar validationFunctions = this.definedKeywords[key];\r\n\t\tfor (var i = 0; i < validationFunctions.length; i++) {\r\n\t\t\tvar func = validationFunctions[i];\r\n\t\t\tvar result = func(data, schema[key], schema, dataPointerPath);\r\n\t\t\tif (typeof result === 'string' || typeof result === 'number') {\r\n\t\t\t\treturn this.createError(ErrorCodes.KEYWORD_CUSTOM, {key: key, message: result}, '', '', null, data, schema).prefixWith(null, key);\r\n\t\t\t} else if (result && typeof result === 'object') {\r\n\t\t\t\tvar code = result.code;\r\n\t\t\t\tif (typeof code === 'string') {\r\n\t\t\t\t\tif (!ErrorCodes[code]) {\r\n\t\t\t\t\t\tthrow new Error('Undefined error code (use defineError): ' + code);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcode = ErrorCodes[code];\r\n\t\t\t\t} else if (typeof code !== 'number') {\r\n\t\t\t\t\tcode = ErrorCodes.KEYWORD_CUSTOM;\r\n\t\t\t\t}\r\n\t\t\t\tvar messageParams = (typeof result.message === 'object') ? result.message : {key: key, message: result.message || \"?\"};\r\n\t\t\t\tvar schemaPath = result.schemaPath || (\"/\" + key.replace(/~/g, '~0').replace(/\\//g, '~1'));\r\n\t\t\t\treturn this.createError(code, messageParams, result.dataPath || null, schemaPath, null, data, schema);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nfunction recursiveCompare(A, B) {\r\n\tif (A === B) {\r\n\t\treturn true;\r\n\t}\r\n\tif (A && B && typeof A === \"object\" && typeof B === \"object\") {\r\n\t\tif (Array.isArray(A) !== Array.isArray(B)) {\r\n\t\t\treturn false;\r\n\t\t} else if (Array.isArray(A)) {\r\n\t\t\tif (A.length !== B.length) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tfor (var i = 0; i < A.length; i++) {\r\n\t\t\t\tif (!recursiveCompare(A[i], B[i])) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar key;\r\n\t\t\tfor (key in A) {\r\n\t\t\t\tif (B[key] === undefined && A[key] !== undefined) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (key in B) {\r\n\t\t\t\tif (A[key] === undefined && B[key] !== undefined) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (key in A) {\r\n\t\t\t\tif (!recursiveCompare(A[key], B[key])) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nValidatorContext.prototype.validateBasic = function validateBasic(data, schema, dataPointerPath) {\r\n\tvar error;\r\n\tif (error = this.validateType(data, schema, dataPointerPath)) {\r\n\t\treturn error.prefixWith(null, \"type\");\r\n\t}\r\n\tif (error = this.validateEnum(data, schema, dataPointerPath)) {\r\n\t\treturn error.prefixWith(null, \"type\");\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateType = function validateType(data, schema) {\r\n\tif (schema.type === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar dataType = typeof data;\r\n\tif (data === null) {\r\n\t\tdataType = \"null\";\r\n\t} else if (Array.isArray(data)) {\r\n\t\tdataType = \"array\";\r\n\t}\r\n\tvar allowedTypes = schema.type;\r\n\tif (!Array.isArray(allowedTypes)) {\r\n\t\tallowedTypes = [allowedTypes];\r\n\t}\r\n\r\n\tfor (var i = 0; i < allowedTypes.length; i++) {\r\n\t\tvar type = allowedTypes[i];\r\n\t\tif (type === dataType || (type === \"integer\" && dataType === \"number\" && (data % 1 === 0))) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\treturn this.createError(ErrorCodes.INVALID_TYPE, {type: dataType, expected: allowedTypes.join(\"/\")}, '', '', null, data, schema);\r\n};\r\n\r\nValidatorContext.prototype.validateEnum = function validateEnum(data, schema) {\r\n\tif (schema[\"enum\"] === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tfor (var i = 0; i < schema[\"enum\"].length; i++) {\r\n\t\tvar enumVal = schema[\"enum\"][i];\r\n\t\tif (recursiveCompare(data, enumVal)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\treturn this.createError(ErrorCodes.ENUM_MISMATCH, {value: (typeof JSON !== 'undefined') ? JSON.stringify(data) : data}, '', '', null, data, schema);\r\n};\r\n\r\nValidatorContext.prototype.validateNumeric = function validateNumeric(data, schema, dataPointerPath) {\r\n\treturn this.validateMultipleOf(data, schema, dataPointerPath)\r\n\t\t|| this.validateMinMax(data, schema, dataPointerPath)\r\n\t\t|| this.validateNaN(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nvar CLOSE_ENOUGH_LOW = Math.pow(2, -51);\r\nvar CLOSE_ENOUGH_HIGH = 1 - CLOSE_ENOUGH_LOW;\r\nValidatorContext.prototype.validateMultipleOf = function validateMultipleOf(data, schema) {\r\n\tvar multipleOf = schema.multipleOf || schema.divisibleBy;\r\n\tif (multipleOf === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tif (typeof data === \"number\") {\r\n\t\tvar remainder = (data/multipleOf)%1;\r\n\t\tif (remainder >= CLOSE_ENOUGH_LOW && remainder < CLOSE_ENOUGH_HIGH) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MULTIPLE_OF, {value: data, multipleOf: multipleOf}, '', '', null, data, schema);\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateMinMax = function validateMinMax(data, schema) {\r\n\tif (typeof data !== \"number\") {\r\n\t\treturn null;\r\n\t}\r\n\tif (schema.minimum !== undefined) {\r\n\t\tif (data < schema.minimum) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MINIMUM, {value: data, minimum: schema.minimum}, '', '/minimum', null, data, schema);\r\n\t\t}\r\n\t\tif (schema.exclusiveMinimum && data === schema.minimum) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MINIMUM_EXCLUSIVE, {value: data, minimum: schema.minimum}, '', '/exclusiveMinimum', null, data, schema);\r\n\t\t}\r\n\t}\r\n\tif (schema.maximum !== undefined) {\r\n\t\tif (data > schema.maximum) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MAXIMUM, {value: data, maximum: schema.maximum}, '', '/maximum', null, data, schema);\r\n\t\t}\r\n\t\tif (schema.exclusiveMaximum && data === schema.maximum) {\r\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MAXIMUM_EXCLUSIVE, {value: data, maximum: schema.maximum}, '', '/exclusiveMaximum', null, data, schema);\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateNaN = function validateNaN(data, schema) {\r\n\tif (typeof data !== \"number\") {\r\n\t\treturn null;\r\n\t}\r\n\tif (isNaN(data) === true || data === Infinity || data === -Infinity) {\r\n\t\treturn this.createError(ErrorCodes.NUMBER_NOT_A_NUMBER, {value: data}, '', '/type', null, data, schema);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateString = function validateString(data, schema, dataPointerPath) {\r\n\treturn this.validateStringLength(data, schema, dataPointerPath)\r\n\t\t|| this.validateStringPattern(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nValidatorContext.prototype.validateStringLength = function validateStringLength(data, schema) {\r\n\tif (typeof data !== \"string\") {\r\n\t\treturn null;\r\n\t}\r\n\tif (schema.minLength !== undefined) {\r\n\t\tif (data.length < schema.minLength) {\r\n\t\t\treturn this.createError(ErrorCodes.STRING_LENGTH_SHORT, {length: data.length, minimum: schema.minLength}, '', '/minLength', null, data, schema);\r\n\t\t}\r\n\t}\r\n\tif (schema.maxLength !== undefined) {\r\n\t\tif (data.length > schema.maxLength) {\r\n\t\t\treturn this.createError(ErrorCodes.STRING_LENGTH_LONG, {length: data.length, maximum: schema.maxLength}, '', '/maxLength', null, data, schema);\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateStringPattern = function validateStringPattern(data, schema) {\r\n\tif (typeof data !== \"string\" || (typeof schema.pattern !== \"string\" && !(schema.pattern instanceof RegExp))) {\r\n\t\treturn null;\r\n\t}\r\n\tvar regexp;\r\n\tif (schema.pattern instanceof RegExp) {\r\n\t  regexp = schema.pattern;\r\n\t}\r\n\telse {\r\n\t  var body, flags = '';\r\n\t  // Check for regular expression literals\r\n\t  // @see http://www.ecma-international.org/ecma-262/5.1/#sec-7.8.5\r\n\t  var literal = schema.pattern.match(/^\\/(.+)\\/([img]*)$/);\r\n\t  if (literal) {\r\n\t    body = literal[1];\r\n\t    flags = literal[2];\r\n\t  }\r\n\t  else {\r\n\t    body = schema.pattern;\r\n\t  }\r\n\t  regexp = new RegExp(body, flags);\r\n\t}\r\n\tif (!regexp.test(data)) {\r\n\t\treturn this.createError(ErrorCodes.STRING_PATTERN, {pattern: schema.pattern}, '', '/pattern', null, data, schema);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateArray = function validateArray(data, schema, dataPointerPath) {\r\n\tif (!Array.isArray(data)) {\r\n\t\treturn null;\r\n\t}\r\n\treturn this.validateArrayLength(data, schema, dataPointerPath)\r\n\t\t|| this.validateArrayUniqueItems(data, schema, dataPointerPath)\r\n\t\t|| this.validateArrayItems(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nValidatorContext.prototype.validateArrayLength = function validateArrayLength(data, schema) {\r\n\tvar error;\r\n\tif (schema.minItems !== undefined) {\r\n\t\tif (data.length < schema.minItems) {\r\n\t\t\terror = this.createError(ErrorCodes.ARRAY_LENGTH_SHORT, {length: data.length, minimum: schema.minItems}, '', '/minItems', null, data, schema);\r\n\t\t\tif (this.handleError(error)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (schema.maxItems !== undefined) {\r\n\t\tif (data.length > schema.maxItems) {\r\n\t\t\terror = this.createError(ErrorCodes.ARRAY_LENGTH_LONG, {length: data.length, maximum: schema.maxItems}, '', '/maxItems', null, data, schema);\r\n\t\t\tif (this.handleError(error)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateArrayUniqueItems = function validateArrayUniqueItems(data, schema) {\r\n\tif (schema.uniqueItems) {\r\n\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\tfor (var j = i + 1; j < data.length; j++) {\r\n\t\t\t\tif (recursiveCompare(data[i], data[j])) {\r\n\t\t\t\t\tvar error = this.createError(ErrorCodes.ARRAY_UNIQUE, {match1: i, match2: j}, '', '/uniqueItems', null, data, schema);\r\n\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateArrayItems = function validateArrayItems(data, schema, dataPointerPath) {\r\n\tif (schema.items === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar error, i;\r\n\tif (Array.isArray(schema.items)) {\r\n\t\tfor (i = 0; i < data.length; i++) {\r\n\t\t\tif (i < schema.items.length) {\r\n\t\t\t\tif (error = this.validateAll(data[i], schema.items[i], [i], [\"items\", i], dataPointerPath + \"/\" + i)) {\r\n\t\t\t\t\treturn error;\r\n\t\t\t\t}\r\n\t\t\t} else if (schema.additionalItems !== undefined) {\r\n\t\t\t\tif (typeof schema.additionalItems === \"boolean\") {\r\n\t\t\t\t\tif (!schema.additionalItems) {\r\n\t\t\t\t\t\terror = (this.createError(ErrorCodes.ARRAY_ADDITIONAL_ITEMS, {}, '/' + i, '/additionalItems', null, data, schema));\r\n\t\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (error = this.validateAll(data[i], schema.additionalItems, [i], [\"additionalItems\"], dataPointerPath + \"/\" + i)) {\r\n\t\t\t\t\treturn error;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tfor (i = 0; i < data.length; i++) {\r\n\t\t\tif (error = this.validateAll(data[i], schema.items, [i], [\"items\"], dataPointerPath + \"/\" + i)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateObject = function validateObject(data, schema, dataPointerPath) {\r\n\tif (typeof data !== \"object\" || data === null || Array.isArray(data)) {\r\n\t\treturn null;\r\n\t}\r\n\treturn this.validateObjectMinMaxProperties(data, schema, dataPointerPath)\r\n\t\t|| this.validateObjectRequiredProperties(data, schema, dataPointerPath)\r\n\t\t|| this.validateObjectProperties(data, schema, dataPointerPath)\r\n\t\t|| this.validateObjectDependencies(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nValidatorContext.prototype.validateObjectMinMaxProperties = function validateObjectMinMaxProperties(data, schema) {\r\n\tvar keys = Object.keys(data);\r\n\tvar error;\r\n\tif (schema.minProperties !== undefined) {\r\n\t\tif (keys.length < schema.minProperties) {\r\n\t\t\terror = this.createError(ErrorCodes.OBJECT_PROPERTIES_MINIMUM, {propertyCount: keys.length, minimum: schema.minProperties}, '', '/minProperties', null, data, schema);\r\n\t\t\tif (this.handleError(error)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (schema.maxProperties !== undefined) {\r\n\t\tif (keys.length > schema.maxProperties) {\r\n\t\t\terror = this.createError(ErrorCodes.OBJECT_PROPERTIES_MAXIMUM, {propertyCount: keys.length, maximum: schema.maxProperties}, '', '/maxProperties', null, data, schema);\r\n\t\t\tif (this.handleError(error)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateObjectRequiredProperties = function validateObjectRequiredProperties(data, schema) {\r\n\tif (schema.required !== undefined) {\r\n\t\tfor (var i = 0; i < schema.required.length; i++) {\r\n\t\t\tvar key = schema.required[i];\r\n\t\t\tif (data[key] === undefined) {\r\n\t\t\t\tvar error = this.createError(ErrorCodes.OBJECT_REQUIRED, {key: key}, '', '/required/' + i, null, data, schema);\r\n\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\treturn error;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateObjectProperties = function validateObjectProperties(data, schema, dataPointerPath) {\r\n\tvar error;\r\n\tfor (var key in data) {\r\n\t\tvar keyPointerPath = dataPointerPath + \"/\" + key.replace(/~/g, '~0').replace(/\\//g, '~1');\r\n\t\tvar foundMatch = false;\r\n\t\tif (schema.properties !== undefined && schema.properties[key] !== undefined) {\r\n\t\t\tfoundMatch = true;\r\n\t\t\tif (error = this.validateAll(data[key], schema.properties[key], [key], [\"properties\", key], keyPointerPath)) {\r\n\t\t\t\treturn error;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (schema.patternProperties !== undefined) {\r\n\t\t\tfor (var patternKey in schema.patternProperties) {\r\n\t\t\t\tvar regexp = new RegExp(patternKey);\r\n\t\t\t\tif (regexp.test(key)) {\r\n\t\t\t\t\tfoundMatch = true;\r\n\t\t\t\t\tif (error = this.validateAll(data[key], schema.patternProperties[patternKey], [key], [\"patternProperties\", patternKey], keyPointerPath)) {\r\n\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!foundMatch) {\r\n\t\t\tif (schema.additionalProperties !== undefined) {\r\n\t\t\t\tif (this.trackUnknownProperties) {\r\n\t\t\t\t\tthis.knownPropertyPaths[keyPointerPath] = true;\r\n\t\t\t\t\tdelete this.unknownPropertyPaths[keyPointerPath];\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof schema.additionalProperties === \"boolean\") {\r\n\t\t\t\t\tif (!schema.additionalProperties) {\r\n\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_ADDITIONAL_PROPERTIES, {key: key}, '', '/additionalProperties', null, data, schema).prefixWith(key, null);\r\n\t\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (error = this.validateAll(data[key], schema.additionalProperties, [key], [\"additionalProperties\"], keyPointerPath)) {\r\n\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (this.trackUnknownProperties && !this.knownPropertyPaths[keyPointerPath]) {\r\n\t\t\t\tthis.unknownPropertyPaths[keyPointerPath] = true;\r\n\t\t\t}\r\n\t\t} else if (this.trackUnknownProperties) {\r\n\t\t\tthis.knownPropertyPaths[keyPointerPath] = true;\r\n\t\t\tdelete this.unknownPropertyPaths[keyPointerPath];\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateObjectDependencies = function validateObjectDependencies(data, schema, dataPointerPath) {\r\n\tvar error;\r\n\tif (schema.dependencies !== undefined) {\r\n\t\tfor (var depKey in schema.dependencies) {\r\n\t\t\tif (data[depKey] !== undefined) {\r\n\t\t\t\tvar dep = schema.dependencies[depKey];\r\n\t\t\t\tif (typeof dep === \"string\") {\r\n\t\t\t\t\tif (data[dep] === undefined) {\r\n\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: dep}, '', '', null, data, schema).prefixWith(null, depKey).prefixWith(null, \"dependencies\");\r\n\t\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (Array.isArray(dep)) {\r\n\t\t\t\t\tfor (var i = 0; i < dep.length; i++) {\r\n\t\t\t\t\t\tvar requiredKey = dep[i];\r\n\t\t\t\t\t\tif (data[requiredKey] === undefined) {\r\n\t\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: requiredKey}, '', '/' + i, null, data, schema).prefixWith(null, depKey).prefixWith(null, \"dependencies\");\r\n\t\t\t\t\t\t\tif (this.handleError(error)) {\r\n\t\t\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (error = this.validateAll(data, dep, [], [\"dependencies\", depKey], dataPointerPath)) {\r\n\t\t\t\t\t\treturn error;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateCombinations = function validateCombinations(data, schema, dataPointerPath) {\r\n\treturn this.validateAllOf(data, schema, dataPointerPath)\r\n\t\t|| this.validateAnyOf(data, schema, dataPointerPath)\r\n\t\t|| this.validateOneOf(data, schema, dataPointerPath)\r\n\t\t|| this.validateNot(data, schema, dataPointerPath)\r\n\t\t|| null;\r\n};\r\n\r\nValidatorContext.prototype.validateAllOf = function validateAllOf(data, schema, dataPointerPath) {\r\n\tif (schema.allOf === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar error;\r\n\tfor (var i = 0; i < schema.allOf.length; i++) {\r\n\t\tvar subSchema = schema.allOf[i];\r\n\t\tif (error = this.validateAll(data, subSchema, [], [\"allOf\", i], dataPointerPath)) {\r\n\t\t\treturn error;\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateAnyOf = function validateAnyOf(data, schema, dataPointerPath) {\r\n\tif (schema.anyOf === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar errors = [];\r\n\tvar startErrorCount = this.errors.length;\r\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\r\n\tif (this.trackUnknownProperties) {\r\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\r\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\r\n\t}\r\n\tvar errorAtEnd = true;\r\n\tfor (var i = 0; i < schema.anyOf.length; i++) {\r\n\t\tif (this.trackUnknownProperties) {\r\n\t\t\tthis.unknownPropertyPaths = {};\r\n\t\t\tthis.knownPropertyPaths = {};\r\n\t\t}\r\n\t\tvar subSchema = schema.anyOf[i];\r\n\r\n\t\tvar errorCount = this.errors.length;\r\n\t\tvar error = this.validateAll(data, subSchema, [], [\"anyOf\", i], dataPointerPath);\r\n\r\n\t\tif (error === null && errorCount === this.errors.length) {\r\n\t\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\r\n\t\t\tif (this.trackUnknownProperties) {\r\n\t\t\t\tfor (var knownKey in this.knownPropertyPaths) {\r\n\t\t\t\t\toldKnownPropertyPaths[knownKey] = true;\r\n\t\t\t\t\tdelete oldUnknownPropertyPaths[knownKey];\r\n\t\t\t\t}\r\n\t\t\t\tfor (var unknownKey in this.unknownPropertyPaths) {\r\n\t\t\t\t\tif (!oldKnownPropertyPaths[unknownKey]) {\r\n\t\t\t\t\t\toldUnknownPropertyPaths[unknownKey] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// We need to continue looping so we catch all the property definitions, but we don't want to return an error\r\n\t\t\t\terrorAtEnd = false;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (error) {\r\n\t\t\terrors.push(error.prefixWith(null, \"\" + i).prefixWith(null, \"anyOf\"));\r\n\t\t}\r\n\t}\r\n\tif (this.trackUnknownProperties) {\r\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\r\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\r\n\t}\r\n\tif (errorAtEnd) {\r\n\t\terrors = errors.concat(this.errors.slice(startErrorCount));\r\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\t\treturn this.createError(ErrorCodes.ANY_OF_MISSING, {}, \"\", \"/anyOf\", errors, data, schema);\r\n\t}\r\n};\r\n\r\nValidatorContext.prototype.validateOneOf = function validateOneOf(data, schema, dataPointerPath) {\r\n\tif (schema.oneOf === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar validIndex = null;\r\n\tvar errors = [];\r\n\tvar startErrorCount = this.errors.length;\r\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\r\n\tif (this.trackUnknownProperties) {\r\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\r\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\r\n\t}\r\n\tfor (var i = 0; i < schema.oneOf.length; i++) {\r\n\t\tif (this.trackUnknownProperties) {\r\n\t\t\tthis.unknownPropertyPaths = {};\r\n\t\t\tthis.knownPropertyPaths = {};\r\n\t\t}\r\n\t\tvar subSchema = schema.oneOf[i];\r\n\r\n\t\tvar errorCount = this.errors.length;\r\n\t\tvar error = this.validateAll(data, subSchema, [], [\"oneOf\", i], dataPointerPath);\r\n\r\n\t\tif (error === null && errorCount === this.errors.length) {\r\n\t\t\tif (validIndex === null) {\r\n\t\t\t\tvalidIndex = i;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\t\t\t\treturn this.createError(ErrorCodes.ONE_OF_MULTIPLE, {index1: validIndex, index2: i}, \"\", \"/oneOf\", null, data, schema);\r\n\t\t\t}\r\n\t\t\tif (this.trackUnknownProperties) {\r\n\t\t\t\tfor (var knownKey in this.knownPropertyPaths) {\r\n\t\t\t\t\toldKnownPropertyPaths[knownKey] = true;\r\n\t\t\t\t\tdelete oldUnknownPropertyPaths[knownKey];\r\n\t\t\t\t}\r\n\t\t\t\tfor (var unknownKey in this.unknownPropertyPaths) {\r\n\t\t\t\t\tif (!oldKnownPropertyPaths[unknownKey]) {\r\n\t\t\t\t\t\toldUnknownPropertyPaths[unknownKey] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (error) {\r\n\t\t\terrors.push(error);\r\n\t\t}\r\n\t}\r\n\tif (this.trackUnknownProperties) {\r\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\r\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\r\n\t}\r\n\tif (validIndex === null) {\r\n\t\terrors = errors.concat(this.errors.slice(startErrorCount));\r\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\t\treturn this.createError(ErrorCodes.ONE_OF_MISSING, {}, \"\", \"/oneOf\", errors, data, schema);\r\n\t} else {\r\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateNot = function validateNot(data, schema, dataPointerPath) {\r\n\tif (schema.not === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\tvar oldErrorCount = this.errors.length;\r\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\r\n\tif (this.trackUnknownProperties) {\r\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\r\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\r\n\t\tthis.unknownPropertyPaths = {};\r\n\t\tthis.knownPropertyPaths = {};\r\n\t}\r\n\tvar error = this.validateAll(data, schema.not, null, null, dataPointerPath);\r\n\tvar notErrors = this.errors.slice(oldErrorCount);\r\n\tthis.errors = this.errors.slice(0, oldErrorCount);\r\n\tif (this.trackUnknownProperties) {\r\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\r\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\r\n\t}\r\n\tif (error === null && notErrors.length === 0) {\r\n\t\treturn this.createError(ErrorCodes.NOT_PASSED, {}, \"\", \"/not\", null, data, schema);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nValidatorContext.prototype.validateHypermedia = function validateCombinations(data, schema, dataPointerPath) {\r\n\tif (!schema.links) {\r\n\t\treturn null;\r\n\t}\r\n\tvar error;\r\n\tfor (var i = 0; i < schema.links.length; i++) {\r\n\t\tvar ldo = schema.links[i];\r\n\t\tif (ldo.rel === \"describedby\") {\r\n\t\t\tvar template = new UriTemplate(ldo.href);\r\n\t\t\tvar allPresent = true;\r\n\t\t\tfor (var j = 0; j < template.varNames.length; j++) {\r\n\t\t\t\tif (!(template.varNames[j] in data)) {\r\n\t\t\t\t\tallPresent = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (allPresent) {\r\n\t\t\t\tvar schemaUrl = template.fillFromObject(data);\r\n\t\t\t\tvar subSchema = {\"$ref\": schemaUrl};\r\n\t\t\t\tif (error = this.validateAll(data, subSchema, [], [\"links\", i], dataPointerPath)) {\r\n\t\t\t\t\treturn error;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// parseURI() and resolveUrl() are from https://gist.github.com/1088850\r\n//   -  released as public domain by author (\"Yaffle\") - see comments on gist\r\n\r\nfunction parseURI(url) {\r\n\tvar m = String(url).replace(/^\\s+|\\s+$/g, '').match(/^([^:\\/?#]+:)?(\\/\\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\\/?#]*)(?::(\\d*))?))?([^?#]*)(\\?[^#]*)?(#[\\s\\S]*)?/);\r\n\t// authority = '//' + user + ':' + pass '@' + hostname + ':' port\r\n\treturn (m ? {\r\n\t\thref     : m[0] || '',\r\n\t\tprotocol : m[1] || '',\r\n\t\tauthority: m[2] || '',\r\n\t\thost     : m[3] || '',\r\n\t\thostname : m[4] || '',\r\n\t\tport     : m[5] || '',\r\n\t\tpathname : m[6] || '',\r\n\t\tsearch   : m[7] || '',\r\n\t\thash     : m[8] || ''\r\n\t} : null);\r\n}\r\n\r\nfunction resolveUrl(base, href) {// RFC 3986\r\n\r\n\tfunction removeDotSegments(input) {\r\n\t\tvar output = [];\r\n\t\tinput.replace(/^(\\.\\.?(\\/|$))+/, '')\r\n\t\t\t.replace(/\\/(\\.(\\/|$))+/g, '/')\r\n\t\t\t.replace(/\\/\\.\\.$/, '/../')\r\n\t\t\t.replace(/\\/?[^\\/]*/g, function (p) {\r\n\t\t\t\tif (p === '/..') {\r\n\t\t\t\t\toutput.pop();\r\n\t\t\t\t} else {\r\n\t\t\t\t\toutput.push(p);\r\n\t\t\t\t}\r\n\t\t});\r\n\t\treturn output.join('').replace(/^\\//, input.charAt(0) === '/' ? '/' : '');\r\n\t}\r\n\r\n\thref = parseURI(href || '');\r\n\tbase = parseURI(base || '');\r\n\r\n\treturn !href || !base ? null : (href.protocol || base.protocol) +\r\n\t\t(href.protocol || href.authority ? href.authority : base.authority) +\r\n\t\tremoveDotSegments(href.protocol || href.authority || href.pathname.charAt(0) === '/' ? href.pathname : (href.pathname ? ((base.authority && !base.pathname ? '/' : '') + base.pathname.slice(0, base.pathname.lastIndexOf('/') + 1) + href.pathname) : base.pathname)) +\r\n\t\t(href.protocol || href.authority || href.pathname ? href.search : (href.search || base.search)) +\r\n\t\thref.hash;\r\n}\r\n\r\nfunction getDocumentUri(uri) {\r\n\treturn uri.split('#')[0];\r\n}\r\nfunction normSchema(schema, baseUri) {\r\n\tif (schema && typeof schema === \"object\") {\r\n\t\tif (baseUri === undefined) {\r\n\t\t\tbaseUri = schema.id;\r\n\t\t} else if (typeof schema.id === \"string\") {\r\n\t\t\tbaseUri = resolveUrl(baseUri, schema.id);\r\n\t\t\tschema.id = baseUri;\r\n\t\t}\r\n\t\tif (Array.isArray(schema)) {\r\n\t\t\tfor (var i = 0; i < schema.length; i++) {\r\n\t\t\t\tnormSchema(schema[i], baseUri);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (typeof schema['$ref'] === \"string\") {\r\n\t\t\t\tschema['$ref'] = resolveUrl(baseUri, schema['$ref']);\r\n\t\t\t}\r\n\t\t\tfor (var key in schema) {\r\n\t\t\t\tif (key !== \"enum\") {\r\n\t\t\t\t\tnormSchema(schema[key], baseUri);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction defaultErrorReporter(language) {\r\n\tlanguage = language || 'en';\r\n\r\n\tvar errorMessages = languages[language];\r\n\r\n\treturn function (error) {\r\n\t\tvar messageTemplate = errorMessages[error.code] || ErrorMessagesDefault[error.code];\r\n\t\tif (typeof messageTemplate !== 'string') {\r\n\t\t\treturn \"Unknown error code \" + error.code + \": \" + JSON.stringify(error.messageParams);\r\n\t\t}\r\n\t\tvar messageParams = error.params;\r\n\t\t// Adapted from Crockford's supplant()\r\n\t\treturn messageTemplate.replace(/\\{([^{}]*)\\}/g, function (whole, varName) {\r\n\t\t\tvar subValue = messageParams[varName];\r\n\t\t\treturn typeof subValue === 'string' || typeof subValue === 'number' ? subValue : whole;\r\n\t\t});\r\n\t};\r\n}\r\n\r\nvar ErrorCodes = {\r\n\tINVALID_TYPE: 0,\r\n\tENUM_MISMATCH: 1,\r\n\tANY_OF_MISSING: 10,\r\n\tONE_OF_MISSING: 11,\r\n\tONE_OF_MULTIPLE: 12,\r\n\tNOT_PASSED: 13,\r\n\t// Numeric errors\r\n\tNUMBER_MULTIPLE_OF: 100,\r\n\tNUMBER_MINIMUM: 101,\r\n\tNUMBER_MINIMUM_EXCLUSIVE: 102,\r\n\tNUMBER_MAXIMUM: 103,\r\n\tNUMBER_MAXIMUM_EXCLUSIVE: 104,\r\n\tNUMBER_NOT_A_NUMBER: 105,\r\n\t// String errors\r\n\tSTRING_LENGTH_SHORT: 200,\r\n\tSTRING_LENGTH_LONG: 201,\r\n\tSTRING_PATTERN: 202,\r\n\t// Object errors\r\n\tOBJECT_PROPERTIES_MINIMUM: 300,\r\n\tOBJECT_PROPERTIES_MAXIMUM: 301,\r\n\tOBJECT_REQUIRED: 302,\r\n\tOBJECT_ADDITIONAL_PROPERTIES: 303,\r\n\tOBJECT_DEPENDENCY_KEY: 304,\r\n\t// Array errors\r\n\tARRAY_LENGTH_SHORT: 400,\r\n\tARRAY_LENGTH_LONG: 401,\r\n\tARRAY_UNIQUE: 402,\r\n\tARRAY_ADDITIONAL_ITEMS: 403,\r\n\t// Custom/user-defined errors\r\n\tFORMAT_CUSTOM: 500,\r\n\tKEYWORD_CUSTOM: 501,\r\n\t// Schema structure\r\n\tCIRCULAR_REFERENCE: 600,\r\n\t// Non-standard validation options\r\n\tUNKNOWN_PROPERTY: 1000\r\n};\r\nvar ErrorCodeLookup = {};\r\nfor (var key in ErrorCodes) {\r\n\tErrorCodeLookup[ErrorCodes[key]] = key;\r\n}\r\nvar ErrorMessagesDefault = {\r\n\tINVALID_TYPE: \"Invalid type: {type} (expected {expected})\",\r\n\tENUM_MISMATCH: \"No enum match for: {value}\",\r\n\tANY_OF_MISSING: \"Data does not match any schemas from \\\"anyOf\\\"\",\r\n\tONE_OF_MISSING: \"Data does not match any schemas from \\\"oneOf\\\"\",\r\n\tONE_OF_MULTIPLE: \"Data is valid against more than one schema from \\\"oneOf\\\": indices {index1} and {index2}\",\r\n\tNOT_PASSED: \"Data matches schema from \\\"not\\\"\",\r\n\t// Numeric errors\r\n\tNUMBER_MULTIPLE_OF: \"Value {value} is not a multiple of {multipleOf}\",\r\n\tNUMBER_MINIMUM: \"Value {value} is less than minimum {minimum}\",\r\n\tNUMBER_MINIMUM_EXCLUSIVE: \"Value {value} is equal to exclusive minimum {minimum}\",\r\n\tNUMBER_MAXIMUM: \"Value {value} is greater than maximum {maximum}\",\r\n\tNUMBER_MAXIMUM_EXCLUSIVE: \"Value {value} is equal to exclusive maximum {maximum}\",\r\n\tNUMBER_NOT_A_NUMBER: \"Value {value} is not a valid number\",\r\n\t// String errors\r\n\tSTRING_LENGTH_SHORT: \"String is too short ({length} chars), minimum {minimum}\",\r\n\tSTRING_LENGTH_LONG: \"String is too long ({length} chars), maximum {maximum}\",\r\n\tSTRING_PATTERN: \"String does not match pattern: {pattern}\",\r\n\t// Object errors\r\n\tOBJECT_PROPERTIES_MINIMUM: \"Too few properties defined ({propertyCount}), minimum {minimum}\",\r\n\tOBJECT_PROPERTIES_MAXIMUM: \"Too many properties defined ({propertyCount}), maximum {maximum}\",\r\n\tOBJECT_REQUIRED: \"Missing required property: {key}\",\r\n\tOBJECT_ADDITIONAL_PROPERTIES: \"Additional properties not allowed\",\r\n\tOBJECT_DEPENDENCY_KEY: \"Dependency failed - key must exist: {missing} (due to key: {key})\",\r\n\t// Array errors\r\n\tARRAY_LENGTH_SHORT: \"Array is too short ({length}), minimum {minimum}\",\r\n\tARRAY_LENGTH_LONG: \"Array is too long ({length}), maximum {maximum}\",\r\n\tARRAY_UNIQUE: \"Array items are not unique (indices {match1} and {match2})\",\r\n\tARRAY_ADDITIONAL_ITEMS: \"Additional items not allowed\",\r\n\t// Format errors\r\n\tFORMAT_CUSTOM: \"Format validation failed ({message})\",\r\n\tKEYWORD_CUSTOM: \"Keyword failed: {key} ({message})\",\r\n\t// Schema structure\r\n\tCIRCULAR_REFERENCE: \"Circular $refs: {urls}\",\r\n\t// Non-standard validation options\r\n\tUNKNOWN_PROPERTY: \"Unknown property (not in schema)\"\r\n};\r\n\r\nfunction ValidationError(code, params, dataPath, schemaPath, subErrors) {\r\n\tError.call(this);\r\n\tif (code === undefined) {\r\n\t\tthrow new Error (\"No error code supplied: \" + schemaPath);\r\n\t}\r\n\tthis.message = '';\r\n\tthis.params = params;\r\n\tthis.code = code;\r\n\tthis.dataPath = dataPath || \"\";\r\n\tthis.schemaPath = schemaPath || \"\";\r\n\tthis.subErrors = subErrors || null;\r\n\r\n\tvar err = new Error(this.message);\r\n\tthis.stack = err.stack || err.stacktrace;\r\n\tif (!this.stack) {\r\n\t\ttry {\r\n\t\t\tthrow err;\r\n\t\t}\r\n\t\tcatch(err) {\r\n\t\t\tthis.stack = err.stack || err.stacktrace;\r\n\t\t}\r\n\t}\r\n}\r\nValidationError.prototype = Object.create(Error.prototype);\r\nValidationError.prototype.constructor = ValidationError;\r\nValidationError.prototype.name = 'ValidationError';\r\n\r\nValidationError.prototype.prefixWith = function (dataPrefix, schemaPrefix) {\r\n\tif (dataPrefix !== null) {\r\n\t\tdataPrefix = dataPrefix.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\r\n\t\tthis.dataPath = \"/\" + dataPrefix + this.dataPath;\r\n\t}\r\n\tif (schemaPrefix !== null) {\r\n\t\tschemaPrefix = schemaPrefix.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\r\n\t\tthis.schemaPath = \"/\" + schemaPrefix + this.schemaPath;\r\n\t}\r\n\tif (this.subErrors !== null) {\r\n\t\tfor (var i = 0; i < this.subErrors.length; i++) {\r\n\t\t\tthis.subErrors[i].prefixWith(dataPrefix, schemaPrefix);\r\n\t\t}\r\n\t}\r\n\treturn this;\r\n};\r\n\r\nfunction isTrustedUrl(baseUrl, testUrl) {\r\n\tif(testUrl.substring(0, baseUrl.length) === baseUrl){\r\n\t\tvar remainder = testUrl.substring(baseUrl.length);\r\n\t\tif ((testUrl.length > 0 && testUrl.charAt(baseUrl.length - 1) === \"/\")\r\n\t\t\t|| remainder.charAt(0) === \"#\"\r\n\t\t\t|| remainder.charAt(0) === \"?\") {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nvar languages = {};\r\nfunction createApi(language) {\r\n\tvar globalContext = new ValidatorContext();\r\n\tvar currentLanguage;\r\n\tvar customErrorReporter;\r\n\tvar api = {\r\n\t\tsetErrorReporter: function (reporter) {\r\n\t\t\tif (typeof reporter === 'string') {\r\n\t\t\t\treturn this.language(reporter);\r\n\t\t\t}\r\n\t\t\tcustomErrorReporter = reporter;\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\taddFormat: function () {\r\n\t\t\tglobalContext.addFormat.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tlanguage: function (code) {\r\n\t\t\tif (!code) {\r\n\t\t\t\treturn currentLanguage;\r\n\t\t\t}\r\n\t\t\tif (!languages[code]) {\r\n\t\t\t\tcode = code.split('-')[0]; // fall back to base language\r\n\t\t\t}\r\n\t\t\tif (languages[code]) {\r\n\t\t\t\tcurrentLanguage = code;\r\n\t\t\t\treturn code; // so you can tell if fall-back has happened\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\taddLanguage: function (code, messageMap) {\r\n\t\t\tvar key;\r\n\t\t\tfor (key in ErrorCodes) {\r\n\t\t\t\tif (messageMap[key] && !messageMap[ErrorCodes[key]]) {\r\n\t\t\t\t\tmessageMap[ErrorCodes[key]] = messageMap[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar rootCode = code.split('-')[0];\r\n\t\t\tif (!languages[rootCode]) { // use for base language if not yet defined\r\n\t\t\t\tlanguages[code] = messageMap;\r\n\t\t\t\tlanguages[rootCode] = messageMap;\r\n\t\t\t} else {\r\n\t\t\t\tlanguages[code] = Object.create(languages[rootCode]);\r\n\t\t\t\tfor (key in messageMap) {\r\n\t\t\t\t\tif (typeof languages[rootCode][key] === 'undefined') {\r\n\t\t\t\t\t\tlanguages[rootCode][key] = messageMap[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlanguages[code][key] = messageMap[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tfreshApi: function (language) {\r\n\t\t\tvar result = createApi();\r\n\t\t\tif (language) {\r\n\t\t\t\tresult.language(language);\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tvalidate: function (data, schema, checkRecursive, banUnknownProperties) {\r\n\t\t\tvar def = defaultErrorReporter(currentLanguage);\r\n\t\t\tvar errorReporter = customErrorReporter ? function (error, data, schema) {\r\n\t\t\t\treturn customErrorReporter(error, data, schema) || def(error, data, schema);\r\n\t\t\t} : def;\r\n\t\t\tvar context = new ValidatorContext(globalContext, false, errorReporter, checkRecursive, banUnknownProperties);\r\n\t\t\tif (typeof schema === \"string\") {\r\n\t\t\t\tschema = {\"$ref\": schema};\r\n\t\t\t}\r\n\t\t\tcontext.addSchema(\"\", schema);\r\n\t\t\tvar error = context.validateAll(data, schema, null, null, \"\");\r\n\t\t\tif (!error && banUnknownProperties) {\r\n\t\t\t\terror = context.banUnknownProperties(data, schema);\r\n\t\t\t}\r\n\t\t\tthis.error = error;\r\n\t\t\tthis.missing = context.missing;\r\n\t\t\tthis.valid = (error === null);\r\n\t\t\treturn this.valid;\r\n\t\t},\r\n\t\tvalidateResult: function () {\r\n\t\t\tvar result = {toString: function () {\r\n\t\t\t\treturn this.valid ? 'valid' : this.error.message;\r\n\t\t\t}};\r\n\t\t\tthis.validate.apply(result, arguments);\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tvalidateMultiple: function (data, schema, checkRecursive, banUnknownProperties) {\r\n\t\t\tvar def = defaultErrorReporter(currentLanguage);\r\n\t\t\tvar errorReporter = customErrorReporter ? function (error, data, schema) {\r\n\t\t\t\treturn customErrorReporter(error, data, schema) || def(error, data, schema);\r\n\t\t\t} : def;\r\n\t\t\tvar context = new ValidatorContext(globalContext, true, errorReporter, checkRecursive, banUnknownProperties);\r\n\t\t\tif (typeof schema === \"string\") {\r\n\t\t\t\tschema = {\"$ref\": schema};\r\n\t\t\t}\r\n\t\t\tcontext.addSchema(\"\", schema);\r\n\t\t\tcontext.validateAll(data, schema, null, null, \"\");\r\n\t\t\tif (banUnknownProperties) {\r\n\t\t\t\tcontext.banUnknownProperties(data, schema);\r\n\t\t\t}\r\n\t\t\tvar result = {toString: function () {\r\n\t\t\t\treturn this.valid ? 'valid' : this.error.message;\r\n\t\t\t}};\r\n\t\t\tresult.errors = context.errors;\r\n\t\t\tresult.missing = context.missing;\r\n\t\t\tresult.valid = (result.errors.length === 0);\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\taddSchema: function () {\r\n\t\t\treturn globalContext.addSchema.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tgetSchema: function () {\r\n\t\t\treturn globalContext.getSchema.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tgetSchemaMap: function () {\r\n\t\t\treturn globalContext.getSchemaMap.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tgetSchemaUris: function () {\r\n\t\t\treturn globalContext.getSchemaUris.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tgetMissingUris: function () {\r\n\t\t\treturn globalContext.getMissingUris.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tdropSchemas: function () {\r\n\t\t\tglobalContext.dropSchemas.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tdefineKeyword: function () {\r\n\t\t\tglobalContext.defineKeyword.apply(globalContext, arguments);\r\n\t\t},\r\n\t\tdefineError: function (codeName, codeNumber, defaultMessage) {\r\n\t\t\tif (typeof codeName !== 'string' || !/^[A-Z]+(_[A-Z]+)*$/.test(codeName)) {\r\n\t\t\t\tthrow new Error('Code name must be a string in UPPER_CASE_WITH_UNDERSCORES');\r\n\t\t\t}\r\n\t\t\tif (typeof codeNumber !== 'number' || codeNumber%1 !== 0 || codeNumber < 10000) {\r\n\t\t\t\tthrow new Error('Code number must be an integer > 10000');\r\n\t\t\t}\r\n\t\t\tif (typeof ErrorCodes[codeName] !== 'undefined') {\r\n\t\t\t\tthrow new Error('Error already defined: ' + codeName + ' as ' + ErrorCodes[codeName]);\r\n\t\t\t}\r\n\t\t\tif (typeof ErrorCodeLookup[codeNumber] !== 'undefined') {\r\n\t\t\t\tthrow new Error('Error code already used: ' + ErrorCodeLookup[codeNumber] + ' as ' + codeNumber);\r\n\t\t\t}\r\n\t\t\tErrorCodes[codeName] = codeNumber;\r\n\t\t\tErrorCodeLookup[codeNumber] = codeName;\r\n\t\t\tErrorMessagesDefault[codeName] = ErrorMessagesDefault[codeNumber] = defaultMessage;\r\n\t\t\tfor (var langCode in languages) {\r\n\t\t\t\tvar language = languages[langCode];\r\n\t\t\t\tif (language[codeName]) {\r\n\t\t\t\t\tlanguage[codeNumber] = language[codeNumber] || language[codeName];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\treset: function () {\r\n\t\t\tglobalContext.reset();\r\n\t\t\tthis.error = null;\r\n\t\t\tthis.missing = [];\r\n\t\t\tthis.valid = true;\r\n\t\t},\r\n\t\tmissing: [],\r\n\t\terror: null,\r\n\t\tvalid: true,\r\n\t\tnormSchema: normSchema,\r\n\t\tresolveUrl: resolveUrl,\r\n\t\tgetDocumentUri: getDocumentUri,\r\n\t\terrorCodes: ErrorCodes\r\n\t};\r\n\tapi.language(language || 'en');\r\n\treturn api;\r\n}\r\n\r\nvar tv4 = createApi();\r\ntv4.addLanguage('en-gb', ErrorMessagesDefault);\r\n\r\n//legacy property\r\ntv4.tv4 = tv4;\r\n\r\nreturn tv4; // used by _header.js to globalise.\r\n\r\n}));","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst JournalStore_1 = require(\"./JournalStore\");\n/**\n * In-memory journal storage\n *\n */\nclass MemoryJournalStore extends JournalStore_1.default {\n    constructor(graph) {\n        super(graph);\n        this.transactions = [];\n    }\n    countTransactions() {\n        return this.transactions.length;\n    }\n    putTransaction(revId, entries) {\n        super.putTransaction(revId, entries);\n        this.transactions[revId] = entries;\n    }\n    fetchTransaction(revId) {\n        return this.transactions[revId];\n    }\n}\nexports.default = MemoryJournalStore;\n//# sourceMappingURL=MemoryJournalStore.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isBrowser = void 0;\n//     NoFlo - Flow-Based Programming for JavaScript\n//     (c) 2014-2017 Flowhub UG\n//     NoFlo may be freely distributed under the MIT license\n//\n// Platform detection method\n/* eslint-env browser, node */\nfunction isBrowser() {\n    if ((typeof process !== 'undefined') && process.execPath && process.execPath.match(/node|iojs/)) {\n        return false;\n    }\n    return true;\n}\nexports.isBrowser = isBrowser;\n;\n//# sourceMappingURL=Platform.js.map","module.exports = (function() {\n  \"use strict\";\n\n  /*\n   * Generated by PEG.js 0.9.0.\n   *\n   * http://pegjs.org/\n   */\n\n  function peg$subclass(child, parent) {\n    function ctor() { this.constructor = child; }\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n  }\n\n  function peg$SyntaxError(message, expected, found, location) {\n    this.message  = message;\n    this.expected = expected;\n    this.found    = found;\n    this.location = location;\n    this.name     = \"SyntaxError\";\n\n    if (typeof Error.captureStackTrace === \"function\") {\n      Error.captureStackTrace(this, peg$SyntaxError);\n    }\n  }\n\n  peg$subclass(peg$SyntaxError, Error);\n\n  function peg$parse(input) {\n    var options = arguments.length > 1 ? arguments[1] : {},\n        parser  = this,\n\n        peg$FAILED = {},\n\n        peg$startRuleFunctions = { start: peg$parsestart },\n        peg$startRuleFunction  = peg$parsestart,\n\n        peg$c0 = function() { return parser.getResult();  },\n        peg$c1 = \"INPORT=\",\n        peg$c2 = { type: \"literal\", value: \"INPORT=\", description: \"\\\"INPORT=\\\"\" },\n        peg$c3 = \".\",\n        peg$c4 = { type: \"literal\", value: \".\", description: \"\\\".\\\"\" },\n        peg$c5 = \":\",\n        peg$c6 = { type: \"literal\", value: \":\", description: \"\\\":\\\"\" },\n        peg$c7 = function(node, port, pub) {return parser.registerInports(node,port,pub)},\n        peg$c8 = \"OUTPORT=\",\n        peg$c9 = { type: \"literal\", value: \"OUTPORT=\", description: \"\\\"OUTPORT=\\\"\" },\n        peg$c10 = function(node, port, pub) {return parser.registerOutports(node,port,pub)},\n        peg$c11 = \"DEFAULT_INPORT=\",\n        peg$c12 = { type: \"literal\", value: \"DEFAULT_INPORT=\", description: \"\\\"DEFAULT_INPORT=\\\"\" },\n        peg$c13 = function(name) { defaultInPort = name},\n        peg$c14 = \"DEFAULT_OUTPORT=\",\n        peg$c15 = { type: \"literal\", value: \"DEFAULT_OUTPORT=\", description: \"\\\"DEFAULT_OUTPORT=\\\"\" },\n        peg$c16 = function(name) { defaultOutPort = name},\n        peg$c17 = function(annotation) { return parser.registerAnnotation(annotation[0], annotation[1]); },\n        peg$c18 = function(edges) {return parser.registerEdges(edges);},\n        peg$c19 = \",\",\n        peg$c20 = { type: \"literal\", value: \",\", description: \"\\\",\\\"\" },\n        peg$c21 = /^[\\n\\r\\u2028\\u2029]/,\n        peg$c22 = { type: \"class\", value: \"[\\\\n\\\\r\\\\u2028\\\\u2029]\", description: \"[\\\\n\\\\r\\\\u2028\\\\u2029]\" },\n        peg$c23 = \"#\",\n        peg$c24 = { type: \"literal\", value: \"#\", description: \"\\\"#\\\"\" },\n        peg$c25 = \"->\",\n        peg$c26 = { type: \"literal\", value: \"->\", description: \"\\\"->\\\"\" },\n        peg$c27 = function(x, y) { return [x,y]; },\n        peg$c28 = function(x, proc, y) { return [{\"tgt\":makeInPort(proc, x)},{\"src\":makeOutPort(proc, y)}]; },\n        peg$c29 = function(proc, port) { return {\"src\":makeOutPort(proc, port)} },\n        peg$c30 = function(port, proc) { return {\"tgt\":makeInPort(proc, port)} },\n        peg$c31 = \"'\",\n        peg$c32 = { type: \"literal\", value: \"'\", description: \"\\\"'\\\"\" },\n        peg$c33 = function(iip) { return {\"data\":iip.join(\"\")} },\n        peg$c34 = function(iip) { return {\"data\":iip} },\n        peg$c35 = function(name) { return name},\n        peg$c36 = /^[a-zA-Z_]/,\n        peg$c37 = { type: \"class\", value: \"[a-zA-Z_]\", description: \"[a-zA-Z_]\" },\n        peg$c38 = /^[a-zA-Z0-9_\\-]/,\n        peg$c39 = { type: \"class\", value: \"[a-zA-Z0-9_\\\\-]\", description: \"[a-zA-Z0-9_\\\\-]\" },\n        peg$c40 = function(name) { return makeName(name)},\n        peg$c41 = function(name, comp) { parser.addNode(name,comp); return name},\n        peg$c42 = function(comp) { return parser.addAnonymousNode(comp, location().start.offset) },\n        peg$c43 = \"(\",\n        peg$c44 = { type: \"literal\", value: \"(\", description: \"\\\"(\\\"\" },\n        peg$c45 = /^[a-zA-Z\\/\\-0-9_]/,\n        peg$c46 = { type: \"class\", value: \"[a-zA-Z/\\\\-0-9_]\", description: \"[a-zA-Z/\\\\-0-9_]\" },\n        peg$c47 = \")\",\n        peg$c48 = { type: \"literal\", value: \")\", description: \"\\\")\\\"\" },\n        peg$c49 = function(comp, meta) { var o = {}; comp ? o.comp = comp.join(\"\") : o.comp = ''; meta ? o.meta = meta.join(\"\").split(',') : null; return o; },\n        peg$c50 = /^[a-zA-Z\\/=_,0-9]/,\n        peg$c51 = { type: \"class\", value: \"[a-zA-Z/=_,0-9]\", description: \"[a-zA-Z/=_,0-9]\" },\n        peg$c52 = function(meta) {return meta},\n        peg$c53 = \"@\",\n        peg$c54 = { type: \"literal\", value: \"@\", description: \"\\\"@\\\"\" },\n        peg$c55 = /^[a-zA-Z0-9\\-_]/,\n        peg$c56 = { type: \"class\", value: \"[a-zA-Z0-9\\\\-_]\", description: \"[a-zA-Z0-9\\\\-_]\" },\n        peg$c57 = /^[a-zA-Z0-9\\-_ .]/,\n        peg$c58 = { type: \"class\", value: \"[a-zA-Z0-9\\\\-_ \\\\.]\", description: \"[a-zA-Z0-9\\\\-_ \\\\.]\" },\n        peg$c59 = function(key, value) { return [key.join(''), value.join('')]; },\n        peg$c60 = function(portname, portindex) {return { port: options.caseSensitive? portname : portname.toLowerCase(), index: portindex != null ? portindex : undefined }},\n        peg$c61 = function(port) { return port; },\n        peg$c62 = /^[a-zA-Z.0-9_]/,\n        peg$c63 = { type: \"class\", value: \"[a-zA-Z.0-9_]\", description: \"[a-zA-Z.0-9_]\" },\n        peg$c64 = function(portname) {return makeName(portname)},\n        peg$c65 = \"[\",\n        peg$c66 = { type: \"literal\", value: \"[\", description: \"\\\"[\\\"\" },\n        peg$c67 = /^[0-9]/,\n        peg$c68 = { type: \"class\", value: \"[0-9]\", description: \"[0-9]\" },\n        peg$c69 = \"]\",\n        peg$c70 = { type: \"literal\", value: \"]\", description: \"\\\"]\\\"\" },\n        peg$c71 = function(portindex) {return parseInt(portindex.join(''))},\n        peg$c72 = /^[^\\n\\r\\u2028\\u2029]/,\n        peg$c73 = { type: \"class\", value: \"[^\\\\n\\\\r\\\\u2028\\\\u2029]\", description: \"[^\\\\n\\\\r\\\\u2028\\\\u2029]\" },\n        peg$c74 = /^[\\\\]/,\n        peg$c75 = { type: \"class\", value: \"[\\\\\\\\]\", description: \"[\\\\\\\\]\" },\n        peg$c76 = /^[']/,\n        peg$c77 = { type: \"class\", value: \"[']\", description: \"[']\" },\n        peg$c78 = function() { return \"'\"; },\n        peg$c79 = /^[^']/,\n        peg$c80 = { type: \"class\", value: \"[^']\", description: \"[^']\" },\n        peg$c81 = \" \",\n        peg$c82 = { type: \"literal\", value: \" \", description: \"\\\" \\\"\" },\n        peg$c83 = function(value) { return value; },\n        peg$c84 = \"{\",\n        peg$c85 = { type: \"literal\", value: \"{\", description: \"\\\"{\\\"\" },\n        peg$c86 = \"}\",\n        peg$c87 = { type: \"literal\", value: \"}\", description: \"\\\"}\\\"\" },\n        peg$c88 = { type: \"other\", description: \"whitespace\" },\n        peg$c89 = /^[ \\t\\n\\r]/,\n        peg$c90 = { type: \"class\", value: \"[ \\\\t\\\\n\\\\r]\", description: \"[ \\\\t\\\\n\\\\r]\" },\n        peg$c91 = \"false\",\n        peg$c92 = { type: \"literal\", value: \"false\", description: \"\\\"false\\\"\" },\n        peg$c93 = function() { return false; },\n        peg$c94 = \"null\",\n        peg$c95 = { type: \"literal\", value: \"null\", description: \"\\\"null\\\"\" },\n        peg$c96 = function() { return null;  },\n        peg$c97 = \"true\",\n        peg$c98 = { type: \"literal\", value: \"true\", description: \"\\\"true\\\"\" },\n        peg$c99 = function() { return true;  },\n        peg$c100 = function(head, m) { return m; },\n        peg$c101 = function(head, tail) {\n                  var result = {}, i;\n\n                  result[head.name] = head.value;\n\n                  for (i = 0; i < tail.length; i++) {\n                    result[tail[i].name] = tail[i].value;\n                  }\n\n                  return result;\n                },\n        peg$c102 = function(members) { return members !== null ? members: {}; },\n        peg$c103 = function(name, value) {\n                return { name: name, value: value };\n              },\n        peg$c104 = function(head, v) { return v; },\n        peg$c105 = function(head, tail) { return [head].concat(tail); },\n        peg$c106 = function(values) { return values !== null ? values : []; },\n        peg$c107 = { type: \"other\", description: \"number\" },\n        peg$c108 = function() { return parseFloat(text()); },\n        peg$c109 = /^[1-9]/,\n        peg$c110 = { type: \"class\", value: \"[1-9]\", description: \"[1-9]\" },\n        peg$c111 = /^[eE]/,\n        peg$c112 = { type: \"class\", value: \"[eE]\", description: \"[eE]\" },\n        peg$c113 = \"-\",\n        peg$c114 = { type: \"literal\", value: \"-\", description: \"\\\"-\\\"\" },\n        peg$c115 = \"+\",\n        peg$c116 = { type: \"literal\", value: \"+\", description: \"\\\"+\\\"\" },\n        peg$c117 = \"0\",\n        peg$c118 = { type: \"literal\", value: \"0\", description: \"\\\"0\\\"\" },\n        peg$c119 = { type: \"other\", description: \"string\" },\n        peg$c120 = function(chars) { return chars.join(\"\"); },\n        peg$c121 = \"\\\"\",\n        peg$c122 = { type: \"literal\", value: \"\\\"\", description: \"\\\"\\\\\\\"\\\"\" },\n        peg$c123 = \"\\\\\",\n        peg$c124 = { type: \"literal\", value: \"\\\\\", description: \"\\\"\\\\\\\\\\\"\" },\n        peg$c125 = \"/\",\n        peg$c126 = { type: \"literal\", value: \"/\", description: \"\\\"/\\\"\" },\n        peg$c127 = \"b\",\n        peg$c128 = { type: \"literal\", value: \"b\", description: \"\\\"b\\\"\" },\n        peg$c129 = function() { return \"\\b\"; },\n        peg$c130 = \"f\",\n        peg$c131 = { type: \"literal\", value: \"f\", description: \"\\\"f\\\"\" },\n        peg$c132 = function() { return \"\\f\"; },\n        peg$c133 = \"n\",\n        peg$c134 = { type: \"literal\", value: \"n\", description: \"\\\"n\\\"\" },\n        peg$c135 = function() { return \"\\n\"; },\n        peg$c136 = \"r\",\n        peg$c137 = { type: \"literal\", value: \"r\", description: \"\\\"r\\\"\" },\n        peg$c138 = function() { return \"\\r\"; },\n        peg$c139 = \"t\",\n        peg$c140 = { type: \"literal\", value: \"t\", description: \"\\\"t\\\"\" },\n        peg$c141 = function() { return \"\\t\"; },\n        peg$c142 = \"u\",\n        peg$c143 = { type: \"literal\", value: \"u\", description: \"\\\"u\\\"\" },\n        peg$c144 = function(digits) {\n                    return String.fromCharCode(parseInt(digits, 16));\n                  },\n        peg$c145 = function(sequence) { return sequence; },\n        peg$c146 = /^[^\\0-\\x1F\"\\\\]/,\n        peg$c147 = { type: \"class\", value: \"[^\\\\0-\\\\x1F\\\\x22\\\\x5C]\", description: \"[^\\\\0-\\\\x1F\\\\x22\\\\x5C]\" },\n        peg$c148 = /^[0-9a-f]/i,\n        peg$c149 = { type: \"class\", value: \"[0-9a-f]i\", description: \"[0-9a-f]i\" },\n\n        peg$currPos          = 0,\n        peg$savedPos         = 0,\n        peg$posDetailsCache  = [{ line: 1, column: 1, seenCR: false }],\n        peg$maxFailPos       = 0,\n        peg$maxFailExpected  = [],\n        peg$silentFails      = 0,\n\n        peg$result;\n\n    if (\"startRule\" in options) {\n      if (!(options.startRule in peg$startRuleFunctions)) {\n        throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n      }\n\n      peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n    }\n\n    function text() {\n      return input.substring(peg$savedPos, peg$currPos);\n    }\n\n    function location() {\n      return peg$computeLocation(peg$savedPos, peg$currPos);\n    }\n\n    function expected(description) {\n      throw peg$buildException(\n        null,\n        [{ type: \"other\", description: description }],\n        input.substring(peg$savedPos, peg$currPos),\n        peg$computeLocation(peg$savedPos, peg$currPos)\n      );\n    }\n\n    function error(message) {\n      throw peg$buildException(\n        message,\n        null,\n        input.substring(peg$savedPos, peg$currPos),\n        peg$computeLocation(peg$savedPos, peg$currPos)\n      );\n    }\n\n    function peg$computePosDetails(pos) {\n      var details = peg$posDetailsCache[pos],\n          p, ch;\n\n      if (details) {\n        return details;\n      } else {\n        p = pos - 1;\n        while (!peg$posDetailsCache[p]) {\n          p--;\n        }\n\n        details = peg$posDetailsCache[p];\n        details = {\n          line:   details.line,\n          column: details.column,\n          seenCR: details.seenCR\n        };\n\n        while (p < pos) {\n          ch = input.charAt(p);\n          if (ch === \"\\n\") {\n            if (!details.seenCR) { details.line++; }\n            details.column = 1;\n            details.seenCR = false;\n          } else if (ch === \"\\r\" || ch === \"\\u2028\" || ch === \"\\u2029\") {\n            details.line++;\n            details.column = 1;\n            details.seenCR = true;\n          } else {\n            details.column++;\n            details.seenCR = false;\n          }\n\n          p++;\n        }\n\n        peg$posDetailsCache[pos] = details;\n        return details;\n      }\n    }\n\n    function peg$computeLocation(startPos, endPos) {\n      var startPosDetails = peg$computePosDetails(startPos),\n          endPosDetails   = peg$computePosDetails(endPos);\n\n      return {\n        start: {\n          offset: startPos,\n          line:   startPosDetails.line,\n          column: startPosDetails.column\n        },\n        end: {\n          offset: endPos,\n          line:   endPosDetails.line,\n          column: endPosDetails.column\n        }\n      };\n    }\n\n    function peg$fail(expected) {\n      if (peg$currPos < peg$maxFailPos) { return; }\n\n      if (peg$currPos > peg$maxFailPos) {\n        peg$maxFailPos = peg$currPos;\n        peg$maxFailExpected = [];\n      }\n\n      peg$maxFailExpected.push(expected);\n    }\n\n    function peg$buildException(message, expected, found, location) {\n      function cleanupExpected(expected) {\n        var i = 1;\n\n        expected.sort(function(a, b) {\n          if (a.description < b.description) {\n            return -1;\n          } else if (a.description > b.description) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n\n        while (i < expected.length) {\n          if (expected[i - 1] === expected[i]) {\n            expected.splice(i, 1);\n          } else {\n            i++;\n          }\n        }\n      }\n\n      function buildMessage(expected, found) {\n        function stringEscape(s) {\n          function hex(ch) { return ch.charCodeAt(0).toString(16).toUpperCase(); }\n\n          return s\n            .replace(/\\\\/g,   '\\\\\\\\')\n            .replace(/\"/g,    '\\\\\"')\n            .replace(/\\x08/g, '\\\\b')\n            .replace(/\\t/g,   '\\\\t')\n            .replace(/\\n/g,   '\\\\n')\n            .replace(/\\f/g,   '\\\\f')\n            .replace(/\\r/g,   '\\\\r')\n            .replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function(ch) { return '\\\\x0' + hex(ch); })\n            .replace(/[\\x10-\\x1F\\x80-\\xFF]/g,    function(ch) { return '\\\\x'  + hex(ch); })\n            .replace(/[\\u0100-\\u0FFF]/g,         function(ch) { return '\\\\u0' + hex(ch); })\n            .replace(/[\\u1000-\\uFFFF]/g,         function(ch) { return '\\\\u'  + hex(ch); });\n        }\n\n        var expectedDescs = new Array(expected.length),\n            expectedDesc, foundDesc, i;\n\n        for (i = 0; i < expected.length; i++) {\n          expectedDescs[i] = expected[i].description;\n        }\n\n        expectedDesc = expected.length > 1\n          ? expectedDescs.slice(0, -1).join(\", \")\n              + \" or \"\n              + expectedDescs[expected.length - 1]\n          : expectedDescs[0];\n\n        foundDesc = found ? \"\\\"\" + stringEscape(found) + \"\\\"\" : \"end of input\";\n\n        return \"Expected \" + expectedDesc + \" but \" + foundDesc + \" found.\";\n      }\n\n      if (expected !== null) {\n        cleanupExpected(expected);\n      }\n\n      return new peg$SyntaxError(\n        message !== null ? message : buildMessage(expected, found),\n        expected,\n        found,\n        location\n      );\n    }\n\n    function peg$parsestart() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parseline();\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parseline();\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c0();\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parseline() {\n      var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9;\n\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        if (input.substr(peg$currPos, 7) === peg$c1) {\n          s2 = peg$c1;\n          peg$currPos += 7;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c2); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsenode();\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 46) {\n              s4 = peg$c3;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c4); }\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parseportName();\n              if (s5 !== peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 58) {\n                  s6 = peg$c5;\n                  peg$currPos++;\n                } else {\n                  s6 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c6); }\n                }\n                if (s6 !== peg$FAILED) {\n                  s7 = peg$parseportName();\n                  if (s7 !== peg$FAILED) {\n                    s8 = peg$parse_();\n                    if (s8 !== peg$FAILED) {\n                      s9 = peg$parseLineTerminator();\n                      if (s9 === peg$FAILED) {\n                        s9 = null;\n                      }\n                      if (s9 !== peg$FAILED) {\n                        peg$savedPos = s0;\n                        s1 = peg$c7(s3, s5, s7);\n                        s0 = s1;\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parse_();\n        if (s1 !== peg$FAILED) {\n          if (input.substr(peg$currPos, 8) === peg$c8) {\n            s2 = peg$c8;\n            peg$currPos += 8;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c9); }\n          }\n          if (s2 !== peg$FAILED) {\n            s3 = peg$parsenode();\n            if (s3 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 46) {\n                s4 = peg$c3;\n                peg$currPos++;\n              } else {\n                s4 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c4); }\n              }\n              if (s4 !== peg$FAILED) {\n                s5 = peg$parseportName();\n                if (s5 !== peg$FAILED) {\n                  if (input.charCodeAt(peg$currPos) === 58) {\n                    s6 = peg$c5;\n                    peg$currPos++;\n                  } else {\n                    s6 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c6); }\n                  }\n                  if (s6 !== peg$FAILED) {\n                    s7 = peg$parseportName();\n                    if (s7 !== peg$FAILED) {\n                      s8 = peg$parse_();\n                      if (s8 !== peg$FAILED) {\n                        s9 = peg$parseLineTerminator();\n                        if (s9 === peg$FAILED) {\n                          s9 = null;\n                        }\n                        if (s9 !== peg$FAILED) {\n                          peg$savedPos = s0;\n                          s1 = peg$c10(s3, s5, s7);\n                          s0 = s1;\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          s1 = peg$parse_();\n          if (s1 !== peg$FAILED) {\n            if (input.substr(peg$currPos, 15) === peg$c11) {\n              s2 = peg$c11;\n              peg$currPos += 15;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c12); }\n            }\n            if (s2 !== peg$FAILED) {\n              s3 = peg$parseportName();\n              if (s3 !== peg$FAILED) {\n                s4 = peg$parse_();\n                if (s4 !== peg$FAILED) {\n                  s5 = peg$parseLineTerminator();\n                  if (s5 === peg$FAILED) {\n                    s5 = null;\n                  }\n                  if (s5 !== peg$FAILED) {\n                    peg$savedPos = s0;\n                    s1 = peg$c13(s3);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            s1 = peg$parse_();\n            if (s1 !== peg$FAILED) {\n              if (input.substr(peg$currPos, 16) === peg$c14) {\n                s2 = peg$c14;\n                peg$currPos += 16;\n              } else {\n                s2 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c15); }\n              }\n              if (s2 !== peg$FAILED) {\n                s3 = peg$parseportName();\n                if (s3 !== peg$FAILED) {\n                  s4 = peg$parse_();\n                  if (s4 !== peg$FAILED) {\n                    s5 = peg$parseLineTerminator();\n                    if (s5 === peg$FAILED) {\n                      s5 = null;\n                    }\n                    if (s5 !== peg$FAILED) {\n                      peg$savedPos = s0;\n                      s1 = peg$c16(s3);\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n            if (s0 === peg$FAILED) {\n              s0 = peg$currPos;\n              s1 = peg$parseannotation();\n              if (s1 !== peg$FAILED) {\n                s2 = peg$parsenewline();\n                if (s2 !== peg$FAILED) {\n                  peg$savedPos = s0;\n                  s1 = peg$c17(s1);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n              if (s0 === peg$FAILED) {\n                s0 = peg$currPos;\n                s1 = peg$parsecomment();\n                if (s1 !== peg$FAILED) {\n                  s2 = peg$parsenewline();\n                  if (s2 === peg$FAILED) {\n                    s2 = null;\n                  }\n                  if (s2 !== peg$FAILED) {\n                    s1 = [s1, s2];\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n                if (s0 === peg$FAILED) {\n                  s0 = peg$currPos;\n                  s1 = peg$parse_();\n                  if (s1 !== peg$FAILED) {\n                    s2 = peg$parsenewline();\n                    if (s2 !== peg$FAILED) {\n                      s1 = [s1, s2];\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                  if (s0 === peg$FAILED) {\n                    s0 = peg$currPos;\n                    s1 = peg$parse_();\n                    if (s1 !== peg$FAILED) {\n                      s2 = peg$parseconnection();\n                      if (s2 !== peg$FAILED) {\n                        s3 = peg$parse_();\n                        if (s3 !== peg$FAILED) {\n                          s4 = peg$parseLineTerminator();\n                          if (s4 === peg$FAILED) {\n                            s4 = null;\n                          }\n                          if (s4 !== peg$FAILED) {\n                            peg$savedPos = s0;\n                            s1 = peg$c18(s2);\n                            s0 = s1;\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseLineTerminator() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 44) {\n          s2 = peg$c19;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c20); }\n        }\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsecomment();\n          if (s3 === peg$FAILED) {\n            s3 = null;\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parsenewline();\n            if (s4 === peg$FAILED) {\n              s4 = null;\n            }\n            if (s4 !== peg$FAILED) {\n              s1 = [s1, s2, s3, s4];\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsenewline() {\n      var s0;\n\n      if (peg$c21.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c22); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsecomment() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 35) {\n          s2 = peg$c23;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c24); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parseanychar();\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parseanychar();\n          }\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseconnection() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      s1 = peg$parsesource();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          if (input.substr(peg$currPos, 2) === peg$c25) {\n            s3 = peg$c25;\n            peg$currPos += 2;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c26); }\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parse_();\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parseconnection();\n              if (s5 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c27(s1, s5);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsedestination();\n      }\n\n      return s0;\n    }\n\n    function peg$parsesource() {\n      var s0;\n\n      s0 = peg$parsebridge();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseoutport();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseiip();\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parsedestination() {\n      var s0;\n\n      s0 = peg$parseinport();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsebridge();\n      }\n\n      return s0;\n    }\n\n    function peg$parsebridge() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parseport__();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsenode();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parse__port();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c28(s1, s2, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parseport__();\n        if (s1 === peg$FAILED) {\n          s1 = null;\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parsenodeWithComponent();\n          if (s2 !== peg$FAILED) {\n            s3 = peg$parse__port();\n            if (s3 === peg$FAILED) {\n              s3 = null;\n            }\n            if (s3 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c28(s1, s2, s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseoutport() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parsenode();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse__port();\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c29(s1, s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseinport() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parseport__();\n      if (s1 === peg$FAILED) {\n        s1 = null;\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsenode();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c30(s1, s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseiip() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 39) {\n        s1 = peg$c31;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c32); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parseiipchar();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parseiipchar();\n        }\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 39) {\n            s3 = peg$c31;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c32); }\n          }\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c33(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parseJSON_text();\n        if (s1 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c34(s1);\n        }\n        s0 = s1;\n      }\n\n      return s0;\n    }\n\n    function peg$parsenode() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      s1 = peg$parsenodeNameAndComponent();\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c35(s1);\n      }\n      s0 = s1;\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parsenodeName();\n        if (s1 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c35(s1);\n        }\n        s0 = s1;\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          s1 = peg$parsenodeComponent();\n          if (s1 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c35(s1);\n          }\n          s0 = s1;\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parsenodeName() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      if (peg$c36.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c37); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        if (peg$c38.test(input.charAt(peg$currPos))) {\n          s4 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s4 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c39); }\n        }\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          if (peg$c38.test(input.charAt(peg$currPos))) {\n            s4 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c39); }\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c40(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsenodeNameAndComponent() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parsenodeName();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsecomponent();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c41(s1, s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsenodeComponent() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      s1 = peg$parsecomponent();\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c42(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsenodeWithComponent() {\n      var s0;\n\n      s0 = peg$parsenodeNameAndComponent();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsenodeComponent();\n      }\n\n      return s0;\n    }\n\n    function peg$parsecomponent() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s1 = peg$c43;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c44); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        if (peg$c45.test(input.charAt(peg$currPos))) {\n          s3 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c46); }\n        }\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          if (peg$c45.test(input.charAt(peg$currPos))) {\n            s3 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c46); }\n          }\n        }\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsecompMeta();\n          if (s3 === peg$FAILED) {\n            s3 = null;\n          }\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 41) {\n              s4 = peg$c47;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c48); }\n            }\n            if (s4 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c49(s2, s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsecompMeta() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 58) {\n        s1 = peg$c5;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c6); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        if (peg$c50.test(input.charAt(peg$currPos))) {\n          s3 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c51); }\n        }\n        if (s3 !== peg$FAILED) {\n          while (s3 !== peg$FAILED) {\n            s2.push(s3);\n            if (peg$c50.test(input.charAt(peg$currPos))) {\n              s3 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s3 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c51); }\n            }\n          }\n        } else {\n          s2 = peg$FAILED;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c52(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseannotation() {\n      var s0, s1, s2, s3, s4, s5, s6, s7;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 35) {\n        s1 = peg$c23;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c24); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse__();\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 64) {\n            s3 = peg$c53;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c54); }\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = [];\n            if (peg$c55.test(input.charAt(peg$currPos))) {\n              s5 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c56); }\n            }\n            if (s5 !== peg$FAILED) {\n              while (s5 !== peg$FAILED) {\n                s4.push(s5);\n                if (peg$c55.test(input.charAt(peg$currPos))) {\n                  s5 = input.charAt(peg$currPos);\n                  peg$currPos++;\n                } else {\n                  s5 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c56); }\n                }\n              }\n            } else {\n              s4 = peg$FAILED;\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parse__();\n              if (s5 !== peg$FAILED) {\n                s6 = [];\n                if (peg$c57.test(input.charAt(peg$currPos))) {\n                  s7 = input.charAt(peg$currPos);\n                  peg$currPos++;\n                } else {\n                  s7 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c58); }\n                }\n                if (s7 !== peg$FAILED) {\n                  while (s7 !== peg$FAILED) {\n                    s6.push(s7);\n                    if (peg$c57.test(input.charAt(peg$currPos))) {\n                      s7 = input.charAt(peg$currPos);\n                      peg$currPos++;\n                    } else {\n                      s7 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c58); }\n                    }\n                  }\n                } else {\n                  s6 = peg$FAILED;\n                }\n                if (s6 !== peg$FAILED) {\n                  peg$savedPos = s0;\n                  s1 = peg$c59(s4, s6);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseport() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parseportName();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseportIndex();\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c60(s1, s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseport__() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parseport();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse__();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c61(s1);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parse__port() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = peg$parse__();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseport();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c61(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseportName() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      if (peg$c36.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c37); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        if (peg$c62.test(input.charAt(peg$currPos))) {\n          s4 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s4 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c63); }\n        }\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          if (peg$c62.test(input.charAt(peg$currPos))) {\n            s4 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c63); }\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c64(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parseportIndex() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 91) {\n        s1 = peg$c65;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c66); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        if (peg$c67.test(input.charAt(peg$currPos))) {\n          s3 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c68); }\n        }\n        if (s3 !== peg$FAILED) {\n          while (s3 !== peg$FAILED) {\n            s2.push(s3);\n            if (peg$c67.test(input.charAt(peg$currPos))) {\n              s3 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s3 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c68); }\n            }\n          }\n        } else {\n          s2 = peg$FAILED;\n        }\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 93) {\n            s3 = peg$c69;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c70); }\n          }\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c71(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseanychar() {\n      var s0;\n\n      if (peg$c72.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c73); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseiipchar() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      if (peg$c74.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c75); }\n      }\n      if (s1 !== peg$FAILED) {\n        if (peg$c76.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c77); }\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c78();\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      if (s0 === peg$FAILED) {\n        if (peg$c79.test(input.charAt(peg$currPos))) {\n          s0 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s0 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c80); }\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parse_() {\n      var s0, s1;\n\n      s0 = [];\n      if (input.charCodeAt(peg$currPos) === 32) {\n        s1 = peg$c81;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c82); }\n      }\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        if (input.charCodeAt(peg$currPos) === 32) {\n          s1 = peg$c81;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c82); }\n        }\n      }\n      if (s0 === peg$FAILED) {\n        s0 = null;\n      }\n\n      return s0;\n    }\n\n    function peg$parse__() {\n      var s0, s1;\n\n      s0 = [];\n      if (input.charCodeAt(peg$currPos) === 32) {\n        s1 = peg$c81;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c82); }\n      }\n      if (s1 !== peg$FAILED) {\n        while (s1 !== peg$FAILED) {\n          s0.push(s1);\n          if (input.charCodeAt(peg$currPos) === 32) {\n            s1 = peg$c81;\n            peg$currPos++;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c82); }\n          }\n        }\n      } else {\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseJSON_text() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsevalue();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c83(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsebegin_array() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 91) {\n          s2 = peg$c65;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c66); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsebegin_object() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 123) {\n          s2 = peg$c84;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c85); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseend_array() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 93) {\n          s2 = peg$c69;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c70); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseend_object() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 125) {\n          s2 = peg$c86;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c87); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsename_separator() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 58) {\n          s2 = peg$c5;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c6); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsevalue_separator() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsews();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 44) {\n          s2 = peg$c19;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c20); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsews();\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsews() {\n      var s0, s1;\n\n      peg$silentFails++;\n      s0 = [];\n      if (peg$c89.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c90); }\n      }\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        if (peg$c89.test(input.charAt(peg$currPos))) {\n          s1 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c90); }\n        }\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c88); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsevalue() {\n      var s0;\n\n      s0 = peg$parsefalse();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsenull();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parsetrue();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseobject();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parsearray();\n              if (s0 === peg$FAILED) {\n                s0 = peg$parsenumber();\n                if (s0 === peg$FAILED) {\n                  s0 = peg$parsestring();\n                }\n              }\n            }\n          }\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parsefalse() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 5) === peg$c91) {\n        s1 = peg$c91;\n        peg$currPos += 5;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c92); }\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c93();\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsenull() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 4) === peg$c94) {\n        s1 = peg$c94;\n        peg$currPos += 4;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c95); }\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c96();\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsetrue() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 4) === peg$c97) {\n        s1 = peg$c97;\n        peg$currPos += 4;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c98); }\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c99();\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parseobject() {\n      var s0, s1, s2, s3, s4, s5, s6, s7;\n\n      s0 = peg$currPos;\n      s1 = peg$parsebegin_object();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$currPos;\n        s3 = peg$parsemember();\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          s5 = peg$currPos;\n          s6 = peg$parsevalue_separator();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsemember();\n            if (s7 !== peg$FAILED) {\n              peg$savedPos = s5;\n              s6 = peg$c100(s3, s7);\n              s5 = s6;\n            } else {\n              peg$currPos = s5;\n              s5 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s5;\n            s5 = peg$FAILED;\n          }\n          while (s5 !== peg$FAILED) {\n            s4.push(s5);\n            s5 = peg$currPos;\n            s6 = peg$parsevalue_separator();\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parsemember();\n              if (s7 !== peg$FAILED) {\n                peg$savedPos = s5;\n                s6 = peg$c100(s3, s7);\n                s5 = s6;\n              } else {\n                peg$currPos = s5;\n                s5 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s5;\n              s5 = peg$FAILED;\n            }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s2;\n            s3 = peg$c101(s3, s4);\n            s2 = s3;\n          } else {\n            peg$currPos = s2;\n            s2 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$FAILED;\n        }\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parseend_object();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c102(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsemember() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsestring();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsename_separator();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsevalue();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c103(s1, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsearray() {\n      var s0, s1, s2, s3, s4, s5, s6, s7;\n\n      s0 = peg$currPos;\n      s1 = peg$parsebegin_array();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$currPos;\n        s3 = peg$parsevalue();\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          s5 = peg$currPos;\n          s6 = peg$parsevalue_separator();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsevalue();\n            if (s7 !== peg$FAILED) {\n              peg$savedPos = s5;\n              s6 = peg$c104(s3, s7);\n              s5 = s6;\n            } else {\n              peg$currPos = s5;\n              s5 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s5;\n            s5 = peg$FAILED;\n          }\n          while (s5 !== peg$FAILED) {\n            s4.push(s5);\n            s5 = peg$currPos;\n            s6 = peg$parsevalue_separator();\n            if (s6 !== peg$FAILED) {\n              s7 = peg$parsevalue();\n              if (s7 !== peg$FAILED) {\n                peg$savedPos = s5;\n                s6 = peg$c104(s3, s7);\n                s5 = s6;\n              } else {\n                peg$currPos = s5;\n                s5 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s5;\n              s5 = peg$FAILED;\n            }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s2;\n            s3 = peg$c105(s3, s4);\n            s2 = s3;\n          } else {\n            peg$currPos = s2;\n            s2 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$FAILED;\n        }\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parseend_array();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c106(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsenumber() {\n      var s0, s1, s2, s3, s4;\n\n      peg$silentFails++;\n      s0 = peg$currPos;\n      s1 = peg$parseminus();\n      if (s1 === peg$FAILED) {\n        s1 = null;\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseint();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsefrac();\n          if (s3 === peg$FAILED) {\n            s3 = null;\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parseexp();\n            if (s4 === peg$FAILED) {\n              s4 = null;\n            }\n            if (s4 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c108();\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c107); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsedecimal_point() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 46) {\n        s0 = peg$c3;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c4); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsedigit1_9() {\n      var s0;\n\n      if (peg$c109.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c110); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsee() {\n      var s0;\n\n      if (peg$c111.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c112); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseexp() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      s1 = peg$parsee();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseminus();\n        if (s2 === peg$FAILED) {\n          s2 = peg$parseplus();\n        }\n        if (s2 === peg$FAILED) {\n          s2 = null;\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parseDIGIT();\n          if (s4 !== peg$FAILED) {\n            while (s4 !== peg$FAILED) {\n              s3.push(s4);\n              s4 = peg$parseDIGIT();\n            }\n          } else {\n            s3 = peg$FAILED;\n          }\n          if (s3 !== peg$FAILED) {\n            s1 = [s1, s2, s3];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parsefrac() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$parsedecimal_point();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parseDIGIT();\n        if (s3 !== peg$FAILED) {\n          while (s3 !== peg$FAILED) {\n            s2.push(s3);\n            s3 = peg$parseDIGIT();\n          }\n        } else {\n          s2 = peg$FAILED;\n        }\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n\n      return s0;\n    }\n\n    function peg$parseint() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$parsezero();\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parsedigit1_9();\n        if (s1 !== peg$FAILED) {\n          s2 = [];\n          s3 = peg$parseDIGIT();\n          while (s3 !== peg$FAILED) {\n            s2.push(s3);\n            s3 = peg$parseDIGIT();\n          }\n          if (s2 !== peg$FAILED) {\n            s1 = [s1, s2];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseminus() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 45) {\n        s0 = peg$c113;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c114); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseplus() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 43) {\n        s0 = peg$c115;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c116); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsezero() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 48) {\n        s0 = peg$c117;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c118); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsestring() {\n      var s0, s1, s2, s3;\n\n      peg$silentFails++;\n      s0 = peg$currPos;\n      s1 = peg$parsequotation_mark();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parsechar();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsechar();\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsequotation_mark();\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c120(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c119); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsechar() {\n      var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9;\n\n      s0 = peg$parseunescaped();\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parseescape();\n        if (s1 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 34) {\n            s2 = peg$c121;\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c122); }\n          }\n          if (s2 === peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 92) {\n              s2 = peg$c123;\n              peg$currPos++;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c124); }\n            }\n            if (s2 === peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 47) {\n                s2 = peg$c125;\n                peg$currPos++;\n              } else {\n                s2 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c126); }\n              }\n              if (s2 === peg$FAILED) {\n                s2 = peg$currPos;\n                if (input.charCodeAt(peg$currPos) === 98) {\n                  s3 = peg$c127;\n                  peg$currPos++;\n                } else {\n                  s3 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c128); }\n                }\n                if (s3 !== peg$FAILED) {\n                  peg$savedPos = s2;\n                  s3 = peg$c129();\n                }\n                s2 = s3;\n                if (s2 === peg$FAILED) {\n                  s2 = peg$currPos;\n                  if (input.charCodeAt(peg$currPos) === 102) {\n                    s3 = peg$c130;\n                    peg$currPos++;\n                  } else {\n                    s3 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c131); }\n                  }\n                  if (s3 !== peg$FAILED) {\n                    peg$savedPos = s2;\n                    s3 = peg$c132();\n                  }\n                  s2 = s3;\n                  if (s2 === peg$FAILED) {\n                    s2 = peg$currPos;\n                    if (input.charCodeAt(peg$currPos) === 110) {\n                      s3 = peg$c133;\n                      peg$currPos++;\n                    } else {\n                      s3 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c134); }\n                    }\n                    if (s3 !== peg$FAILED) {\n                      peg$savedPos = s2;\n                      s3 = peg$c135();\n                    }\n                    s2 = s3;\n                    if (s2 === peg$FAILED) {\n                      s2 = peg$currPos;\n                      if (input.charCodeAt(peg$currPos) === 114) {\n                        s3 = peg$c136;\n                        peg$currPos++;\n                      } else {\n                        s3 = peg$FAILED;\n                        if (peg$silentFails === 0) { peg$fail(peg$c137); }\n                      }\n                      if (s3 !== peg$FAILED) {\n                        peg$savedPos = s2;\n                        s3 = peg$c138();\n                      }\n                      s2 = s3;\n                      if (s2 === peg$FAILED) {\n                        s2 = peg$currPos;\n                        if (input.charCodeAt(peg$currPos) === 116) {\n                          s3 = peg$c139;\n                          peg$currPos++;\n                        } else {\n                          s3 = peg$FAILED;\n                          if (peg$silentFails === 0) { peg$fail(peg$c140); }\n                        }\n                        if (s3 !== peg$FAILED) {\n                          peg$savedPos = s2;\n                          s3 = peg$c141();\n                        }\n                        s2 = s3;\n                        if (s2 === peg$FAILED) {\n                          s2 = peg$currPos;\n                          if (input.charCodeAt(peg$currPos) === 117) {\n                            s3 = peg$c142;\n                            peg$currPos++;\n                          } else {\n                            s3 = peg$FAILED;\n                            if (peg$silentFails === 0) { peg$fail(peg$c143); }\n                          }\n                          if (s3 !== peg$FAILED) {\n                            s4 = peg$currPos;\n                            s5 = peg$currPos;\n                            s6 = peg$parseHEXDIG();\n                            if (s6 !== peg$FAILED) {\n                              s7 = peg$parseHEXDIG();\n                              if (s7 !== peg$FAILED) {\n                                s8 = peg$parseHEXDIG();\n                                if (s8 !== peg$FAILED) {\n                                  s9 = peg$parseHEXDIG();\n                                  if (s9 !== peg$FAILED) {\n                                    s6 = [s6, s7, s8, s9];\n                                    s5 = s6;\n                                  } else {\n                                    peg$currPos = s5;\n                                    s5 = peg$FAILED;\n                                  }\n                                } else {\n                                  peg$currPos = s5;\n                                  s5 = peg$FAILED;\n                                }\n                              } else {\n                                peg$currPos = s5;\n                                s5 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s5;\n                              s5 = peg$FAILED;\n                            }\n                            if (s5 !== peg$FAILED) {\n                              s4 = input.substring(s4, peg$currPos);\n                            } else {\n                              s4 = s5;\n                            }\n                            if (s4 !== peg$FAILED) {\n                              peg$savedPos = s2;\n                              s3 = peg$c144(s4);\n                              s2 = s3;\n                            } else {\n                              peg$currPos = s2;\n                              s2 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s2;\n                            s2 = peg$FAILED;\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n          if (s2 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c145(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parseescape() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 92) {\n        s0 = peg$c123;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c124); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsequotation_mark() {\n      var s0;\n\n      if (input.charCodeAt(peg$currPos) === 34) {\n        s0 = peg$c121;\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c122); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseunescaped() {\n      var s0;\n\n      if (peg$c146.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c147); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseDIGIT() {\n      var s0;\n\n      if (peg$c67.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c68); }\n      }\n\n      return s0;\n    }\n\n    function peg$parseHEXDIG() {\n      var s0;\n\n      if (peg$c148.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c149); }\n      }\n\n      return s0;\n    }\n\n\n      var parser, edges, nodes;\n\n      var defaultInPort = \"IN\", defaultOutPort = \"OUT\";\n\n      parser = this;\n      delete parser.properties;\n      delete parser.inports;\n      delete parser.outports;\n      delete parser.groups;\n\n      edges = parser.edges = [];\n\n      nodes = {};\n\n      var serialize, indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n      parser.validateContents = function(graph, options) {\n        // Ensure all nodes have a component\n        if (graph.processes) {\n          Object.keys(graph.processes).forEach(function (node) {\n            if (!graph.processes[node].component) {\n              throw new Error('Node \"' + node + '\" does not have a component defined');\n            }\n          });\n        }\n        // Ensure all inports point to existing nodes\n        if (graph.inports) {\n          Object.keys(graph.inports).forEach(function (port) {\n            var portDef = graph.inports[port];\n            if (!graph.processes[portDef.process]) {\n              throw new Error('Inport \"' + port + '\" is connected to an undefined target node \"' + portDef.process + '\"');\n            }\n          });\n        }\n        // Ensure all outports point to existing nodes\n        if (graph.outports) {\n          Object.keys(graph.outports).forEach(function (port) {\n            var portDef = graph.outports[port];\n            if (!graph.processes[portDef.process]) {\n              throw new Error('Outport \"' + port + '\" is connected to an undefined source node \"' + portDef.process + '\"');\n            }\n          });\n        }\n        // Ensure all edges have nodes defined\n        if (graph.connections) {\n          graph.connections.forEach(function (edge) {\n            if (edge.tgt && !graph.processes[edge.tgt.process]) {\n              if (edge.data) {\n                throw new Error('IIP containing \"' + edge.data + '\" is connected to an undefined target node \"' + edge.tgt.process + '\"');\n              }\n              throw new Error('Edge from \"' + edge.src.process + '\" port \"' + edge.src.port + '\" is connected to an undefined target node \"' + edge.tgt.process + '\"');\n            }\n            if (edge.src && !graph.processes[edge.src.process]) {\n              throw new Error('Edge to \"' + edge.tgt.process + '\" port \"' + edge.tgt.port + '\" is connected to an undefined source node \"' + edge.src.process + '\"');\n            }\n          });\n        }\n      };\n\n      parser.addNode = function (nodeName, comp) {\n        if (!nodes[nodeName]) {\n          nodes[nodeName] = {}\n        }\n        if (!!comp.comp) {\n          nodes[nodeName].component = comp.comp;\n        }\n        if (!!comp.meta) {\n          var metadata = {};\n          for (var i = 0; i < comp.meta.length; i++) {\n            var item = comp.meta[i].split('=');\n            if (item.length === 1) {\n              item = ['routes', item[0]];\n            }\n            var key = item[0];\n            var value = item[1];\n            if (key==='x' || key==='y') {\n              value = parseFloat(value);\n            }\n            metadata[key] = value;\n          }\n          nodes[nodeName].metadata=metadata;\n        }\n\n      }\n\n      var anonymousIndexes = {};\n      var anonymousNodeNames = {};\n      parser.addAnonymousNode = function(comp, offset) {\n          if (!anonymousNodeNames[offset]) {\n              var componentName = comp.comp.replace(/[^a-zA-Z0-9]+/, \"_\");\n              anonymousIndexes[componentName] = (anonymousIndexes[componentName] || 0) + 1;\n              anonymousNodeNames[offset] = \"_\" + componentName + \"_\" + anonymousIndexes[componentName];\n              this.addNode(anonymousNodeNames[offset], comp);\n          }\n          return anonymousNodeNames[offset];\n      }\n\n      parser.getResult = function () {\n        var result = {\n          inports: parser.inports || {},\n          outports: parser.outports || {},\n          groups: parser.groups || [],\n          processes: nodes || {},\n          connections: parser.processEdges()\n        };\n\n        if (parser.properties) {\n          result.properties = parser.properties;\n        }\n        result.caseSensitive = options.caseSensitive || false;\n\n        var validateSchema = parser.validateSchema; // default\n        if (typeof(options.validateSchema) !== 'undefined') { validateSchema = options.validateSchema; } // explicit option\n        if (validateSchema) {\n          if (typeof(tv4) === 'undefined') {\n            var tv4 = require(\"tv4\");\n          }\n          var schema = require(\"../schema/graph.json\");\n          var validation = tv4.validateMultiple(result, schema);\n          if (!validation.valid) {\n            throw new Error(\"fbp: Did not validate againt graph schema:\\n\" + JSON.stringify(validation.errors, null, 2));\n          }\n        }\n\n        if (typeof options.validateContents === 'undefined' || options.validateContents) {\n          parser.validateContents(result);\n        }\n\n        return result;\n      }\n\n      var flatten = function (array, isShallow) {\n        var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n        while (++index < length) {\n          var value = array[index];\n\n          if (value instanceof Array) {\n            Array.prototype.push.apply(result, isShallow ? value : flatten(value));\n          }\n          else {\n            result.push(value);\n          }\n        }\n        return result;\n      }\n\n      parser.registerAnnotation = function (key, value) {\n        if (!parser.properties) {\n          parser.properties = {};\n        }\n\n        if (key === 'runtime') {\n          parser.properties.environment = {};\n          parser.properties.environment.type = value;\n          return;\n        }\n\n        parser.properties[key] = value;\n      };\n\n      parser.registerInports = function (node, port, pub) {\n        if (!parser.inports) {\n          parser.inports = {};\n        }\n\n        if (!options.caseSensitive) {\n          pub = pub.toLowerCase();\n          port = port.toLowerCase();\n        }\n\n        parser.inports[pub] = {process:node, port:port};\n      }\n      parser.registerOutports = function (node, port, pub) {\n        if (!parser.outports) {\n          parser.outports = {};\n        }\n\n        if (!options.caseSensitive) {\n          pub = pub.toLowerCase();\n          port = port.toLowerCase();\n        }\n\n        parser.outports[pub] = {process:node, port:port};\n      }\n\n      parser.registerEdges = function (edges) {\n        if (Array.isArray(edges)) {\n          edges.forEach(function (o, i) {\n            parser.edges.push(o);\n          });\n        }\n      }\n\n      parser.processEdges = function () {\n        var flats, grouped;\n        flats = flatten(parser.edges);\n        grouped = [];\n        var current = {};\n        for (var i = 1; i < flats.length; i += 1) {\n            // skip over default ports at the beginning of lines (could also handle this in grammar)\n            if ((\"src\" in flats[i - 1] || \"data\" in flats[i - 1]) && \"tgt\" in flats[i]) {\n                flats[i - 1].tgt = flats[i].tgt;\n                grouped.push(flats[i - 1]);\n                i++;\n            }\n        }\n        return grouped;\n      }\n\n      function makeName(s) {\n        return s[0] + s[1].join(\"\");\n      }\n\n      function makePort(process, port, defaultPort) {\n        if (!options.caseSensitive) {\n          defaultPort = defaultPort.toLowerCase()\n        }\n        var p = {\n            process: process,\n            port: port ? port.port : defaultPort\n        };\n        if (port && port.index != null) {\n            p.index = port.index;\n        }\n        return p;\n    }\n\n      function makeInPort(process, port) {\n          return makePort(process, port, defaultInPort);\n      }\n      function makeOutPort(process, port) {\n          return makePort(process, port, defaultOutPort);\n      }\n\n\n    peg$result = peg$startRuleFunction();\n\n    if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n      return peg$result;\n    } else {\n      if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n        peg$fail({ type: \"end\", description: \"end of input\" });\n      }\n\n      throw peg$buildException(\n        null,\n        peg$maxFailExpected,\n        peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n        peg$maxFailPos < input.length\n          ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n          : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n      );\n    }\n  }\n\n  return {\n    SyntaxError: peg$SyntaxError,\n    parse:       peg$parse\n  };\n})();","var indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nmodule.exports = function serialize(graph, options) {\n  var conn, getInOutName, getName, i, inPort, input, len, name, namedComponents, outPort, output, process, ref, ref1, ref2, src, srcName, srcPort, srcProcess, tgt, tgtName, tgtPort, tgtProcess;\n  if (options == null) {\n    options = {};\n  }\n  if (typeof(graph) === 'string') {\n    input = JSON.parse(graph);\n  } else {\n    input = graph;\n  }\n  namedComponents = [];\n  output = \"\";\n  getName = function(name) {\n    if (input.processes[name].metadata != null) {\n      name = input.processes[name].metadata.label;\n    }\n    if (name.indexOf('/') > -1) {\n      name = name.split('/').pop();\n    }\n    return name;\n  };\n  getInOutName = function(name, data) {\n    if ((data.process != null) && (input.processes[data.process].metadata != null)) {\n      name = input.processes[data.process].metadata.label;\n    } else if (data.process != null) {\n      name = data.process;\n    }\n    if (name.indexOf('/') > -1) {\n      name = name.split('/').pop();\n    }\n    return name;\n  };\n  if (input.properties) {\n    if (input.properties.environment && input.properties.environment.type) {\n      output += \"# @runtime \" + input.properties.environment.type + \"\\n\";\n    }\n    Object.keys(input.properties).forEach(function (prop) {\n      if (!prop.match(/^[a-zA-Z0-9\\-_]+$/)) {\n        return;\n      }\n      var propval = input.properties[prop];\n      if (typeof propval !== 'string') {\n        return;\n      }\n      if (!propval.match(/^[a-zA-Z0-9\\-_\\s\\.]+$/)) {\n        return;\n      }\n      output += \"# @\" + prop + \" \" + propval + '\\n';\n    });\n  }\n  ref = input.inports;\n  for (name in ref) {\n    inPort = ref[name];\n    process = getInOutName(name, inPort);\n    name = input.caseSensitive ? name : name.toUpperCase();\n    inPort.port = input.caseSensitive ? inPort.port : inPort.port.toUpperCase();\n    output += \"INPORT=\" + process + \".\" + inPort.port + \":\" + name + \"\\n\";\n  }\n  ref1 = input.outports;\n  for (name in ref1) {\n    outPort = ref1[name];\n    process = getInOutName(name, outPort);\n    name = input.caseSensitive ? name : name.toUpperCase();\n    outPort.port = input.caseSensitive ? outPort.port : outPort.port.toUpperCase();\n    output += \"OUTPORT=\" + process + \".\" + outPort.port + \":\" + name + \"\\n\";\n  }\n  output += \"\\n\";\n  ref2 = input.connections;\n  for (i = 0, len = ref2.length; i < len; i++) {\n    conn = ref2[i];\n    if (conn.data != null) {\n      tgtPort = input.caseSensitive ? conn.tgt.port : conn.tgt.port.toUpperCase();\n      tgtName = conn.tgt.process;\n      tgtProcess = input.processes[tgtName].component;\n      tgt = getName(tgtName);\n      if (indexOf.call(namedComponents, tgtProcess) < 0) {\n        tgt += \"(\" + tgtProcess + \")\";\n        namedComponents.push(tgtProcess);\n      }\n      output += '\"' + conn.data + '\"' + (\" -> \" + tgtPort + \" \" + tgt + \"\\n\");\n    } else {\n      srcPort = input.caseSensitive ? conn.src.port : conn.src.port.toUpperCase();\n      srcName = conn.src.process;\n      srcProcess = input.processes[srcName].component;\n      src = getName(srcName);\n      if (indexOf.call(namedComponents, srcProcess) < 0) {\n        src += \"(\" + srcProcess + \")\";\n        namedComponents.push(srcProcess);\n      }\n      tgtPort = input.caseSensitive ? conn.tgt.port : conn.tgt.port.toUpperCase();\n      tgtName = conn.tgt.process;\n      tgtProcess = input.processes[tgtName].component;\n      tgt = getName(tgtName);\n      if (indexOf.call(namedComponents, tgtProcess) < 0) {\n        tgt += \"(\" + tgtProcess + \")\";\n        namedComponents.push(tgtProcess);\n      }\n      output += src + \" \" + srcPort + \" -> \" + tgtPort + \" \" + tgt + \"\\n\";\n    }\n  }\n  return output;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Graph = exports.Journal = exports.graph = exports.journal = void 0;\nconst journal = require(\"./Journal\");\nexports.journal = journal;\nconst graph = require(\"./Graph\");\nexports.graph = graph;\nvar Journal_1 = require(\"./Journal\");\nObject.defineProperty(exports, \"Journal\", { enumerable: true, get: function () { return Journal_1.Journal; } });\nvar Graph_1 = require(\"./Graph\");\nObject.defineProperty(exports, \"Graph\", { enumerable: true, get: function () { return Graph_1.Graph; } });\n//# sourceMappingURL=index.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","var clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","var parser = require('./fbp');\nvar serialize = require('./serialize');\n\nmodule.exports = {\n  SyntaxError: parser.SyntaxError,\n  parse: parser.parse,\n  serialize: serialize,\n};\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}"],"sourceRoot":""}